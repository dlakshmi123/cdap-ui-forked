<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="robots" content="noindex, nofollow">

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="Cask Data, Inc" name="author" />
<meta content="Release notes for the Cask Data Application Platform" name="description" />
<meta content="Copyright © 2014-2016 Cask Data, Inc." name="copyright" />

    
    
    <meta name="git_release" content="3.4.3">
    <meta name="git_hash" content="687785ab5647ce93ed5077fef6ced9ee059bad6a">
    <meta name="git_timestamp" content="2016-06-30 17:45:25 -0700">
    <title>Cask Data Application Platform Release Notes &mdash; Cask Data Application Platform 3.4.3 Documentation</title>
    
    <link rel="stylesheet" href="_static/cdap.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />



        <link rel="stylesheet" href="_static/hide-nav.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.4.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/copy-to-clipboard.js"></script>
    <script type="text/javascript" src="_static/tabbed-parsed-literal.js"></script>
   
    <!-- Google Tag Manager start -->
    <script>dataLayer = [];</script>
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PBZ3JL"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PBZ3JL');</script>
    <!-- Google Tag Manager end -->
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Cask Data Application Platform 3.4.3 Documentation" href="index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">Index</a></li>
        
        <script type="text/javascript" src="_static/version-menu.js"></script>
        <script src="http://docs.cask.co/cdap/json-versions.js"/></script>
        <script>window.setVersion('3.4.3');</script>
       
        <li><a href="table-of-contents.html">CDAP Reference Manual</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="overview-release-notes"></span><div class="section" id="cask-data-application-platform-release-notes">
<span id="release-notes"></span><span id="index-0"></span><h1>Cask Data Application Platform Release Notes<a class="headerlink" href="#cask-data-application-platform-release-notes" title="Permalink to this headline">¶</a></h1>
<div class="contents faq local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#release-3-4-3" id="id64">Release 3.4.3</a><ul>
<li><a class="reference internal" href="#bug-fixes" id="id65">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-3-4-2" id="id66">Release 3.4.2</a><ul>
<li><a class="reference internal" href="#id1" id="id67">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-3-4-1" id="id68">Release 3.4.1</a><ul>
<li><a class="reference internal" href="#id2" id="id69">Bug Fixes</a></li>
<li><a class="reference internal" href="#known-issues" id="id70">Known Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-3-4-0" id="id71">Release 3.4.0</a><ul>
<li><a class="reference internal" href="#api-changes" id="id72">API Changes</a></li>
<li><a class="reference internal" href="#new-features" id="id73">New Features</a></li>
<li><a class="reference internal" href="#improvements" id="id74">Improvements</a></li>
<li><a class="reference internal" href="#id3" id="id75">Bug Fixes</a></li>
<li><a class="reference internal" href="#deprecated-and-removed-features" id="id76">Deprecated and Removed Features</a></li>
<li><a class="reference internal" href="#known-issues-340" id="id77">Known Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-3-3-3" id="id78">Release 3.3.3</a><ul>
<li><a class="reference internal" href="#bug-fix" id="id79">Bug Fix</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-3-3-2" id="id80">Release 3.3.2</a><ul>
<li><a class="reference internal" href="#id5" id="id81">Improvements</a></li>
<li><a class="reference internal" href="#id6" id="id82">Bug Fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-3-3-1" id="id83">Release 3.3.1</a><ul>
<li><a class="reference internal" href="#id7" id="id84">Improvements</a></li>
<li><a class="reference internal" href="#id8" id="id85">Bug Fixes</a></li>
<li><a class="reference internal" href="#id9" id="id86">Deprecated and Removed Features</a></li>
<li><a class="reference internal" href="#id10" id="id87">Known Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-3-3-0" id="id88">Release 3.3.0</a><ul>
<li><a class="reference internal" href="#id11" id="id89">New Features</a></li>
<li><a class="reference internal" href="#id12" id="id90">Improvements</a></li>
<li><a class="reference internal" href="#id13" id="id91">Bug Fixes</a></li>
<li><a class="reference internal" href="#id14" id="id92">Deprecated and Removed Features</a></li>
<li><a class="reference internal" href="#id15" id="id93">Known Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-3-2-1" id="id94">Release 3.2.1</a><ul>
<li><a class="reference internal" href="#id16" id="id95">New Features</a></li>
<li><a class="reference internal" href="#id17" id="id96">Improvements</a></li>
<li><a class="reference internal" href="#id18" id="id97">Bug Fixes</a></li>
<li><a class="reference internal" href="#id19" id="id98">Known Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-3-2-0" id="id99">Release 3.2.0</a><ul>
<li><a class="reference internal" href="#id20" id="id100">New Features</a></li>
<li><a class="reference internal" href="#id21" id="id101">Improvements</a></li>
<li><a class="reference internal" href="#id22" id="id102">Bug Fixes</a></li>
<li><a class="reference internal" href="#id23" id="id103">API Changes</a></li>
<li><a class="reference internal" href="#id24" id="id104">Deprecated and Removed Features</a></li>
<li><a class="reference internal" href="#id25" id="id105">Known Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-3-1-0" id="id106">Release 3.1.0</a><ul>
<li><a class="reference internal" href="#id26" id="id107">New Features</a></li>
<li><a class="reference internal" href="#id27" id="id108">Improvements</a></li>
<li><a class="reference internal" href="#id28" id="id109">Bug Fixes</a></li>
<li><a class="reference internal" href="#id29" id="id110">Deprecated and Removed Features</a></li>
<li><a class="reference internal" href="#known-issues-310" id="id111">Known Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-3-0-3" id="id112">Release 3.0.3</a><ul>
<li><a class="reference internal" href="#id31" id="id113">Bug Fix</a></li>
<li><a class="reference internal" href="#id32" id="id114">Known Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-3-0-2" id="id115">Release 3.0.2</a><ul>
<li><a class="reference internal" href="#id33" id="id116">Bug Fixes</a></li>
<li><a class="reference internal" href="#id34" id="id117">Known Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-3-0-1" id="id118">Release 3.0.1</a><ul>
<li><a class="reference internal" href="#id36" id="id119">New Features</a></li>
<li><a class="reference internal" href="#id37" id="id120">Improvements</a></li>
<li><a class="reference internal" href="#id38" id="id121">Bug Fixes</a></li>
<li><a class="reference internal" href="#known-issues-301" id="id122">Known Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-3-0-0" id="id123">Release 3.0.0</a><ul>
<li><a class="reference internal" href="#id40" id="id124">New Features</a></li>
<li><a class="reference internal" href="#new-user-interface" id="id125">New User Interface</a></li>
<li><a class="reference internal" href="#improvement" id="id126">Improvement</a></li>
<li><a class="reference internal" href="#id41" id="id127">Bug Fixes</a></li>
<li><a class="reference internal" href="#id42" id="id128">API Changes</a></li>
<li><a class="reference internal" href="#id43" id="id129">Deprecated and Removed Features</a></li>
<li><a class="reference internal" href="#known-issues-300" id="id130">Known Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-2-8-0" id="id131">Release 2.8.0</a><ul>
<li><a class="reference internal" href="#general" id="id132">General</a></li>
<li><a class="reference internal" href="#id45" id="id133">New Features</a></li>
<li><a class="reference internal" href="#id46" id="id134">Improvement</a></li>
<li><a class="reference internal" href="#id47" id="id135">API Changes</a></li>
<li><a class="reference internal" href="#known-issues-280" id="id136">Known Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-2-7-1" id="id137">Release 2.7.1</a><ul>
<li><a class="reference internal" href="#id49" id="id138">API Changes</a></li>
<li><a class="reference internal" href="#id50" id="id139">New Features</a></li>
<li><a class="reference internal" href="#known-issues-271" id="id140">Known Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-2-6-1" id="id141">Release 2.6.1</a><ul>
<li><a class="reference internal" href="#cdap-bug-fixes" id="id142">CDAP Bug Fixes</a></li>
<li><a class="reference internal" href="#known-issues-261" id="id143">Known Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-2-6-0" id="id144">Release 2.6.0</a><ul>
<li><a class="reference internal" href="#id53" id="id145">API Changes</a></li>
<li><a class="reference internal" href="#id54" id="id146">New Features</a></li>
<li><a class="reference internal" href="#id55" id="id147">CDAP Bug Fixes</a></li>
<li><a class="reference internal" href="#known-issues-260" id="id148">Known Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-2-5-2" id="id149">Release 2.5.2</a><ul>
<li><a class="reference internal" href="#id57" id="id150">CDAP Bug Fixes</a></li>
<li><a class="reference internal" href="#other-changes" id="id151">Other Changes</a></li>
<li><a class="reference internal" href="#id58" id="id152">Known Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-2-5-1" id="id153">Release 2.5.1</a><ul>
<li><a class="reference internal" href="#id59" id="id154">CDAP Bug Fixes</a></li>
<li><a class="reference internal" href="#id60" id="id155">Other Changes</a></li>
<li><a class="reference internal" href="#id61" id="id156">Known Issues</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-2-5-0" id="id157">Release 2.5.0</a><ul>
<li><a class="reference internal" href="#id62" id="id158">New Features</a></li>
<li><a class="reference internal" href="#major-cdap-bug-fixes" id="id159">Major CDAP Bug Fixes</a></li>
<li><a class="reference internal" href="#known-issues-250" id="id160">Known Issues</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="release-3-4-3">
<h2><a class="reference external" href="http://docs.cask.co/cdap/3.4.3/index.html">Release 3.4.3</a><a class="headerlink" href="#release-3-4-3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="bug-fixes">
<h3>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-6238">CDAP-6238</a> - Fixed an issue where configuration of
the FileSource was failing while setting the properties for the FileInputFormat.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-6255">CDAP-6255</a> - Fixed a bug in HDFSink where we now emit a
null character in a UTF-8 encoding if a field is null.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-6258">CDAP-6258</a> - HDFSSink can now be used alongside other
sinks in a Hydrator pipeline.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-6302">CDAP-6302</a> - Release 3.4.0 introduced an infinite-scroll
for the display of input and output schemas and the version (1.2.2) that we used of the infinite scroll
component had performance problems. We have downgraded the infinite scroll component we use to restore
the performance in Hydrator views.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-6311">CDAP-6311</a> - Fixed a bug that the program run record
was not correctly reflected in CDAP if the corresponding YARN application failed to start.</li>
</ul>
</div>
</div>
<div class="section" id="release-3-4-2">
<h2><a class="reference external" href="http://docs.cask.co/cdap/3.4.2/index.html">Release 3.4.2</a><a class="headerlink" href="#release-3-4-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Bug Fixes<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5998">CDAP-5998</a> - Fixed integrating navigator app in Tracker UI.
The POST body request that was sent while deploying navigator app was using an older deprecated property
(UI was using &#8216;metadataKafkaConfig&#8217; instead of &#8216;auditKafkaConfig&#8217;).
This should enable using navigator app in Tracker UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-6096">CDAP-6096</a> - Fixed an issue in cloning a Hydrator pipeline
which used to happen when a user navigate from CDAP to Hydrator to clone a pipeline in Hydrator UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-6109">CDAP-6109</a> - Fixed a NullPointerException issue in
Spark when saving RDD to PartitionedFileSet dataset.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-6041">CDAP-6041</a> - Fixed the Hydrator Hive batch source so that
it no longer throws a ClassNotFoundException.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-6044">CDAP-6044</a> - Fixed Hydrator CSVParser so that a nullable
field is only set to null if the parsed value is an empty string, and the field is not a string
or nullable string type.</li>
</ul>
</div>
</div>
<div class="section" id="release-3-4-1">
<h2><a class="reference external" href="http://docs.cask.co/cdap/3.4.1/index.html">Release 3.4.1</a><a class="headerlink" href="#release-3-4-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2">
<h3>Bug Fixes<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4388">CDAP-4388</a> - Fixed a race
condition bug in ResourceCoordinator that prevented performing partition
assignment in the correct order. It affects the metrics processor and
stream coordinator.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5855">CDAP-5855</a> - Avoid the
cancellation of delegation tokens upon completion of Explore-launched
MapReduce and Spark jobs, as these delegation tokens are shared by CDAP
system services.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5868">CDAP-5868</a> - Removed
&#8216;SNAPSHOT&#8217; from the artifact version of apps created by default by the CDAP UI.
This fixes deploying Cask Tracker and Navigator apps, enabling Cask Tracker
from the CDAP UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5884">CDAP-5884</a> - Fixed a bug
that caused SDK builds to fail when using 3.3.x versions of maven.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5887">CDAP-5887</a> - Fixed the
Hydrator upgrade tool to correctly write out pipeline configs that
failed to upgrade.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5889">CDAP-5889</a> - The CDAP
Standalone now deploys and starts the Cask Tracker app in the default
namespace if the Tracker artifact is present.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5898">CDAP-5898</a> - Shutdown
external processes started by CDAP (Zookeeper and Kafka) when there is
an error during either startup or shutdown of CDAP.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5907">CDAP-5907</a> - Fixed an
issue where parsing of an AVRO schema was failing when it included
optional fields such as &#8216;doc&#8217; or &#8216;default&#8217;.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5947">CDAP-5947</a> - Fixed a bug
in the BatchReadableRDD so that it won&#8217;t skip records when used by
DataFrame.</li>
</ul>
</div>
<div class="section" id="known-issues">
<h3>Known Issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>After upgrading CDAP from a pre-3.0 version, any unprocessed metrics data in Kafka will
be lost and <em>WARN</em> log messages will be logged that tell about the inability to process
old data in the old format.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-797">CDAP-797</a> -
When running secure Hadoop clusters, debug logs from MapReduce programs are not
available.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1007">CDAP-1007</a> -
If the Hive Metastore is restarted while the CDAP Explore Service is running, the
Explore Service remains alive, but becomes unusable. To correct, restart the CDAP Master—which will restart all services—as described under &#8220;Starting CDAP Services&#8221;
for your particular Hadoop distribution in the <a class="reference external" href="source/../../admin-manual/installation/index.html#installation-index" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">Installation documentation</span></a>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1587">CDAP-1587</a> -
CDAP internally creates tables in the &#8220;user&#8221; space that begin with the word
<code class="docutils literal"><span class="pre">&quot;system&quot;</span></code>. User datasets with names starting with <code class="docutils literal"><span class="pre">&quot;system&quot;</span></code> can conflict if they
were to match one of those names. To avoid this, do not start any datasets with the word
<code class="docutils literal"><span class="pre">&quot;system&quot;</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2632">CDAP-2632</a> -
The application in the <a class="reference external" href="https://github.com/cdap-guides/cdap-kafka-ingest-guide/tree/release/cdap-3.0-compatible">cdap-kafka-ingest-guide</a>
does not run on Ubuntu 14.x as of CDAP 3.0.x.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2721">CDAP-2721</a> -
Metrics for <a class="reference external" href="source/../../developers-manual/building-blocks/datasets/fileset.html#datasets-fileset" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">FileSets</span></a> can show zero values even if there is
data present, because FileSets do not emit metrics (<a class="reference external" href="https://issues.cask.co/browse/CDAP-587">CDAP-587</a>).</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2831">CDAP-2831</a> -
A workflow that is scheduled by time will not be run between the failure of the primary
master and the time that the secondary takes over. This scheduled run will not be
triggered at all.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2920">CDAP-2920</a> - Spark jobs on a
Kerberos-enabled CDAP cluster cannot run longer than the delegation token expiration.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2945">CDAP-2945</a> -
If the input partition filter for a PartitionedFileSet does not match any partitions,
MapReduce jobs can fail.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3000">CDAP-3000</a> -
The Workflow token is in an inconsistent state for nodes in a fork while the nodes of
the fork are still running. It becomes consistent after the join.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3221">CDAP-3221</a> -
When running in CDAP Standalone mode, if a MapReduce job fails repeatedly, then the SDK
hits an out-of-memory exception due to <code class="docutils literal"><span class="pre">perm</span> <span class="pre">gen</span></code>. The Standalone needs restarting at
this point.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3262">CDAP-3262</a> -
For Microsoft Windows, the CDAP Standalone scripts can fail when used with a JAVA_HOME
that is defined as a path with spaces in it. A workaround is to use a definition of
JAVA_HOME that does not include spaces, such as <code class="docutils literal"><span class="pre">C:\PROGRA~1\Java\jdk1.7.0_79\bin</span></code> or
<code class="docutils literal"><span class="pre">C:\ProgramData\Oracle\Java\javapath</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3492">CDAP-3492</a> -
In the CDAP CLI, executing <code class="docutils literal"><span class="pre">select</span> <span class="pre">*</span></code> from a dataset with many fields generates an error.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3641">CDAP-3641</a> -
A RESTful API call to retrieve workflow statistics hangs if units (such as &#8220;s&#8221; for
seconds) are not provided as part of the query.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3750">CDAP-3750</a> -
If a table schema contains a field name that is a reserved word in the Hive DDL, <code class="docutils literal"><span class="pre">'enable</span> <span class="pre">explore'</span></code> fails.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5900">CDAP-5900</a> - During the
upgrade to CDAP 3.4.1, publishing to Kafka is halted because the CDAP
Kafka service is not running. As a consequence, any applications that
sync to the CDAP metadata will become out-of-sync as changes to the
metadata made by the upgrade tool will not be published.</li>
</ul>
</div>
</div>
<div class="section" id="release-3-4-0">
<h2><a class="reference external" href="http://docs.cask.co/cdap/3.4.0/index.html">Release 3.4.0</a><a class="headerlink" href="#release-3-4-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="api-changes">
<h3>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5082">CDAP-5082</a> - Added a new Spark Java and Scala API.</li>
</ul>
</div>
<div class="section" id="new-features">
<h3>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-20">CDAP-20</a> - Removed dependency on the Guava
library from the <code class="docutils literal"><span class="pre">cdap-api</span></code> module. Applications are now free to use a Guava library
version of their choice.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3051">CDAP-3051</a> - Added capability for programs to
perform administrative dataset operations (create, update, truncate, drop).</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3854">CDAP-3854</a> - Added the capability to
configure Kafka topic for logs and notifications using the <code class="docutils literal"><span class="pre">cdap-site.xml</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3980">CDAP-3980</a> - MapReduce programs submitted via CDAP
now support multiple configured inputs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4807">CDAP-4807</a> - Added an ODBC 3.0 Driver for
CDAP Datasets for Windows-based applications that support an ODBC interface.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4970">CDAP-4970</a> - Added capability to fetch the
schema from a JDBC source specified for a Database plugin from inside Cask Hydrator.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5011">CDAP-5011</a> - Added a CDAP extension <em>Cask Tracker</em>:
data discovery with metadata, audit, and lineage.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5146">CDAP-5146</a> - Added a new Cask Hydrator
<code class="docutils literal"><span class="pre">batchaggregator</span></code> plugin type. An aggregator operates on a collection of records,
grouping them by a key and performing an aggregation on each group.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5172">CDAP-5172</a> - Added support for
authorization extensions in CDAP. Extensions extend an <code class="docutils literal"><span class="pre">Authorizer</span></code> class and provide a
bundle jar containing all their required dependencies. This jar is then specified using
the property <code class="docutils literal"><span class="pre">security.authorization.extension.jar.path</span></code> in the <code class="docutils literal"><span class="pre">cdap-site.xml</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5191">CDAP-5191</a> - Added an <code class="docutils literal"><span class="pre">FTPBatchSource</span></code>
that can fetch data from an FTP server in a batch pipeline of Cask Hydrator.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5205">CDAP-5205</a> - Added a global search across
all CDAP entities in the CDAP UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5274">CDAP-5274</a> - The Cask Hydrator Studio now
includes the capability to configure a new type of pipeline, a &#8220;data pipeline&#8221; (beta
feature).</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5360">CDAP-5360</a> - The CDAP UI now supports
<code class="docutils literal"><span class="pre">Sparksink</span></code> and <code class="docutils literal"><span class="pre">Sparkcompute</span></code> plugin types, included in a new &#8220;data pipeline&#8221;
artifact.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5361">CDAP-5361</a> - Added a <code class="docutils literal"><span class="pre">SparkTransform</span></code>
plugin type, which allows the running of a Spark job that operates as a transform in an ETL
batch pipeline.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5362">CDAP-5362</a> - Added a <code class="docutils literal"><span class="pre">SparkSink</span></code> plugin
type, which allows the running of a Spark job (such as machine learning) on the output of
an ETL batch pipeline.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5392">CDAP-5392</a> - Added support for
<code class="docutils literal"><span class="pre">FormatSpecification</span></code> in Spark when consuming data from a stream.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5446">CDAP-5446</a> - Added an example application
demonstrating the use of Spark Streaming with machine-learning and spam classifying.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5504">CDAP-5504</a> - Added experimental support for
using Spark as an execution engine for CDAP Explore.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5707">CDAP-5707</a> - Added support for using Tez as
an execution engine for CDAP Explore.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5846">CDAP-5846</a> - Bundled <a class="reference external" href="https://nodejs.org/">Node.js</a> with the CDAP UI RPM and DEB packages and with the CDAP Parcels.</li>
</ul>
</div>
<div class="section" id="improvements">
<h3>Improvements<a class="headerlink" href="#improvements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4071">CDAP-4071</a> - MapReduce programs can now be
configured to write metadata for each partition created using a <code class="docutils literal"><span class="pre">DynamicPartitioner</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4117">CDAP-4117</a> - Fixed an issue of not using
the correct user account to access HDFS when submitting a YARN application through
Apache Twill, which caused a cleanup failure (and a confusing error message) upon
application termination.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4644">CDAP-4644</a> - Workflow logs now contain logs
from all of the actions executed by a workflow.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4842">CDAP-4842</a> - Added a <code class="docutils literal"><span class="pre">hydrator-test</span></code>
module that contains mock plugins for unit testing Hydrator plugins.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4925">CDAP-4925</a> - Added to the CDAP test
framework the ability to delete applications and artifacts, retrieve application
information, update an application, and write and remove properties for artifacts.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4955">CDAP-4955</a> - Added a &#8216;postaction&#8217; Cask
Hydrator plugin type that runs at the end of a pipeline run, irregardless of whether the
run succeeded or failed.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5001">CDAP-5001</a> - Downloading an explore query
from the CDAP UI will now stream the results directly to the client.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5037">CDAP-5037</a> - Added a configuration property
to Cask Hydrator TimePartitionedFileSet (TPFS) sinks that will clean out data that is
older than a threshold amount of time.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5039">CDAP-5039</a> - Added runtime macros to
database and post-action Cask Hydrator plugins.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5042">CDAP-5042</a> - Added a <code class="docutils literal"><span class="pre">numSplits</span></code>
configuration property to Cask Hydrator database sources to allow users to configure how
many splits should be used for an import query.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5046">CDAP-5046</a> - The CDAP UI now allows a
plugin developer to use a &#8220;textarea&#8221; in node configurations for displaying a plugin
property.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5075">CDAP-5075</a> - Programs now have a
<code class="docutils literal"><span class="pre">logical.start.time</span></code> runtime argument that is populated by the system to be the start
time of the program. The argument can be overridden just as other runtime arguments.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5082">CDAP-5082</a> - Added support for Spark
streaming (to interact with the transactional datasets in CDAP), and support for
concurrent Spark execution through Workflow forking.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5178">CDAP-5178</a> - Changed the format of the Cask
Hydrator configuration. All pipeline stages are now together in a &#8220;stages&#8221; array instead
of being broken up into separate &#8220;source&#8221;, &#8220;transforms&#8221;, and &#8220;sinks&#8221; arrays.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5181">CDAP-5181</a> - Added an HTTP RESTful endpoint
to retrieve the state of all nodes in a workflow.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5182">CDAP-5182</a> - Added an API to retrieve the
properties that were used to configure (or reconfigure) a dataset.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5207">CDAP-5207</a> - Removed dependency on Guava
from the <code class="docutils literal"><span class="pre">cdap-proto</span></code> module.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5228">CDAP-5228</a> - Added support for CDH 5.7.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5330">CDAP-5330</a> - The stream creation endpoint
now accepts a stream configuration (with TTL, description, format specification, and
notification threshold).</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5376">CDAP-5376</a> - Added an API for MapReduce to
retrieve information about the enclosing workflow, including its run ID.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5378">CDAP-5378</a> - Added access to workflow
information in a Spark program when it is executed inside a workflow.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5424">CDAP-5424</a> - Added the ability to track the
lineage of external sources and sinks in a Cask Hydrator pipeline.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5512">CDAP-5512</a> - Extended the workflow APIs to
allow the use of plugins.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5664">CDAP-5664</a> - Introduced a <code class="docutils literal"><span class="pre">referenceName</span></code>
property (used for lineage and annotation metadata) into all external sources and sinks.
This needs to be set before using any of these plugins.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5779">CDAP-5779</a> - Upgraded the Tephra version in
CDAP to 0.7.1.</li>
</ul>
</div>
<div class="section" id="id3">
<h3>Bug Fixes<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3498">CDAP-3498</a> - Upgraded CDAP to use
Apache Twill <code class="docutils literal"><span class="pre">0.7.0-incubating</span></code> with numerous new features, improvements, and bug
fixes. See the <a class="reference external" href="http://twill.incubator.apache.org/releases/0.7.0-incubating.html">Apache Twill release notes</a> for details.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3584">CDAP-3584</a> - Upon transaction rollback, a
<code class="docutils literal"><span class="pre">PartitionedFileSet</span></code> now rolls back the files for the partitions that were added and/or
removed in that transaction.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3749">CDAP-3749</a> - Fixed a bug with the database
plugins that required a password to be specified if the user was specified, even if the
password was empty.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4060">CDAP-4060</a> - Added the status for custom
actions in workflow diagrams.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4143">CDAP-4143</a> - Fixed a problem with the
database source where a semicolon at the end of the query would cause an error.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4692">CDAP-4692</a> - The CDAP UI now prevents users
from accidentally losing their DAG by showing a browser-native popup for a confirmation
before navigating away from the Cask Hydrator Studio view.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4695">CDAP-4695</a> - Fixed an issue in the Windows
CDAP SDK where streams could not be deleted.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4735">CDAP-4735</a> - Fixed an issue that made Java
extensions unavailable to programs, fixing the JavaScript-based Hydrator transforms under Java 8.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4908">CDAP-4908</a> - Removed <code class="docutils literal"><span class="pre">tableName</span></code> as a
required setting from database sources, since the <code class="docutils literal"><span class="pre">importQuery</span></code> is sufficient.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4921">CDAP-4921</a> - Renamed the Hydrator
<code class="docutils literal"><span class="pre">Teradata</span></code> batch source to <code class="docutils literal"><span class="pre">Database</span></code>. The previous <code class="docutils literal"><span class="pre">Database</span></code> source is no longer
supported.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4982">CDAP-4982</a> - Changed the Cask Hydrator
LogParser transform <code class="docutils literal"><span class="pre">logFormat</span></code> field from a textbox to a dropdown.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5041">CDAP-5041</a> - Changed several
<code class="docutils literal"><span class="pre">ExploreConnection</span></code> methods to be no-ops instead of throwing exceptions.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5062">CDAP-5062</a> - Added a <code class="docutils literal"><span class="pre">fetch.size</span></code>
connection setting to the JDBC driver to control the number of rows fetched per database
cursor, and increased the default fetch size from 50 to 1000.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5092">CDAP-5092</a> - Fixed a problem that prevented
applications written in Scala from being deployed.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5103">CDAP-5103</a> - Fixed a problem so that when the
schema for a view was not explicitly specified, the view system metadata will include the
default schema for the specified format if that is available.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5131">CDAP-5131</a> - Fixed a problem when filtering
plugins by their extension plugin type; filtering by the extensions plugin type was
returning extra results for any plugins that did not have an extension.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5177">CDAP-5177</a> - Fixed a problem with
PartitionConsumer not appropriately handling partitions that had been deleted since they
were added to the working set.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5241">CDAP-5241</a> - Fixed a problem with metadata
for a dataset not being deleted when a dataset was deleted.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5267">CDAP-5267</a> - Fixed a problem with the
<code class="docutils literal"><span class="pre">PartitionFilter.ALWAYS_MATCH</span></code> not working as an input partition filter.
<code class="docutils literal"><span class="pre">PartitionFilter</span></code> is now serialized into one key of the runtime arguments, to support
serialization of <code class="docutils literal"><span class="pre">PartitionFilter.ALWAYS_MATCH</span></code>. If there are additional fields in the
<code class="docutils literal"><span class="pre">PartitionFilter</span></code> that do not exist in the partitioning, the filter will then never match.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5272">CDAP-5272</a> - Fixed a problem with a null
pointer exception when null values were written to a database sink in Cask Hydrator.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5280">CDAP-5280</a> - Corrected the documentation of
the Query HTTP RESTful API for the retrieving of the status of a query.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5297">CDAP-5297</a> - Fixed a problem with the CDAP
UI not supporting pipelines created using previous versions of Cask Hydrator. The UI now
shows appropriate information to upgrade the pipeline to be able to view it in the UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5417">CDAP-5417</a> - Fixed an issue with running
the CDAP examples in the CDAP SDK under Windows by setting appropriate memory requirements
in the <code class="docutils literal"><span class="pre">cdap.bat</span></code> start script.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5460">CDAP-5460</a> - Fixed a problem with the
workflow Spark programs status not being updated in the CDAP UI on the program list
screen when it is run as a part of Workflow.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5463">CDAP-5463</a> - Fixed an issue when changing
the number of instances of a worker or service.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5513">CDAP-5513</a> - Fixed a problem with the
update of metadata indexes so that search results reflect metadata updates correctly.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5550">CDAP-5550</a> - Fixed a problem with the
workflow statistics HTTP RESTful endpoint. The endpoint now has a default limit of 10 and
a default interval of 10 seconds.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5557">CDAP-5557</a> - Fixed a problem of not showing
an appropriate error message in the node configuration when the CDAP backend returns 404
for a plugin property.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5583">CDAP-5583</a> - Added the ability to support
multiple sources in the CDAP UI while constructing a pipeline.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5619">CDAP-5619</a> - Fixed a problem with the
import of a pipeline configuration. If the imported pipeline config doesn&#8217;t have
artifact information for a plugin, the CDAP UI now defaults to the latest artifact from
the list of artifacts sent by the backend.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5629">CDAP-5629</a> - Fixed a problem with losing
metadata after changing the stream format on a MapR cluster by avoiding the use of Hive
keywords in the CLF format field names; the &#8216;date&#8217; field was renamed to &#8216;request_time&#8217;.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5634">CDAP-5634</a> - Fixed a performance issue when
rendering/scrolling through large input or output schemas for a plugin in the CDAP UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5652">CDAP-5652</a> - Added command line interface
command to retrieve the workflow node states.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5793">CDAP-5793</a> - CDAP Explore jobs properly use
the latest/updated delegation tokens.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5844">CDAP-5844</a> - Fixed a problem with the
updating of the HDFS delegation token for HA mode.</li>
</ul>
</div>
<div class="section" id="deprecated-and-removed-features">
<h3>Deprecated and Removed Features<a class="headerlink" href="#deprecated-and-removed-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>See the <a class="reference internal" href="javadocs/index.html#javadocs"><span>CDAP 3.4.0 Javadocs</span></a> for a list of deprecated and removed APIs.</li>
<li>As of <em>CDAP v3.4.0</em>, <em>Metadata Update Notifications</em> have been deprecated, pending
removal in a later version. The <a class="reference external" href="source/../../developers-manual/building-blocks/audit-logging.html#audit-logging" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">CDAP Audit Notifications</span></a> contain
notifications for metadata changes. Please change all uses of <em>Metadata Update
Notifications</em> to consume only those messages from the audit feed that have the <code class="docutils literal"><span class="pre">type</span></code>
field set to <code class="docutils literal"><span class="pre">METADATA_CHANGE</span></code>.</li>
</ul>
</div>
<div class="section" id="known-issues-340">
<span id="id4"></span><h3>Known Issues<a class="headerlink" href="#known-issues-340" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>After upgrading CDAP from a pre-3.0 version, any unprocessed metrics data in Kafka will
be lost and <em>WARN</em> log messages will be logged that tell about the inability to process
old data in the old format.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-797">CDAP-797</a> -
When running secure Hadoop clusters, debug logs from MapReduce programs are not
available.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1007">CDAP-1007</a> -
If the Hive Metastore is restarted while the CDAP Explore Service is running, the
Explore Service remains alive, but becomes unusable. To correct, restart the CDAP Master—which will restart all services—as described under &#8220;Starting CDAP Services&#8221;
for your particular Hadoop distribution in the <a class="reference external" href="source/../../admin-manual/installation/index.html#installation-index" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">Installation documentation</span></a>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1587">CDAP-1587</a> -
CDAP internally creates tables in the &#8220;user&#8221; space that begin with the word
<code class="docutils literal"><span class="pre">&quot;system&quot;</span></code>. User datasets with names starting with <code class="docutils literal"><span class="pre">&quot;system&quot;</span></code> can conflict if they
were to match one of those names. To avoid this, do not start any datasets with the word
<code class="docutils literal"><span class="pre">&quot;system&quot;</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2632">CDAP-2632</a> -
The application in the <a class="reference external" href="https://github.com/cdap-guides/cdap-kafka-ingest-guide/tree/release/cdap-3.0-compatible">cdap-kafka-ingest-guide</a>
does not run on Ubuntu 14.x as of CDAP 3.0.x.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2721">CDAP-2721</a> -
Metrics for <a class="reference external" href="source/../../developers-manual/building-blocks/datasets/fileset.html#datasets-fileset" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">FileSets</span></a> can show zero values even if there is
data present, because FileSets do not emit metrics (<a class="reference external" href="https://issues.cask.co/browse/CDAP-587">CDAP-587</a>).</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2831">CDAP-2831</a> -
A workflow that is scheduled by time will not be run between the failure of the primary
master and the time that the secondary takes over. This scheduled run will not be
triggered at all.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2920">CDAP-2920</a> - Spark jobs on a
Kerberos-enabled CDAP cluster cannot run longer than the delegation token expiration.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2945">CDAP-2945</a> -
If the input partition filter for a PartitionedFileSet does not match any partitions,
MapReduce jobs can fail.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3000">CDAP-3000</a> -
The Workflow token is in an inconsistent state for nodes in a fork while the nodes of
the fork are still running. It becomes consistent after the join.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3221">CDAP-3221</a> -
When running in CDAP Standalone mode, if a MapReduce job fails repeatedly, then the SDK
hits an out-of-memory exception due to <code class="docutils literal"><span class="pre">perm</span> <span class="pre">gen</span></code>. The Standalone needs restarting at
this point.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3262">CDAP-3262</a> -
For Microsoft Windows, the CDAP Standalone scripts can fail when used with a JAVA_HOME
that is defined as a path with spaces in it. A workaround is to use a definition of
JAVA_HOME that does not include spaces, such as <code class="docutils literal"><span class="pre">C:\PROGRA~1\Java\jdk1.7.0_79\bin</span></code> or
<code class="docutils literal"><span class="pre">C:\ProgramData\Oracle\Java\javapath</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3492">CDAP-3492</a> -
In the CDAP CLI, executing <code class="docutils literal"><span class="pre">select</span> <span class="pre">*</span></code> from a dataset with many fields generates an error.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3641">CDAP-3641</a> -
A RESTful API call to retrieve workflow statistics hangs if units (such as &#8220;s&#8221; for
seconds) are not provided as part of the query.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3750">CDAP-3750</a> -
If a table schema contains a field name that is a reserved word in the Hive DDL, <code class="docutils literal"><span class="pre">'enable</span> <span class="pre">explore'</span></code> fails.</li>
</ul>
</div>
</div>
<div class="section" id="release-3-3-3">
<h2><a class="reference external" href="http://docs.cask.co/cdap/3.3.3/index.html">Release 3.3.3</a><a class="headerlink" href="#release-3-3-3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="bug-fix">
<h3>Bug Fix<a class="headerlink" href="#bug-fix" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5350">CDAP-5350</a> - Fixed an issue that prevented
MapReduce programs from running on clusters with encryption.</li>
</ul>
</div>
</div>
<div class="section" id="release-3-3-2">
<h2><a class="reference external" href="http://docs.cask.co/cdap/3.3.2/index.html">Release 3.3.2</a><a class="headerlink" href="#release-3-3-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id5">
<h3>Improvements<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5047">CDAP-5047</a> - Added a <a class="reference external" href="source/../../cdap-apps/hydrator/hydrator-plugins/batchsources/index.html#cdap-apps-etl-plugins-batchsources" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">Batch Source
Plugin</span></a> to read from Microsoft Azure Blob Storage.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5134">CDAP-5134</a> - Added support for CDH 5.6 to CDAP.</li>
</ul>
</div>
<div class="section" id="id6">
<h3>Bug Fixes<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4967">CDAP-4967</a> - Fixed a schema-parsing bug
that prevented the use of schemas where a record is used both as a top-level field and
also used inside a different record field.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5019">CDAP-5019</a> - Worked around two issues
(<a class="reference external" href="https://issues.apache.org/jira/browse/SPARK-13441">SPARK-13441</a>
and <a class="reference external" href="https://issues.apache.org/jira/browse/YARN-4727">YARN-4727</a>) that prevented
launching Spark jobs on Cloudera Data Hub clusters managed with Cloudera Manager
when using Spark 1.4 or greater.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5063">CDAP-5063</a> - Fixed a problem with
the CDAP Master not starting when CDAP and the HiveServer2 services are running on the
same node in an Ambari cluster.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5076">CDAP-5076</a> - Fixed a problem with the CDAP
CLI command &#8220;update app&#8221; that was parsing the application config incorrectly.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5094">CDAP-5094</a> - Fixed a problem where the explore
schema fileset property was being ignored unless an explore format was also present.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-5137">CDAP-5137</a> - Fix a problem with Spark jobs
not being submitted to the appropriate YARN scheduler queue set for the namespace.</li>
</ul>
</div>
</div>
<div class="section" id="release-3-3-1">
<h2><a class="reference external" href="http://docs.cask.co/cdap/3.3.1/index.html">Release 3.3.1</a><a class="headerlink" href="#release-3-3-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id7">
<h3>Improvements<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4602">CDAP-4602</a> - Updated CDAP to use
Tephra 0.6.5.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4708">CDAP-4708</a> - Added system metadata to
existing entities.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4723">CDAP-4723</a> - Improved the Hydrator plugin
archetypes to include build steps to build the deployment JSON for the artifact.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4773">CDAP-4773</a> - Improved the error logging for
the Master Stream service when it can&#8217;t connect to the CDAP AppFabric server.</li>
</ul>
</div>
<div class="section" id="id8">
<h3>Bug Fixes<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4117">CDAP-4117</a> - Fixed an issue of not using
the correct user to access HDFS when submitting a YARN application through Apache Twill,
which caused cleanup failure on application termination.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4613">CDAP-4613</a> - Fixed a problem with tooltips
not appearing in Flow and Workflow diagrams displayed in the Firefox browser.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4679">CDAP-4679</a> - The Hydrator UI now prevents
drafts from being created with a name of an already-existing draft. This prevents
overwriting of existing drafts.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4688">CDAP-4688</a> - Improved the metadata search
to return matching entities from both the specified namespace and the system namespace.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4689">CDAP-4689</a> - Fixed a problem when using an
Hbase sink as one of multiple sinks in a Hydrator pipeline.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4720">CDAP-4720</a> - Fixed an issue where system
metadata updates were not being published to Kafka.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4721">CDAP-4721</a> - Fixed an issue where metadata
updates wouldn&#8217;t be sent when certain entities were deleted.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4740">CDAP-4740</a> - Added validation to the JSON
imported in the Hydrator UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4741">CDAP-4741</a> - Fixed a bug with deleting
artifact metadata when an artifact was deleted.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4743">CDAP-4743</a> - Fixed the Node.js server proxy
to handle all backend errors (with and without statusCodes).</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4745">CDAP-4745</a> - Fixed a bug in the Hydrator
upgrade tool which caused drafts to not get upgraded.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4753">CDAP-4753</a> - Fixed the Hydrator Stream
source to not assume an output schema. This is valid when a pipeline is created outside
Hydrator UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4754">CDAP-4754</a> - Fixed ObjectStore to work when
parameterized with custom classes.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4767">CDAP-4767</a> - Fixed an issue where delegation token
cancellation of CDAP program was affecting CDAP master services.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4770">CDAP-4770</a> - Fixed the Cask Hydrator UI to
automatically reconnect with the CDAP backend when the backend restarts.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4771">CDAP-4771</a> - Fixed an issue in Cloudera
Manager installations where CDAP container logs would go to the stdout file instead of the
master log.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4784">CDAP-4784</a> - Fixed an issue where the
IndexedTable was dropping indices upon row updates.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4785">CDAP-4785</a> - Fixed a problem in the upgrade
tool where deleted datasets would cause it to throw a NullPointerException.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4790">CDAP-4790</a> - Fixed an issue where the Hbase
implementation of the Table API returned all rows, when the correct response should have
been an empty set of columns.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4800">CDAP-4800</a> - Fixed a problem with the error
message returned when loading an artifact with an invalid range.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4806">CDAP-4806</a> - Fixed the PartitionedFileSet&#8217;s
DynamicPartitioner to work with Avro OutputFormats.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4829">CDAP-4829</a> - Fixed a Validator Transform
function generator in the Hydrator UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4831">CDAP-4831</a> - Allows user-scoped plugins to
surface the correct widget JSON in the Hydrator UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4832">CDAP-4832</a> - Added the ErrorDataset as an
option on widget JSON in Hydrator plugins.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4836">CDAP-4836</a> - Fixed a spacing issue for
metrics showing in Pipeline diagrams of the Hydrator UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4853">CDAP-4853</a> - Fixed issues with the Hydrator
UI widgets for the Hydrator Kafka real-time source, JMS real-time source, and CloneRecord
transform.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4865">CDAP-4865</a> - Enhanced the CDAP SDK to be
able to publish metadata updates to an external Kafka, identified by the configuration
property <code class="docutils literal"><span class="pre">metadata.updates.kafka.broker.list</span></code>. Publishing can be enabled by setting
<code class="docutils literal"><span class="pre">metadata.updates.publish.enabled</span></code> to true. Updates are published to the Kafka topic
identified by the property <code class="docutils literal"><span class="pre">metadata.updates.kafka.topic</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4877">CDAP-4877</a> - Fixed errors in Cask Hydrator
Plugins. Two plugin documents (<code class="docutils literal"><span class="pre">core-plugins/docs/Database-batchsink.md</span></code> and
<code class="docutils literal"><span class="pre">core-plugins/docs/Database-batchsource.md</span></code>) were removed, as the plugins have been moved
from <em>core-plugins</em> to <em>database-plugins</em> (to <code class="docutils literal"><span class="pre">database-plugins/docs/Database-batchsink.md</span></code>
and <code class="docutils literal"><span class="pre">database-plugins/docs/Database-batchsource.md</span></code>).</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4889">CDAP-4889</a> - Fixed an issue with upgrading
HBase tables while using the CDAP Upgrade Tool.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4894">CDAP-4894</a> - Fixed an issue with CDAP
coprocessors that caused HBase tables to be disabled after upgrading the cluster to a
highly-available file system.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4906">CDAP-4906</a> - Fixed the CDAP Upgrade Tool to
return a non-zero exit status upon error during upgrade.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4924">CDAP-4924</a> - Fixed a PermGen memory leak
that occurred while deploying multiple applications with database plugins.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4927">CDAP-4927</a> - Fixed the CDAP Explore
Service JDBC driver to do nothing instead of throwing an exception when a commit is
called.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4950">CDAP-4950</a> - Added an <code class="docutils literal"><span class="pre">'enableAutoCommit'</span></code>
property to the Cask Hydrator database plugins to enable the use of JDBC drivers that,
similar to the Hive JDBC driver, do not allow commits.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4951">CDAP-4951</a> - Changed the upload timeout from the
CDAP CLI from 15 seconds to unlimited.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4975">CDAP-4975</a> - Pass ResourceManager delegation tokens
in the proper format in secure Hadoop HA clusters.</li>
</ul>
</div>
<div class="section" id="id9">
<h3>Deprecated and Removed Features<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>See the <a class="reference internal" href="javadocs/index.html#javadocs"><span>CDAP 3.3.1 Javadocs</span></a> for a list of deprecated and removed APIs.</li>
<li>The properties <code class="docutils literal"><span class="pre">router.ssl.webapp.bind.port</span></code>, <code class="docutils literal"><span class="pre">router.webapp.bind.port</span></code>,
<code class="docutils literal"><span class="pre">router.webapp.enabled</span></code> have been deprecated and will be removed in a future version.</li>
</ul>
</div>
<div class="section" id="id10">
<h3>Known Issues<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>After upgrading CDAP from a pre-3.0 version, any unprocessed metrics data in Kafka will
be lost and <em>WARN</em> log messages will be logged that tell about the inability to process
old data in the old format.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-797">CDAP-797</a> -
When running secure Hadoop clusters, debug logs from MapReduce programs are not
available.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1007">CDAP-1007</a> -
If the Hive Metastore is restarted while the CDAP Explore Service is running, the
Explore Service remains alive, but becomes unusable. To correct, restart the CDAP Master—which will restart all services—as described under &#8220;Starting CDAP Services&#8221;
for your particular Hadoop distribution in the <a class="reference external" href="source/../../admin-manual/installation/index.html#installation-index" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">Installation documentation</span></a>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1587">CDAP-1587</a> -
CDAP internally creates tables in the &#8220;user&#8221; space that begin with the word
<code class="docutils literal"><span class="pre">&quot;system&quot;</span></code>. User datasets with names starting with <code class="docutils literal"><span class="pre">&quot;system&quot;</span></code> can conflict if they
were to match one of those names. To avoid this, do not start any datasets with the word
<code class="docutils literal"><span class="pre">&quot;system&quot;</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2632">CDAP-2632</a> -
The application in the <a class="reference external" href="https://github.com/cdap-guides/cdap-kafka-ingest-guide/tree/release/cdap-3.0-compatible">cdap-kafka-ingest-guide</a>
does not run on Ubuntu 14.x as of CDAP 3.0.x.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2721">CDAP-2721</a> -
Metrics for <a class="reference external" href="source/../../developers-manual/building-blocks/datasets/fileset.html#datasets-fileset" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">FileSets</span></a> can show zero values even if there is
data present, because FileSets do not emit metrics (<cite>CDAP-587
&lt;https://issues.cask.co/browse/CDAP-587&gt;</cite>).</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2831">CDAP-2831</a> -
A workflow that is scheduled by time will not be run between the failure of the primary
master and the time that the secondary takes over. This scheduled run will not be
triggered at all.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2945">CDAP-2945</a> -
If the input partition filter for a PartitionedFileSet does not match any partitions,
MapReduce jobs can fail.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3000">CDAP-3000</a> -
The Workflow token is in an inconsistent state for nodes in a fork while the nodes of
the fork are still running. It becomes consistent after the join.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3221">CDAP-3221</a> -
When running in CDAP Standalone mode, if a MapReduce job fails repeatedly, then the SDK
hits an out-of-memory exception due to <code class="docutils literal"><span class="pre">perm</span> <span class="pre">gen</span></code>. The Standalone needs restarting at
this point.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3262">CDAP-3262</a> -
For Microsoft Windows, the CDAP Standalone scripts can fail when used with a JAVA_HOME
that is defined as a path with spaces in it. A workaround is to use a definition of
JAVA_HOME that does not include spaces, such as <code class="docutils literal"><span class="pre">C:\PROGRA~1\Java\jdk1.7.0_79\bin</span></code> or
<code class="docutils literal"><span class="pre">C:\ProgramData\Oracle\Java\javapath</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3492">CDAP-3492</a> -
In the CDAP CLI, executing <code class="docutils literal"><span class="pre">select</span> <span class="pre">*</span></code> from a dataset with many fields generates an error.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3641">CDAP-3641</a> -
A RESTful API call to retrieve workflow statistics hangs if units (such as &#8220;s&#8221; for
seconds) are not provided as part of the query.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3750">CDAP-3750</a> -
If a table schema contains a field name that is a reserved word in the Hive DDL, <code class="docutils literal"><span class="pre">'enable</span> <span class="pre">explore'</span></code> fails.</li>
</ul>
</div>
</div>
<div class="section" id="release-3-3-0">
<h2><a class="reference external" href="http://docs.cask.co/cdap/3.3.0/index.html">Release 3.3.0</a><a class="headerlink" href="#release-3-3-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id11">
<h3>New Features<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-961">CDAP-961</a> -
Added on demand (dynamic) dataset instantiation through program runtime context.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2303">CDAP-2303</a> -
Added lookup capability in context that can be used in existing Script, ScriptFilter and Validator transforms.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3514">CDAP-3514</a> -
Added an endpoint to get a count of active queries: <code class="docutils literal"><span class="pre">/v3/namespaces/&lt;namespace-id&gt;/data/explore/queries/count</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3857">CDAP-3857</a> -
Added experimental support for running ETL Batch applications on Spark. Introduced an &#8216;engine&#8217; setting in the
configuration that defaults to <code class="docutils literal"><span class="pre">'mapreduce'</span></code>, but can be set to <code class="docutils literal"><span class="pre">'spark'</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3944">CDAP-3944</a> -
Added support to PartitionConsumer for concurrency, plus a limit and filter on read.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3945">CDAP-3945</a> -
Added support for limiting the number of concurrent schedule runs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4016">CDAP-4016</a> -
Added Java-8 support for Script transforms.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4022">CDAP-4022</a> -
Added RESTful APIs to start or stop multiple programs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4023">CDAP-4023</a> -
Added CLI commands to stop, start, restart, or get status of programs in an application.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4043">CDAP-4043</a> -
Added support for ETL transforms written in Python.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4128">CDAP-4128</a> -
Added a new JavaScript transform that can emit records using an emitter.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4135">CDAP-4135</a> -
Added the capability for MapReduce and Spark programs to localize additional resources during setup.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4228">CDAP-4228</a> -
Added the ability to configure which artifact a Hydrator plugin should use.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4230">CDAP-4230</a> -
Added DAGs to ETL pipelines, which will allow users to fork and merge. ETLConfig has been
updated to allow representing a DAG.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4235">CDAP-4235</a> -
Added AuthorizationPlugin, for pluggable authorization.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4263">CDAP-4263</a> -
Added metadata support for stream views.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4270">CDAP-4270</a> -
Added CLI support for metadata and lineage.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4280">CDAP-4280</a> -
Added the ability to add metadata to artifacts.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4289">CDAP-4289</a> -
Added RESTful APIs to set and get properties for an artifact.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4264">CDAP-4264</a> -
Added support for automatically annotating CDAP entities with system metadata when they are created or updated.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4285">CDAP-4285</a> -
Added an authorization plugin that uses a system dataset to manage ACLs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4403">CDAP-4403</a> -
Moved Hydrator plugins from the CDAP repository as cdap-etl-lib into its own repository.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4591">CDAP-4591</a> -
Improved Metadata Indexing and Search to support searches on words in value and tags.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4592">CDAP-4592</a> -
Schema fields are stored as Metadata and are searchable.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4658">CDAP-4658</a> -
Added capability in CDAP UI to display system tags.</li>
</ul>
</div>
<div class="section" id="id12">
<h3>Improvements<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3079">CDAP-3079</a> -
Table datasets, and any other dataset that implements <code class="docutils literal"><span class="pre">RecordWritable&lt;StructuredRecord&gt;</span></code>,
can now be written to using Hive.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3887">CDAP-3887</a> -
The CDAP Router now has a configurable timeout for idle connections, with a default
timeout of 15 seconds.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4045">CDAP-4045</a> -
A new property master.collect.containers.log has been added to cdap-site.xml, which
determines if container logs are streamed back to the cdap-master process log. (This has
always been the default behavior). For MapR installations, this must be turned off (set
to false).</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4133">CDAP-4133</a> -
Added ability to retrieve the live-info for the AppFabric system service.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4209">CDAP-4209</a> -
Added a method to <code class="docutils literal"><span class="pre">ObjectMappedTable</span></code> and <code class="docutils literal"><span class="pre">ObjectStore</span></code> to retrieve a specific
number of splits between a start and end keys.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4233">CDAP-4233</a> -
Messages logged by Hydrator are now prefixed with the name of the stage that logged them.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4301">CDAP-4301</a> -
Added support for CDH5.5</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4392">CDAP-4392</a> -
Upgraded netty-http dependency in CDAP to 0.14.0.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4444">CDAP-4444</a> -
Make <code class="docutils literal"><span class="pre">xmllint</span></code> dependency optional and allow setting variables to skip configuration
file parsing.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4453">CDAP-4453</a> -
Added a schema validation—for sources, transforms, and sinks—that will
validate the pipeline stages schema during deployment, and report any issues.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4518">CDAP-4518</a> -
CDAP Master service will now log important configuration settings on startup.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4523">CDAP-4523</a> -
Added the config setting <code class="docutils literal"><span class="pre">master.startup.checks.enabled</span></code> to control whether CDAP
Master startup checks are run or not.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4536">CDAP-4536</a> -
Improved the installation experience by adding to the CDAP Master service checks of
pre-requisites such as file system permissions, availability of components such as YARN
and HBase, resource availability during startup, and to error out if any of the
pre-requisites fail.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4548">CDAP-4548</a> -
Added a config setting &#8216;master.collect.app.containers.log&#8217; that can be set to &#8216;false&#8217; to
disable streaming of application logs back to the CDAP Master log.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4598">CDAP-4598</a> -
Added an error message when a required field is not provided when configuring Hydrator
pipeline.</li>
</ul>
</div>
<div class="section" id="id13">
<h3>Bug Fixes<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1174">CDAP-1174</a> -
Prefix start script functions with <code class="docutils literal"><span class="pre">'cdap'</span></code> to prevent namespace collisions.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2470">CDAP-2470</a> -
Added a check to cause a DB (source or sink) pipeline to fail during deployment if the
table (source or sink) was not found, or if an incorrect connection string was provided.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3345">CDAP-3345</a> -
Fixed a bug where the TTL for datasets was incorrect; it was reduced by (a factor of
1000) after an upgrade. After running the upgrade tool, please make sure the TTL values
of tables are as expected.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3542">CDAP-3542</a> -
Fixed an issue where the failure of a program running in a workflow fork node was
causing other programs in the same fork node to remain in the RUNNING state, even after
the Workflow was completed.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3694">CDAP-3694</a> -
Fixed test failures in the PurchaseHistory, StreamConversion, and WikipediaPipeline
example apps included in the CDAP SDK.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3742">CDAP-3742</a> -
Fixed a bug where certain MapReduce metrics were not being properly emitted when using
multiple outputs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3761">CDAP-3761</a> -
Fixed a problem with DBSink column names not being used to filter input record fields
before writing to a DBSink.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3807">CDAP-3807</a> -
Added a fix for case sensitivity handling in DBSink.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3815">CDAP-3815</a> -
Fixed an issue where the regex filter for S3 Batch Source wasn&#8217;t getting applied correctly.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3861">CDAP-3861</a> -
Fixed an issue about stopping all dependent services when a service is stopped.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3900">CDAP-3900</a> -
Fixed a bug when querying for logs of deleted program runs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3902">CDAP-3902</a> -
Fixed a problem with dataset performance degradation because of making multiple remote
calls for each &#8220;get dataset&#8221; request.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3924">CDAP-3924</a> -
Fixed QueryClient to work against HTTPS.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4000">CDAP-4000</a> -
Fixed an issue where a stream that has a view could not be deleted cleanly.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4067">CDAP-4067</a> -
Fixed an issue where socket connections to the TransactionManager were not being closed.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4092">CDAP-4092</a> -
Fixes an issue that causes worker threads to go into an infinite recursion while
exceptions are being thrown in channel handlers.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4112">CDAP-4112</a> -
Fixed a bug that prevented applications from using HBase directly.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4119">CDAP-4119</a> -
Fixed a problem where when CDAP Master switched from active to standby, the programs
that were running were marked as failed.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4240">CDAP-4240</a> -
Fixed a problem in the CLI command used to load an artifact, where the wrong artifact name
and version was used if the artifact name ends with a number.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4294">CDAP-4294</a> -
Fixed a problem where plugins from another namespace were visible when creating an
application using a system artifact.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4316">CDAP-4316</a> -
Fixed a problem with the CLI attempting to connect to CDAP when the hostname and port
were incorrect.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4366">CDAP-4366</a> -
Improved error message when stream views were not found.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4393">CDAP-4393</a> -
Fixed an issue where tags search were failing for certain tags.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4141">CDAP-4141</a> -
Fixed node.js version checking for the <code class="docutils literal"><span class="pre">cdap.sh</span></code> script in the CDAP SDK.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4373">CDAP-4373</a> -
Fixed a problem that prevented MapReduce jobs from being run when the Resource Manager
switches from active to standby in a Kerberos-enabled HA cluster.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4384">CDAP-4384</a> -
Fixed an issue that prevents streams from being read in HA HDFS mode.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4526">CDAP-4526</a> -
Fixed init scripts to print service status when stopped.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4534">CDAP-4534</a> -
Added configuration &#8216;router.bypass.auth.regex&#8217; to exempt certain URLs from authentication.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4539">CDAP-4539</a> -
Fixed a problem in the init scripts that forced <code class="docutils literal"><span class="pre">cdap-kafka-server</span></code>, <code class="docutils literal"><span class="pre">cdap-router</span></code>,
and <code class="docutils literal"><span class="pre">cdap-auth-server</span></code> to have the Hive client installed.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4678">CDAP-4678</a> -
Fixed an issue where the logs and history list on a Hydrator pipeline view was not
updating on new runs.</li>
</ul>
</div>
<div class="section" id="id14">
<h3>Deprecated and Removed Features<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>See the <a class="reference internal" href="javadocs/index.html#javadocs"><span>CDAP 3.3.0 Javadocs</span></a> for a list of deprecated and removed APIs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2481">CDAP-2481</a> -
Removed a deprecated endpoint to retrieve the status of a currently running node in a workflow.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2943">CDAP-2943</a> -
Removed the deprecated builder-style Flow API.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4128">CDAP-4128</a> -
Deprecated the Script transform.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4217">CDAP-4217</a> -
Deprecated createDataSchedule and createTimeSchedule methods in Schedules class and removed
deprecated Schedule constructor.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-4251">CDAP-4251</a> -
Removed deprecated fluent style API for Flow configuration. The only supported API is now the configurer style.</li>
</ul>
</div>
<div class="section" id="id15">
<h3>Known Issues<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>After upgrading CDAP from a pre-3.0 version, any unprocessed metrics data in Kafka will
be lost and <em>WARN</em> log messages will be logged that tell about the inability to process
old data in the old format.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-797">CDAP-797</a> -
When running secure Hadoop clusters, debug logs from MapReduce programs are not
available.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1007">CDAP-1007</a> -
If the Hive Metastore is restarted while the CDAP Explore Service is running, the
Explore Service remains alive, but becomes unusable. To correct, restart the CDAP Master—which will restart all services—as described under &#8220;Starting CDAP Services&#8221;
for your particular Hadoop distribution in the <a class="reference external" href="source/../../admin-manual/installation/index.html#installation-index" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">Installation documentation</span></a>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1587">CDAP-1587</a> -
CDAP internally creates tables in the &#8220;user&#8221; space that begin with the word
<code class="docutils literal"><span class="pre">&quot;system&quot;</span></code>. User datasets with names starting with <code class="docutils literal"><span class="pre">&quot;system&quot;</span></code> can conflict if they
were to match one of those names. To avoid this, do not start any datasets with the word
<code class="docutils literal"><span class="pre">&quot;system&quot;</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2632">CDAP-2632</a> -
The application in the <a class="reference external" href="https://github.com/cdap-guides/cdap-kafka-ingest-guide/tree/release/cdap-3.0-compatible">cdap-kafka-ingest-guide</a>
does not run on Ubuntu 14.x as of CDAP 3.0.x.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2721">CDAP-2721</a> -
Metrics for <a class="reference external" href="source/../../developers-manual/building-blocks/datasets/fileset.html#datasets-fileset" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">FileSets</span></a> can show zero values even if there is
data present, because FileSets do not emit metrics (<cite>CDAP-587
&lt;https://issues.cask.co/browse/CDAP-587&gt;</cite>).</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2831">CDAP-2831</a> -
A workflow that is scheduled by time will not be run between the failure of the primary
master and the time that the secondary takes over. This scheduled run will not be
triggered at all.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2945">CDAP-2945</a> -
If the input partition filter for a PartitionedFileSet does not match any partitions,
MapReduce jobs can fail.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3000">CDAP-3000</a> -
The Workflow token is in an inconsistent state for nodes in a fork while the nodes of
the fork are still running. It becomes consistent after the join.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3221">CDAP-3221</a> -
When running in CDAP Standalone mode, if a MapReduce job fails repeatedly, then the SDK
hits an out-of-memory exception due to <code class="docutils literal"><span class="pre">perm</span> <span class="pre">gen</span></code>. The Standalone needs restarting at
this point.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3262">CDAP-3262</a> -
For Microsoft Windows, the CDAP Standalone scripts can fail when used with a JAVA_HOME
that is defined as a path with spaces in it. A workaround is to use a definition of
JAVA_HOME that does not include spaces, such as <code class="docutils literal"><span class="pre">C:\PROGRA~1\Java\jdk1.7.0_79\bin</span></code> or
<code class="docutils literal"><span class="pre">C:\ProgramData\Oracle\Java\javapath</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3492">CDAP-3492</a> -
In the CDAP CLI, executing <code class="docutils literal"><span class="pre">select</span> <span class="pre">*</span></code> from a dataset with many fields generates an error.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3641">CDAP-3641</a> -
A RESTful API call to retrieve workflow statistics hangs if units (such as &#8220;s&#8221; for
seconds) are not provided as part of the query.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3750">CDAP-3750</a> -
If a table schema contains a field name that is a reserved word in the Hive DDL, <code class="docutils literal"><span class="pre">'enable</span> <span class="pre">explore'</span></code> fails.</li>
</ul>
</div>
</div>
<div class="section" id="release-3-2-1">
<h2><a class="reference external" href="http://docs.cask.co/cdap/3.2.1/index.html">Release 3.2.1</a><a class="headerlink" href="#release-3-2-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id16">
<h3>New Features<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3951">CDAP-3951</a> -
Added the ability for S3 batch sources and sinks to set additional file system properties.</li>
</ul>
</div>
<div class="section" id="id17">
<h3>Improvements<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3870">CDAP-3870</a> -
Added logging and metrics support for <em>Script</em>, <em>ScriptFilter</em>, and <em>Validator</em> transforms.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3939">CDAP-3939</a> -
Improved artifact and application deployment failure handling.</li>
</ul>
</div>
<div class="section" id="id18">
<h3>Bug Fixes<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3342">CDAP-3342</a> -
Fixed a problem with the CDAP SDK unable to start on certain Windows machines by updating
the Hadoop native library in CDAP with a version that does not have a dependency on a
debug version of the Microsoft <code class="docutils literal"><span class="pre">msvcr100.dll</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3815">CDAP-3815</a> -
Fixed an issue where the regex filter for S3 batch sources wasn&#8217;t being applied correctly.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3829">CDAP-3829</a> -
Fixed snapshot sinks so that the data is explorable as a <code class="docutils literal"><span class="pre">PartitionedFileSet</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3833">CDAP-3833</a> -
Fixed snapshot sinks so that they can be read safely.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3859">CDAP-3859</a> -
Fixed a compilation error in the Maven application archetype.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3860">CDAP-3860</a> -
Fixed a bug where plugins, packaged in the same artifact as an application class, could not be used by that application class.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3891">CDAP-3891</a> -
Updated the documentation to remove references to application templates and adaptors that were removed as of CDAP 3.2.0.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3949">CDAP-3949</a> -
Fixed a problem with running certain examples on Linux systems by increasing the maximum
Java heap size of the Standalone SDK on Linux systems to 2048m.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3961">CDAP-3961</a> -
Fixed a missing dependency on <code class="docutils literal"><span class="pre">cdap-hbase-compat-1.1</span></code> package in the CDAP Master package.</li>
</ul>
</div>
<div class="section" id="id19">
<h3>Known Issues<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>After upgrading CDAP from a pre-3.0 version, any unprocessed metrics data in Kafka will
be lost and <em>WARN</em> log messages will be logged that tell about the inability to process
old data in the old format.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-797">CDAP-797</a> -
When running secure Hadoop clusters, debug logs from MapReduce programs are not
available.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1007">CDAP-1007</a> -
If the Hive Metastore is restarted while the CDAP Explore Service is running, the
Explore Service remains alive, but becomes unusable. To correct, restart the CDAP Master—which will restart all services—as described under &#8220;Starting CDAP Services&#8221;
for your particular Hadoop distribution in the <a class="reference external" href="source/../../admin-manual/installation/index.html#installation-index" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">Installation documentation</span></a>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1587">CDAP-1587</a> -
CDAP internally creates tables in the &#8220;user&#8221; space that begin with the word
<code class="docutils literal"><span class="pre">&quot;system&quot;</span></code>. User datasets with names starting with <code class="docutils literal"><span class="pre">&quot;system&quot;</span></code> can conflict if they
were to match one of those names. To avoid this, do not start any datasets with the word
<code class="docutils literal"><span class="pre">&quot;system&quot;</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2632">CDAP-2632</a> -
The application in the <a class="reference external" href="https://github.com/cdap-guides/cdap-kafka-ingest-guide/tree/release/cdap-3.0-compatible">cdap-kafka-ingest-guide</a>
does not run on Ubuntu 14.x as of CDAP 3.0.x.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2721">CDAP-2721</a> -
Metrics for <a class="reference external" href="source/../../developers-manual/building-blocks/datasets/fileset.html#datasets-fileset" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">FileSets</span></a> can show zero values even if there is
data present, because FileSets do not emit metrics (<cite>CDAP-587
&lt;https://issues.cask.co/browse/CDAP-587&gt;</cite>).</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2831">CDAP-2831</a> -
A workflow that is scheduled by time will not be run between the failure of the primary
master and the time that the secondary takes over. This scheduled run will not be
triggered at all.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2945">CDAP-2945</a> -
If the input partition filter for a PartitionedFileSet does not match any partitions,
MapReduce jobs can fail.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3000">CDAP-3000</a> -
The Workflow token is in an inconsistent state for nodes in a fork while the nodes of
the fork are still running. It becomes consistent after the join.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3221">CDAP-3221</a> -
When running in CDAP Standalone mode, if a MapReduce job fails repeatedly, then the SDK
hits an out-of-memory exception due to <code class="docutils literal"><span class="pre">perm</span> <span class="pre">gen</span></code>. The Standalone needs restarting at
this point.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3262">CDAP-3262</a> -
For Microsoft Windows, the CDAP Standalone scripts can fail when used with a JAVA_HOME
that is defined as a path with spaces in it. A workaround is to use a definition of
JAVA_HOME that does not include spaces, such as <code class="docutils literal"><span class="pre">C:\PROGRA~1\Java\jdk1.7.0_79\bin</span></code> or
<code class="docutils literal"><span class="pre">C:\ProgramData\Oracle\Java\javapath</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3492">CDAP-3492</a> -
In the CDAP CLI, executing <code class="docutils literal"><span class="pre">select</span> <span class="pre">*</span></code> from a dataset with many fields generates an error.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3641">CDAP-3641</a> -
A RESTful API call to retrieve workflow statistics hangs if units (such as &#8220;s&#8221; for
seconds) are not provided as part of the query.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3750">CDAP-3750</a> -
If a table schema contains a field name that is a reserved word in the Hive DDL, <code class="docutils literal"><span class="pre">'enable</span> <span class="pre">explore'</span></code> fails.</li>
</ul>
</div>
</div>
<div class="section" id="release-3-2-0">
<h2><a class="reference external" href="http://docs.cask.co/cdap/3.2.0/index.html">Release 3.2.0</a><a class="headerlink" href="#release-3-2-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id20">
<h3>New Features<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2556">CDAP-2556</a> -
Added support for HBase1.1.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2666">CDAP-2666</a> -
Added a new API for creating an application from an artifact.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2756">CDAP-2756</a> -
Added the ability to write to multiple outputs from a MapReduce job.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2757">CDAP-2757</a> -
Added the ability to dynamically write to multiple partitions of a PartitionedFileSet
dataset as the output of a MapReduce job.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3253">CDAP-3253</a> -
Added a Stream and Dataset Widget to the CDAP UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3390">CDAP-3390</a> -
Added stream views, enabling reading from a single stream using various formats and
schemas.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3476">CDAP-3476</a> -
Added a Validator Transform that can be used to validate records based on a set of
available validators and configured to write invalid records to an error
dataset.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3516">CDAP-3516</a> -
Added a service to manage the metadata of CDAP entities.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3518">CDAP-3518</a> -
Added the publishing of metadata change notifications to Apache Kafka.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3519">CDAP-3519</a> -
Added the ability to compute lineage of a CDAP dataset or stream in a given time window.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3520">CDAP-3520</a> -
Added RESTful APIs for adding/retrieving/deleting of metadata for apps/programs/datasets/streams.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3521">CDAP-3521</a> -
Added the ability to record a dataset or stream access by a CDAP program.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3522">CDAP-3522</a> -
Added the capability to search CDAP entities based on their metadata.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3523">CDAP-3523</a> -
Added RESTful APIs for searching CDAP entities based on business metadata.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3527">CDAP-3527</a> -
Added a data store to manage business metadata of CDAP entities.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3549">CDAP-3549</a> -
Added SSH port forwarding to the CDAP virtual machine.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3556">CDAP-3556</a> -
Added a data store for recording data accesses by CDAP programs and computing lineage.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3590">CDAP-3590</a> -
Added the ability to write to multiple sinks in ETL real-time and batch applications.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3591">CDAP-3591</a> -
Added the ability for real-time ETL pipelines to write to multiple sinks.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3592">CDAP-3592</a> -
Added the ability for batch ETL pipelines to write to multiple sinks.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3626">CDAP-3626</a> -
For the CSV and TSV stream formats, a &#8220;mapping&#8221; setting can now be specified, mapping
stream event columns to schema columns.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3693">CDAP-3693</a> -
Added support for CDAP to work with HDP 2.3.</li>
</ul>
</div>
<div class="section" id="id21">
<h3>Improvements<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1914">CDAP-1914</a> -
Added documentation of the RESTful endpoint to retrieve the properties of a stream.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2514">CDAP-2514</a> -
Added an interface to load a file into a stream from the CDAP UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2809">CDAP-2809</a> -
The CDAP UI &#8220;Errors&#8221; pop-up in the main screen now displays the time and date for each
error.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2872">CDAP-2872</a> -
Updated the Cloudera Manager CSD to use support for logback.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2950">CDAP-2950</a> -
Cleaned up the messages shown in the errors dropdown in the CDAP UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3147">CDAP-3147</a> -
Added a CDAP CLI command to stop a workflow.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3179">CDAP-3179</a> -
Added support for upgrading the Hadoop distribution or the HBase version that CDAP is
running on.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3257">CDAP-3257</a> -
Revised the documentation of the file <code class="docutils literal"><span class="pre">cdap-default.xml</span></code>, removed properties no longer
in use, and corrected discrepancies between the documentation and the shipped XML
file.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3270">CDAP-3270</a> -
Improved the help provided in the CDAP CLI for the setting of stream formats.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3275">CDAP-3275</a> -
Upgraded netty-http version to 0.12.0.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3282">CDAP-3282</a> -
Added a HTTP RESTful API to update the application configuration and artifact version.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3332">CDAP-3332</a> -
Added a &#8220;clear&#8221; button in the CDAP UI for cases where a user decides to not used a
pre-populated schema.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3351">CDAP-3351</a> -
Defined a directory structure to be used for predefined applications.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3357">CDAP-3357</a> -
Added documentation in the source code on adding new commands and completers to the CDAP CLI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3393">CDAP-3393</a> -
In the CDAP UI, added visualization for Workflow tokens in Workflows.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3419">CDAP-3419</a> -
HBaseQueueDebugger now shows the minimum queue event transaction write pointer both for
each queue and for all queues.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3443">CDAP-3443</a> -
Added an example cdap-env.sh to the shipped packages.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3464">CDAP-3464</a> -
Added an example in the documentation explaining how to prune invalid transactions from
the transaction manager.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3490">CDAP-3490</a> -
Modified the CDAP upgrade tool to delete all adapters and the ETLBatch and ETLRealtime
ApplicationTemplates.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3495">CDAP-3495</a> -
Added the ability to persist the runtime arguments with which a program was run.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3550">CDAP-3550</a> -
Added support for writing to Amazon S3 in Avro and Parquet formats from batch ETL
applications.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3564">CDAP-3564</a> -
Updated CDAP to use Tephra 0.6.2.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3610">CDAP-3610</a> -
Updated the transaction debugger client to print checkpoint information.</li>
</ul>
</div>
<div class="section" id="id22">
<h3>Bug Fixes<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1697">CDAP-1697</a> -
Fixed an issue where failed dataset operations via Explore queries did not invalidate
the associated transaction.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1864">CDAP-1864</a> -
Fixed a problem where users got an incorrect message while creating a dataset in a
non-existent namespace.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1892">CDAP-1892</a> -
Fixed a problem with services returning the same message for all failures.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1984">CDAP-1984</a> -
Fixed a problem where a dataset could be created in a non-existent namespace in
standalone mode.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2428">CDAP-2428</a> -
Fixed a problem with the CDAP CLI creating file logs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2521">CDAP-2521</a> -
Fixed a problem with the CDAP CLI not auto-completing when setting a stream format.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2785">CDAP-2785</a> -
Fixed a problem with the CDAP UI of buttons staying &#8216;in focus&#8217; after clicking.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2809">CDAP-2809</a> -
The CDAP UI &#8220;Errors&#8221; pop-up in the main screen now displays the time and date for each error.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2892">CDAP-2892</a> -
Fixed a problem with schedules not being deployed in suspended mode.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3014">CDAP-3014</a> -
Fixed a problem where failure of a spark node would cause a workflow to restart indefinitely.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3073">CDAP-3073</a> -
Fixed an issue with the CDAP standalone process periodically crashing with Out-of-Memory
errors when writing to an Oracle table.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3101">CDAP-3101</a> -
Fixed a problem with workflow runs not getting scheduled due to Quartz exceptions.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3121">CDAP-3121</a> -
Fixed a problem with discrepancies between the documentation and the defaults actually used by CDAP.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3200">CDAP-3200</a> -
Fixed a problem in the CDAP UI with the clone button in an incorrect position when using Firefox.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3201">CDAP-3201</a> -
Fixed a problem in the CDAP UI with an incorrect tabbing order when using Firefox.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3219">CDAP-3219</a> -
Fixed a problem when specifying the HBase version using the HBASE_VERSION environment variable.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3233">CDAP-3233</a> -
Fixed a problem in the CDAP UI error pop-ups not having a default focus on a button.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3243">CDAP-3243</a> -
Fixed a problem in the CDAP UI with the default schema shown for streams.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3260">CDAP-3260</a> -
Fixed a problem in the CDAP UI with scrolling on the namespaces dropdown on certain pages.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3261">CDAP-3261</a> -
Fixed a problem on CDAP distributed mode with the serializing of the metadata artifact
causing a stack overflow.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3305">CDAP-3305</a> -
Fixed a problem in the CDAP UI not warning users if they exit or close their browser without saving.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3313">CDAP-3313</a> -
Fixed a problem in the CDAP UI with refreshing always returning to the overview page.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3326">CDAP-3326</a> -
Fixed a problem with the table batch source requiring a row key to be set.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3343">CDAP-3343</a> -
Fixed a problem with the application deployment for apps that contain Spark.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3349">CDAP-3349</a> -
Fixed a problem with the display of ETL application metrics in the CDAP UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3355">CDAP-3355</a> -
Fixed a problem in the CDAP examples with the use of a runtime argument, <code class="docutils literal"><span class="pre">min.pages.threshold</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3362">CDAP-3362</a> -
Fixed a problem with the <code class="docutils literal"><span class="pre">logback-container.xml</span></code> not being copied into master services.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3374">CDAP-3374</a> -
Fixed a problem with warning messages in the logs indicating that programs were running
that actually were not running.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3376">CDAP-3376</a> -
Fixed a problem with being unable to deploy the SparkPageRank example application on a cluster.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3386">CDAP-3386</a> -
Fixed a problem with the Spark classes not being found when running a Spark program
through a Workflow in CDAP Distributed mode on HDP 2.2.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3394">CDAP-3394</a> -
Fixed a problem with the deployment of applications through the CDAP UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3399">CDAP-3399</a> -
Fixed a problem with the SparkPageRankApp example spawning multiple containers in
distributed mode due to its number of services.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3400">CDAP-3400</a> -
Fixed an issue with warning messages about the notification system every time the CDAP
Standalone is restarted.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3408">CDAP-3408</a> -
Fixed a problem with running the CDAP Explore Service on CDH 5.[2,3].</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3432">CDAP-3432</a> -
Fixed a bug where connecting with a certain namespace from the CLI would not immediately
display that namespace in the CLI prompt.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3435">CDAP-3435</a> -
Fixed an issue where the program status was shown as running even after it is stopped.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3442">CDAP-3442</a> -
Fixed a problem that caused application creation to fail if a config setting was given
to an application that does not use a config.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3449">CDAP-3449</a> -
Fixed a problem with the readless increment co-processor not handling multiple readless
increment columns in the same row.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3452">CDAP-3452</a> -
Fixed a problem that prevented explore service working on clusters with secure hive 0.14.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3458">CDAP-3458</a> -
Fixed a problem where streams events that had already been processed were re-processed in flows.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3470">CDAP-3470</a> -
Fixed an issue with error messages being logged during a master process restart.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3472">CDAP-3472</a> -
Fixed the error message returned when trying to stop a program started by a workflow.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3473">CDAP-3473</a> -
Fixed a problem with a workflow failure not updating a run record for the inner program.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3530">CDAP-3530</a> -
Fixed a problem with the CDAP UI performance when rendering flow diagrams with a large number of nodes.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3563">CDAP-3563</a> -
Removed faulty and unused metrics around CDAP file resource usage.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3574">CDAP-3574</a> -
Fix an issue with Explore not working on HDP Hive 0.12.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3603">CDAP-3603</a> -
Fixed an issue with configuration properties for ETL Transforms being validated at
runtime instead of when an application is created.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3618">CDAP-3618</a> -
Fix a problem where suspended schedules were lost when CDAP master was restarted.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3660">CDAP-3660</a> -
Fixed and issue where the Hadoop filesystem object was getting instantiated before the
Kerberos keytab login was completed, leading to CDAP processes failing after the initial
ticket expired.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3700">CDAP-3700</a> -
Fixed an issue with the log saver having numerous open connections to HBase, causing it
to go Out-of-Memory.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3711">CDAP-3711</a> -
Fixed an issue that prevented the downloading of Explore results on a secure cluster.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3713">CDAP-3713</a> -
Fixed an issue where certain RESTful APIs were not returning appropriate error messages
for internal server errors.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3716">CDAP-3716</a> -
Fixed a possible deadlock when CDAP master is restarted with an existing app running on a cluster.</li>
</ul>
</div>
<div class="section" id="id23">
<h3>API Changes<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2763">CDAP-2763</a> -
Added RESTful APIs for managing artifacts.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2956">CDAP-2956</a> -
Deprecated the existing API for configuring a workflow action, replacing it with a
simpler API.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3063">CDAP-3063</a> -
Added CLI commands for managing artifacts.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3064">CDAP-3064</a> -
Added an ArtifactClient to interact with Artifact HTTP RESTful APIs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3283">CDAP-3283</a> -
Added artifact information to Application RESTful APIs and the means to filter
applications by artifact name and version.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3324">CDAP-3324</a> -
Added a RESTful API for creating an application from an artifact.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3367">CDAP-3367</a> -
Added the ability to delete an artifact.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3488">CDAP-3488</a> -
Changed the ETLBatchTemplate from an ApplicationTemplate to an Application.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3535">CDAP-3535</a> -
Added an API for programs to retrieve their application specification at runtime.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3554">CDAP-3554</a> -
Changed the plugin types from &#8216;source&#8217; to either &#8216;batchsource&#8217; or &#8216;realtimesource&#8217;, and
from &#8216;sink&#8217; to either &#8216;batchsink&#8217; or &#8216;realtimesink&#8217; to reflect that the plugins
implement different interfaces.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1554">CDAP-1554</a> -
Moved constants for default and system namespaces from Common to Id.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3388">CDAP-3388</a> -
Added interfaces to <code class="docutils literal"><span class="pre">cdap-spi</span></code> that abstract StreamEventRecordFormat (and dependent
interfaces) so users can extend the <code class="docutils literal"><span class="pre">cdap-spi</span></code> interfaces.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3583">CDAP-3583</a> -
Added a RESTful API for retrieving the metadata associated with a particular run of a
CDAP program.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3632">CDAP-3632</a> -
Added a RESTful API for computing lineage of a CDAP dataset or stream.</li>
</ul>
</div>
<div class="section" id="id24">
<h3>Deprecated and Removed Features<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>See the <a class="reference internal" href="javadocs/index.html#javadocs"><span>CDAP 3.2.0 Javadocs</span></a> for a list of deprecated and removed APIs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2667">CDAP-2667</a> -
Removed application templates and adapters RESTful APIs, as these templates and adapters
have been replaced with applications that can be controlled with the
<a class="reference internal" href="http-restful-api/lifecycle.html#http-restful-api-lifecycle"><span>Lifecycle HTTP RESTful API</span></a>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2951">CDAP-2951</a> -
Removed deprecated methods in cdap-client.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3596">CDAP-3596</a> -
Replaced the ETL ApplicationTemplates with the new ETL Applications.</li>
</ul>
</div>
<div class="section" id="id25">
<h3>Known Issues<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>After upgrading CDAP from a pre-3.0 version, any unprocessed metrics data in Kafka will
be lost and <em>WARN</em> log messages will be logged that tell about the inability to process
old data in the old format.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-797">CDAP-797</a> -
When running secure Hadoop clusters, debug logs from MapReduce programs are not
available.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1007">CDAP-1007</a> -
If the Hive Metastore is restarted while the CDAP Explore Service is running, the
Explore Service remains alive, but becomes unusable. To correct, restart the CDAP Master—which will restart all services—as described under &#8220;Starting CDAP Services&#8221;
for your particular Hadoop distribution in the <a class="reference external" href="source/../../admin-manual/installation/index.html#installation-index" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">Installation documentation</span></a>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1587">CDAP-1587</a> -
CDAP internally creates tables in the &#8220;user&#8221; space that begin with the word
<code class="docutils literal"><span class="pre">&quot;system&quot;</span></code>. User datasets with names starting with <code class="docutils literal"><span class="pre">&quot;system&quot;</span></code> can conflict if they
were to match one of those names. To avoid this, do not start any datasets with the word
<code class="docutils literal"><span class="pre">&quot;system&quot;</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2632">CDAP-2632</a> -
The application in the <a class="reference external" href="https://github.com/cdap-guides/cdap-kafka-ingest-guide/tree/release/cdap-3.0-compatible">cdap-kafka-ingest-guide</a>
does not run on Ubuntu 14.x as of CDAP 3.0.x.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2721">CDAP-2721</a> -
Metrics for <a class="reference external" href="source/../../developers-manual/building-blocks/datasets/fileset.html#datasets-fileset" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">FileSets</span></a> can show zero values even if there is
data present, because FileSets do not emit metrics (<cite>CDAP-587
&lt;https://issues.cask.co/browse/CDAP-587&gt;</cite>).</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2831">CDAP-2831</a> -
A workflow that is scheduled by time will not be run between the failure of the primary
master and the time that the secondary takes over. This scheduled run will not be
triggered at all.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2945">CDAP-2945</a> -
If the input partition filter for a PartitionedFileSet does not match any partitions,
MapReduce jobs can fail.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3000">CDAP-3000</a> -
The Workflow token is in an inconsistent state for nodes in a fork while the nodes of
the fork are still running. It becomes consistent after the join.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3221">CDAP-3221</a> -
When running in CDAP Standalone mode, if a MapReduce job fails repeatedly, then the SDK
hits an out-of-memory exception due to <code class="docutils literal"><span class="pre">perm</span> <span class="pre">gen</span></code>. The Standalone needs restarting at
this point.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3262">CDAP-3262</a> -
For Microsoft Windows, the CDAP Standalone scripts can fail when used with a JAVA_HOME
that is defined as a path with spaces in it. A workaround is to use a definition of
JAVA_HOME that does not include spaces, such as <code class="docutils literal"><span class="pre">C:\PROGRA~1\Java\jdk1.7.0_79\bin</span></code> or
<code class="docutils literal"><span class="pre">C:\ProgramData\Oracle\Java\javapath</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3492">CDAP-3492</a> -
In the CDAP CLI, executing <code class="docutils literal"><span class="pre">select</span> <span class="pre">*</span></code> from a dataset with many fields generates an error.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3641">CDAP-3641</a> -
A RESTful API call to retrieve workflow statistics hangs if units (such as &#8220;s&#8221; for
seconds) are not provided as part of the query.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3697">CDAP-3697</a> -
CDAP Explore is broken on secure CDH 5.1.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3698">CDAP-3698</a> -
CDAP Explore is unable to get a delegation token while fetching next results on HDP2.0.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3749">CDAP-3749</a> -
The DBSource plugin does not allow a username with an empty password.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3750">CDAP-3750</a> -
If a table schema contains a field name that is a reserved word in the Hive DDL, <code class="docutils literal"><span class="pre">'enable</span> <span class="pre">explore'</span></code> fails.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3819">CDAP-3819</a> -
The Cassandra source does not handles spaces properly in column fields which require a comma-separated list.</li>
</ul>
</div>
</div>
<div class="section" id="release-3-1-0">
<h2><a class="reference external" href="http://docs.cask.co/cdap/3.1.0/index.html">Release 3.1.0</a><a class="headerlink" href="#release-3-1-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id26">
<h3>New Features<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<p><strong>MapR 4.1 Support, HDP 2.2 Support, CDH 5.4 Support</strong></p>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1614">CDAP-1614</a> -
Added HBase 1.0 support.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2318">CDAP-2318</a> -
Made CDAP work on the HDP 2.2 distribution.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2786">CDAP-2786</a> -
Added support to CDAP 3.1.0 for the MapR 4.1 distro.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2798">CDAP-2798</a> -
Added Hive 0.14 support.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2801">CDAP-2801</a> -
Added CDH 5.4 Hive 1.1 support.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2836">CDAP-2836</a> -
Added support for restart of specific CDAP System Services Instances.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2853">CDAP-2853</a> -
Completed certification process for MapR on CDAP.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2879">CDAP-2879</a> -
Added Hive 1.0 in Standalone.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2881">CDAP-2881</a> -
Added support for HDP 2.2.x.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2891">CDAP-2891</a> -
Documented cdap-env.sh and settings OPTS for HDP 2.2.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2898">CDAP-2898</a> -
Added Hive 1.1 in Standalone.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2953">CDAP-2953</a> -
Added HiveServer2 support in a secure cluster.</li>
</ul>
<p><strong>Spark</strong></p>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-344">CDAP-344</a> -
Users can now run Spark in distributed mode.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1993">CDAP-1993</a> -
Added ability to manipulate the SparkConf.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2700">CDAP-2700</a> -
Added the ability to Spark programs of discovering CDAP services in distributed mode.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2701">CDAP-2701</a> -
Spark programs are able to collect Metrics in distributed mode.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2703">CDAP-2703</a> -
Users are able to collect/view logs from Spark programs in distributed mode.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2705">CDAP-2705</a> -
Added examples, guides and documentation for Spark in distributed mode. LogAnalysis
application demonstrating parallel execution of the Spark and MapReduce programs using
Workflows.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2923">CDAP-2923</a> -
Added support for the WorkflowToken in the Spark programs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2936">CDAP-2936</a> -
Spark program can now specify resources usage for driver and executor process in distributed mode.</li>
</ul>
<p><strong>Workflows</strong></p>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1983">CDAP-1983</a> -
Added example application for processing and analyzing Wikipedia data using Workflows.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2709">CDAP-2709</a> -
Added ability to add generic keys to the WorkflowToken.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2712">CDAP-2712</a> -
Added ability to update the WorkflowToken in MapReduce and Spark programs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2713">CDAP-2713</a> -
Added ability to persist the WorkflowToken per run of the Workflow.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2714">CDAP-2714</a> -
Added ability to query the WorkflowToken for the past as well as currently running Workflow runs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2752">CDAP-2752</a> -
Added ability for custom actions to access the CDAP datasets and services.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2894">CDAP-2894</a> -
Added an API to retreive the system properties (e.g. MapReduce counters in case of
MapReduce program) from the WorkflowToken.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2923">CDAP-2923</a> -
Added support for the WorkflowToken in the Spark programs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2982">CDAP-2982</a> -
Added verification that the Workflow contains all programs/custom actions with a unique name.</li>
</ul>
<p><strong>Datasets</strong></p>
<ul>
<li><p class="first"><a class="reference external" href="https://issues.cask.co/browse/CDAP-347">CDAP-347</a> -
User can use datasets in beforeSubmit and afterFinish.</p>
</li>
<li><p class="first"><a class="reference external" href="https://issues.cask.co/browse/CDAP-585">CDAP-585</a> -
Changes to Spark program runner to use File dataset in Spark.
Spark programs can now use file-based datasets.</p>
</li>
<li><p class="first"><a class="reference external" href="https://issues.cask.co/browse/CDAP-2734">CDAP-2734</a> -
Added PartitionedFileSet support to setting/getting properties at the Partition level.</p>
</li>
<li><p class="first"><a class="reference external" href="https://issues.cask.co/browse/CDAP-2746">CDAP-2746</a> -
PartitionedFileSets now record the creation time of each partition in the metadata.</p>
</li>
<li><p class="first"><a class="reference external" href="https://issues.cask.co/browse/CDAP-2747">CDAP-2747</a> -
PartitionedFileSets now index the creation time of partitions to allow selection of
partitions that were created after a given time. Introduced BatchPartitionConsumer as a
way to incrementally consume new data in a PartitionedFileSet.</p>
</li>
<li><p class="first"><a class="reference external" href="https://issues.cask.co/browse/CDAP-2752">CDAP-2752</a> -
Added ability for custom actions to access the CDAP datasets and services.</p>
</li>
<li><p class="first"><a class="reference external" href="https://issues.cask.co/browse/CDAP-2758">CDAP-2758</a> -
FileSet now support existing HDFS locations.</p>
<p>Treat base paths that start with &#8220;/&#8221; as absolute in the file system. An absolute base
path for a (Partitioned)FileSet was interpreted as relative to the namespace&#8217;s data
directory. Newly created FileSets interpret absolute base paths as absolute in the file
system.</p>
<p>Introduced a new property for (Partitioned)FileSets name &#8220;data.external&#8221;. If true, the
base path of the FileSet is assumed to be managed by some external process. That is, the
FileSet will not attempt to create the directory, it will not delete any files when the
FileSet is dropped or truncated, and it will not allow adding or deleting files or
partitions. In other words, the FileSet is read-only.</p>
</li>
<li><p class="first"><a class="reference external" href="https://issues.cask.co/browse/CDAP-2784">CDAP-2784</a> -
Added support to write to PartitionedFileSet Partition metadata from MapReduce.</p>
</li>
<li><p class="first"><a class="reference external" href="https://issues.cask.co/browse/CDAP-2822">CDAP-2822</a> -
IndexedTable now supports scans on the indexed field.</p>
</li>
</ul>
<p><strong>Metrics</strong></p>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2975">CDAP-2975</a> -
Added pre-split FactTables.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2326">CDAP-2326</a> -
Added better unit-test coverage for Cube dataset.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1853">CDAP-1853</a> -
Metrics processor scaling no longer needs a master services restart.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2844">CDAP-2844</a> -
MapReduce metrics collection no longer use counters, and instead report directly to Kafka.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2701">CDAP-2701</a> -
Spark programs are able to collect Metrics in distributed mode.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2466">CDAP-2466</a> -
Added CLI for metrics search and query.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2236">CDAP-2236</a> -
New CDAP UI switched over to using newer search/query APIs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1998">CDAP-1998</a> -
Removed deprecated Context - Query param in Metrics v3 API.</li>
</ul>
<p><strong>Miscellaneous New Features</strong></p>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-332">CDAP-332</a> -
Added a Restful end-point for deleting Streams.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1483">CDAP-1483</a> -
QueueAdmin now uses Id.Namespace instead of simply String.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1584">CDAP-1584</a> -
CDAP CLI now shows the username in the CLI prompt.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2139">CDAP-2139</a> -
Removed a duplicate Table of Contents on the Documentation Search page.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2515">CDAP-2515</a> -
Added a metrics client for search and query by tags.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2582">CDAP-2582</a> -
Documented the licenses of the shipped CDAP UI components.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2595">CDAP-2595</a> -
Added data modelling of flows.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2596">CDAP-2596</a> -
Added data modelling of MapReduce.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2617">CDAP-2617</a> -
Added the capability to get logs for a given time range from CLI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2618">CDAP-2618</a> -
Simplified the Cube sink configurations.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2670">CDAP-2670</a> -
Added Parquet sink with time partitioned file dataset.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2739">CDAP-2739</a> -
Added S3 batch source for ETLbatch.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2802">CDAP-2802</a> -
Stopped using HiveConf.ConfVars.defaultValue, to support Hive &gt;0.13.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2847">CDAP-2847</a> -
Added ability to add custom filters to FileBatchSource.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2893">CDAP-2893</a> -
Custom Transform now parses log formats for ETL.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2913">CDAP-2913</a> -
Provided installation method for EMR.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2915">CDAP-2915</a> -
Added an SQS real-time plugin for ETL.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3022">CDAP-3022</a> -
Added Cloudfront format option to LogParserTransform.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3032">CDAP-3032</a> -
Documented TestConfiguration class usage in unit-test framework.</li>
</ul>
</div>
<div class="section" id="id27">
<h3>Improvements<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-593">CDAP-593</a> -
Spark no longer determines the mode through MRConfig.FRAMEWORK_NAME.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-595">CDAP-595</a> -
Refactored SparkRuntimeService and SparkProgramWrapper.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-665">CDAP-665</a> -
Documentation received a product-specifc 404 Page.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-683">CDAP-683</a> -
Changed all README files from markdown to rst format.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1132">CDAP-1132</a> -
Improved the CDAP Doc Search Result Sorting.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1416">CDAP-1416</a> -
Added links to upper level pages on Docs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1572">CDAP-1572</a> -
Standardized Id classes.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1583">CDAP-1583</a> -
Refactored InMemoryWorkerRunner and ServiceProgramRunnner after ServiceWorkers were removed.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1918">CDAP-1918</a> -
Switched to using the Spark 1.3.0 release.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1926">CDAP-1926</a> -
Streams endpoint accept &#8220;now&#8221;, &#8220;now-30s&#8221;, etc., for time ranges.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2007">CDAP-2007</a> -
CLI output for &#8220;call service&#8221; is rendered in a copy-pastable manner.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2310">CDAP-2310</a> -
Kafka Source now able to apply a Schema to the Payload received.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2388">CDAP-2388</a> -
Added Java 8 support to CDAP.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2422">CDAP-2422</a> -
Removed redundant catch blocks in AdapterHttpHandler.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2455">CDAP-2455</a> -
Version in CDAP UI footer is dynamic.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2482">CDAP-2482</a> -
Reduced excessive capitalisation in documentation.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2531">CDAP-2531</a> -
Adapter details made available through CDAP UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2539">CDAP-2539</a> -
Added a build identifier (branch, commit) in header of Documentation HTML pages.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2552">CDAP-2552</a> -
Documentation Build script now flags errors.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2554">CDAP-2554</a> -
Documented that streams can now be deleted.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2557">CDAP-2557</a> -
Non-handler logic moved out of DatasetInstanceHandler.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2570">CDAP-2570</a> -
CLI prompt changes to &#8216;DISCONNECTED&#8217; after CDAP is stopped.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2578">CDAP-2578</a> -
Ability to look at configs of created adapters.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2585">CDAP-2585</a> -
Use Id in cdap-client rather than Id.Namespace + String.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2588">CDAP-2588</a> -
Improvements to the MetricsClient APIs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2590">CDAP-2590</a> -
Switching namespaces when in CDAP UI Operations screens.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2620">CDAP-2620</a> -
CDAP clients now use Id classes from cdap proto, instead of plain strings.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2628">CDAP-2628</a> -
CDAP UI: Breadcrumbs in Workflow/Mapreduce work as expected.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2644">CDAP-2644</a> -
In cdap-clients, no longer need to retrieve runtime arguments before starting a program.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2651">CDAP-2651</a> -
CDAP UI: the Namespace is made more prominent.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2681">CDAP-2681</a> -
CDAP UI: scrolling no longer enlarges the workflow diagram instead of scrolling through.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2683">CDAP-2683</a> -
CDAP UI: added a remove icons for fork and Join.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2684">CDAP-2684</a> -
CDAP UI: workflow diagrams are directed graphs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2688">CDAP-2688</a> -
CDAP UI: added search &amp; pagination for lists of apps and datasets.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2689">CDAP-2689</a> -
CDAP UI: shows which application is a part of which dataset.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2691">CDAP-2691</a> -
CDAP UI: added ability to delete streams.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2692">CDAP-2692</a> -
CDAP UI: added pagination for logs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2694">CDAP-2694</a> -
CDAP UI: added a loading icon/UI element when creating an adapter.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2695">CDAP-2695</a> -
CDAP UI: long names of adapters are replaced by a short version ending in an ellipsis.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2697">CDAP-2697</a> -
CDAP UI: added tab names during adapter creation.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2716">CDAP-2716</a> -
CDAP UI: when creating an adapter, the tabbing order shows correctly.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2733">CDAP-2733</a> -
Implemented a TimeParitionedFileSet source.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2811">CDAP-2811</a> -
Improved Hive version detection.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2921">CDAP-2921</a> -
Removed backward-compatibility for pre-2.8 TPFS.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2938">CDAP-2938</a> -
Implemented new ETL application template creation.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2983">CDAP-2983</a> -
Spark program runner now calls onFailure() of the DatasetOutputCommitter.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2986">CDAP-2986</a> -
Spark program now are able to specify runtime arguments when reading or writing a datset.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2987">CDAP-2987</a> -
Added an example for Spark using datasets directly.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2989">CDAP-2989</a> -
Added an example for Spark using FileSets.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3018">CDAP-3018</a> -
Updated workflow guides for workflow token.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3028">CDAP-3028</a> -
Improved the system service restart endpoint to handle illegal instance IDs and &#8220;service not available&#8221;.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3053">CDAP-3053</a> -
Added schema javadocs that explain how to write the schema to JSON.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3077">CDAP-3077</a> -
Add the ability in TableSink to find schema.row.field case-insensitively.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3144">CDAP-3144</a> -
Changed CLI command descriptions to use consistent element case.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3152">CDAP-3152</a> -
Refactored ETLBatch sources and sinks.</li>
</ul>
</div>
<div class="section" id="id28">
<h3>Bug Fixes<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-23">CDAP-23</a> -
Fixed a problem with the DatasetFramework not loading a given dataset with the same classloader across calls.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-68">CDAP-68</a> -
Made sure all network services in Singlenode only bind to localhost.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-376">CDAP-376</a> -
Fixed a problem with HBaseOrderedTable never calling HTable.close().</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-550">CDAP-550</a> -
Consolidated Examples, Guides, and Tutorials styles.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-598">CDAP-598</a> -
Fixed problems with the CDAP ClassLoading model.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-674">CDAP-674</a> -
Fixed problems with CDAP code examples and versioning.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-814">CDAP-814</a> -
Resolved issues in the documentation about element versus program.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1042">CDAP-1042</a> -
Fixed a problem with specifying dataset selection as input for Spark job.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1145">CDAP-1145</a> -
Fixed the PurchaseAppTest.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1184">CDAP-1184</a> -
Fixed a problem with the DELETE call not clearing queue metrics.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1273">CDAP-1273</a> -
Fixed a problem with the ProgramClassLoader getResource.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1457">CDAP-1457</a> -
Fixed a memory leak of user class after running Spark program.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1552">CDAP-1552</a> -
Fixed a problem with Mapreduce progress metrics not being interpolated.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1868">CDAP-1868</a> -
Fixed a problem with Java Client and CLI not setting set dataset properties on existing datasets.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1873">CDAP-1873</a> -
Fixed a problem with warnings and errors when CDAP-Master starts up.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1967">CDAP-1967</a> -
Fixed a problem with CDAP-Master failing to start up due to conflicting dependencies.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1976">CDAP-1976</a> -
Fixed a problem with examples not following the same pattern.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1988">CDAP-1988</a> -
Fixed a problem with creating a Dataset through REST API failing if no properties are provided.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2081">CDAP-2081</a> -
Fixed a problem with StreamSizeSchedulerTest failing randomly.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2140">CDAP-2140</a> -
Fixed a problem with the CDAP UI not showing system service status when system services are down.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2177">CDAP-2177</a> -
Fixed a problem with Enable and Fix LogSaverPluginTest.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2208">CDAP-2208</a> -
Fixed a problem with CDAP-Explore service failing on wrapped indexedTable with Avro (specific record) contents.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2228">CDAP-2228</a> -
Fixed a problem with Mapreduce not working in Hadoop 2.2.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2254">CDAP-2254</a> -
Fixed a problem with an incorrect error message returned by HTTP RESTful Handler.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2258">CDAP-2258</a> -
Fixed a problem with an internal error when attempting to start a non-existing program.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2279">CDAP-2279</a> -
Fixed a problem with namespace and gear widgets disappearing when the browser window is too narrow.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2280">CDAP-2280</a> -
Fixed a problem when starting a flow from the GUI that the GUI does not fully refresh the page.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2341">CDAP-2341</a> -
Fixed a problem that when a MapReduce fails to start, it cannot be started or stopped any more.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2343">CDAP-2343</a> -
Fixed a problem in the CDAP UI that Mapreduce logs are convoluted with system logs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2344">CDAP-2344</a> -
Fixed a problem with the formatting of logs in the CDAP UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2355">CDAP-2355</a> -
Fixed a problem with an Adapter CLI help error.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2356">CDAP-2356</a> -
Fixed a problem with CLI autocompletion results not sorted in alphabetical order.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2365">CDAP-2365</a> -
Fixed a problem that when restarting CDAP-Master, the CDAP UI oscillates between being up and down.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2376">CDAP-2376</a> -
Fixed a problem with logs from mapper and reducer not being collected.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2444">CDAP-2444</a> -
Fixed a problem with Cloudera Configuring doc needs fixing.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2446">CDAP-2446</a> -
Fixed a problem with that examples needing to be updated for new CDAP UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2454">CDAP-2454</a> -
Fixed a problem with Proto class RunRecord containing the Twill RunId when serialized in REST API response.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2459">CDAP-2459</a> -
Fixed a problem with the CDAP UI going into a loop when the Router returns 200 and App Fabric is not up.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2474">CDAP-2474</a> -
Fixed a problem with changing the format of the name for the connectionfactory in JMS source plugin.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2475">CDAP-2475</a> -
Fixed a problem with JMS source accepting the type and name of the JMS provider plugin.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2480">CDAP-2480</a> -
Fixed a problem with the Workflow current run info endpoint missing a /runs/ in the path.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2489">CDAP-2489</a> -
Fixed a problem when, in distributed mode and CDAP master restarted, status of the running PROGRAM is always returned as STOPPED.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2490">CDAP-2490</a> -
Fixed a problem with checking if invalid Run Records for Spark and MapReduce are part of run from Workflow child programs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2491">CDAP-2491</a> -
Fixed a problem with the MapReduce program in standalone mode not always using LocalJobRunnerWithFix.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2493">CDAP-2493</a> -
After the fix for <a class="reference external" href="https://issues.cask.co/browse/CDAP-2474">CDAP-2474</a> (ConnectionFactory in JMS source),
the JSON file requires updating for the change to reflect in CDAP UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2496">CDAP-2496</a> -
Fixed a problem with CDAP using its own transaction snapshot codec.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2498">CDAP-2498</a> -
Fixed a problem with validation while creating adapters only by types and not also by values.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2517">CDAP-2517</a> -
Fixed a problem with Explore docs not mentioning partitioned file sets.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2520">CDAP-2520</a> -
Fixed a problem with StreamSource not liking values of &#8216;0m&#8217;.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2522">CDAP-2522</a> -
Fixed a problem with TransactionStateCache needing to reference Tephra SnapshotCodecV3.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2529">CDAP-2529</a> -
Fixed a problem with CLI not printing an error if it can&#8217;t connect to CDAP.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2530">CDAP-2530</a> -
Fixed a problem with Custom RecordScannable&lt;StructuredRecord&gt; datasets not be explorable.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2535">CDAP-2535</a> -
Fixed a problem with IntegrationTestManager deployApplication not being namespaced.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2538">CDAP-2538</a> -
Fixed a problem with handling extra whitespace in CLI input.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2540">CDAP-2540</a> -
Fixed a problem with the Preferences Namespace CLI help having errors.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2541">CDAP-2541</a> -
Added the ability to stop the particular run of a program. Allows concurrent runs of the
MapReduce and Workflow programs and the ability to stop programs at a per-run level.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2547">CDAP-2547</a> -
Fixed a problem with Kakfa Source - not using the persisted offset when the Adapter is restarted.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2549">CDAP-2549</a> -
Fixed a problem with a suspended workflow run record not being removed upon app/namespace delete.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2562">CDAP-2562</a> -
Fixed a problem with the automated Doc Build failing in develop.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2564">CDAP-2564</a> -
Improved the management of dataset resources.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2565">CDAP-2565</a> -
Fixed a problem with the transaction latency metric being of incorrect type.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2569">CDAP-2569</a> -
Fixed a problem with master process not being resilient to zookeeper exceptions.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2571">CDAP-2571</a> -
Fixed a problem with the RunRecord thread not resilient to errors.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2587">CDAP-2587</a> -
Fixed a problem with being unable to create default namespaces on starting up SDK.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2635">CDAP-2635</a> -
Fixed a problem with Namespace Create ignoring the properties&#8217; config field.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2636">CDAP-2636</a> -
Fixed a problem with &#8220;out of perm gen&#8221; space in CDAP Explore service.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2654">CDAP-2654</a> -
Fixed a problem with False values showing up as &#8216;false null&#8217; in the CDAP Explore UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2685">CDAP-2685</a> -
Fixed a problem with the CDAP UI: no empty box for transforms.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2729">CDAP-2729</a> -
Fixed a problem with CDAP UI not handling downstream system services gracefully.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2740">CDAP-2740</a> -
Fixed a problem with CDAP UI not gracefully handling when the nodejs server goes down.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2748">CDAP-2748</a> -
Fixed a problem with the currently running and completed status of Spark programs in a
workflow not highlighted in the UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2765">CDAP-2765</a> -
Fixed a problem with security warnings when CLI starts up.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2766">CDAP-2766</a> -
Fixed a problem with CLI asking for the user/password twice.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2767">CDAP-2767</a> -
Fixed a problem with incorrect error messages for namespace deletion.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2768">CDAP-2768</a> -
Fixed a problem with CLI and UI listing system.queue as a dataset.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2769">CDAP-2769</a> -
Fixed a problem with Use co.cask.cdap.common.app.RunIds instead of
org.apache.twill.internal.RunIds for InMemoryServiceProgramRunner.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2787">CDAP-2787</a> -
Fixed a problem when the number of MapReduce task metrics going over limit and causing MapReduce to fail.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2796">CDAP-2796</a> -
Fixed a problem with emitting duplicate metrics for dataset ops.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2803">CDAP-2803</a> -
Fixed a problem with scan operations not reflecting in dataset ops metrics.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2804">CDAP-2804</a> -
Fixed a problem with DataSetRecordReader incorrectly reporting dataset ops metrics.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2810">CDAP-2810</a> -
Fixed a problem with IncrementAndGet, CompareAndSwap, and Delete ops on Table incorrectly
reporting two writes each.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2821">CDAP-2821</a> -
Fixed a problem with a Spark native library linkage error causing CDAP standalone to stop.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2823">CDAP-2823</a> -
Fixed a problem with the conversion from Avro and to Avro not taking into account nested records.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2830">CDAP-2830</a> -
Fixed a problem with CDAP UI dying when CDAP Master is killed.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2832">CDAP-2832</a> -
Fixed a problem where suspending a schedule takes a long time and the CDAP UI does not provide any indication.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2838">CDAP-2838</a> -
Fixed a problem with poor error message when there is a mistake in security configration.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2839">CDAP-2839</a> -
Fixed a problem with the CDAP start script needing updating for the correct Node.js version.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2848">CDAP-2848</a> -
Fixed a problem with the Preferences Client test.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2849">CDAP-2849</a> -
Fixed a problem with the FileBatchSource reading files in twice if it takes longer that
one workflow cycle to complete the job.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2851">CDAP-2851</a> -
Fixed a problem with RPM and DEB release artifacts being uploaded to incorrect staging directory.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2854">CDAP-2854</a> -
Fixed a problem with the instructions for using Docker.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2855">CDAP-2855</a> -
Fixed a problem with the example builds in VM failing with a Maven dependency error.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2860">CDAP-2860</a> -
Fixed a problem with the documentation for updating dataset properties.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2861">CDAP-2861</a> -
Fixed a problem with CDAP UI not mentioning required fields in all entry forms.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2862">CDAP-2862</a> -
Fixed a problem with CDAP UI creating multiple namespaces with the same name.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2866">CDAP-2866</a> -
Fixed a problem with FileBatchSource not reattempting to read in files if there is a failure.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2870">CDAP-2870</a> -
Fixed a problem with Workflow Diagrams.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2871">CDAP-2871</a> -
Fixed a problem with the Cloudera Manager Hbase Gateway dependency.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2895">CDAP-2895</a> -
Fixed a problem with a put operation on the WorkflowToken not throwing an exception.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2899">CDAP-2899</a> -
Fixed a problem with Mapreduce local dirs not getting cleaned up.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2900">CDAP-2900</a> -
Fixed a problem with exposing app.template.dir as a config option.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2904">CDAP-2904</a> -
Fixed a problem with &#8220;Make Request&#8221; button overlapping with paths when a path is long.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2912">CDAP-2912</a> -
Fixed a problem with HBaseQueueDebugger not sorting queue barriers correctly.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2922">CDAP-2922</a> -
Fixed a problem with datasets created through DynamicDatasetContext not having metrics context.
Datasets in MapReduce and Spark programs, and workers, were not emitting metrics.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2925">CDAP-2925</a> -
Fixed a problem with the documentation on how to create datasets with properties.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2932">CDAP-2932</a> -
Fixed a problem with the AdapterClient getRuns method constructing a malformed URL.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2935">CDAP-2935</a> -
Fixed a problem with the logs endpoint to retrieve the latest entry not working correctly.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2940">CDAP-2940</a> -
Fixed a problem with the test case ArtifactStoreTest#testConcurrentSnapshotWrite.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2941">CDAP-2941</a> -
Fixed a problem with the ScriptTransform failing to initialize.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2942">CDAP-2942</a> -
Fixed a problem with the CDAP UI namespace dropdown failing on standalone restart.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2948">CDAP-2948</a> -
Fixed a problem with creating Adapters.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2952">CDAP-2952</a> -
Fixed a problem with the plugin avro library not being accessible to MapReduce.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2955">CDAP-2955</a> -
Fixed a problem with a NoSuchMethodException when trying to explore Datasets/Stream.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2971">CDAP-2971</a> -
Fixed a problem with the dataset registration not registering datasets for applications upon deploy.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2972">CDAP-2972</a> -
Fixed a problem with being unable to instantiate dataset in ETLWorker initialization.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2981">CDAP-2981</a> -
Fixed a problem with undoing a FileSets upgrade in favor of versioning and backward-compatibility.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2991">CDAP-2991</a> -
Fixed a problem with Explore not working when it launches a MapReduce job.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2992">CDAP-2992</a> -
Fixed a problem with CLI broken for secure CDAP.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2996">CDAP-2996</a> -
Fixed a problem with CDAP UI: Stop Run and Suspend Run buttons needed styling updates.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2997">CDAP-2997</a> -
Fixed a problem with SparkProgramRunnerTest failing randomly.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2999">CDAP-2999</a> -
Fixed a problem with MapReduce jobs showing the duration for tasks as 17 days before the mapper starts.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3001">CDAP-3001</a> -
Fixed a problem with truncating a custom dataset failing with internal server error.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3002">CDAP-3002</a> -
Fixed a problem with tick initialDelay not working properly.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3003">CDAP-3003</a> -
Fixed a problem with user metrics emitted from flowlets not being queryable using the flow&#8217;s tags.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3006">CDAP-3006</a> -
Fixed a problem with updating cdap-spark-* archetypes.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3007">CDAP-3007</a> -
Fixed a problem with testing all Spark apps/guides to work with 3.1 (in dist mode).</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3009">CDAP-3009</a> -
Fixed a problem with the stream conversion upgrade being in the upgrade tool in 3.1.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3010">CDAP-3010</a> -
Fixed a problem with a Bower Dependency Error.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3011">CDAP-3011</a> -
Fixed a problem with the IncrementSummingScannerTest failing intermittently.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3012">CDAP-3012</a> -
Fixed a problem with the DistributedWorkflowProgramRunner localizing the
spark-assembly.jar even if the workflow does not contain a Spark program.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3013">CDAP-3013</a> -
Fixed a problem with excluding a Spark assembly jar when building a MapReduce job jar.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3019">CDAP-3019</a> -
Fixed a problem with the PartitionedFileSet dropPartition not deleting files under the partition.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3021">CDAP-3021</a> -
Fixed a problem with allowing Cloudfront data to use BatchFileFilter.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3023">CDAP-3023</a> -
Fixed a problem with flowlet instance count defaulting to 1.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3024">CDAP-3024</a> -
Fixed a problem with surfacing more logs in CDAP UI for System Services.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3026">CDAP-3026</a> -
Fixed a problem with updating SparkPageRank example docs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3027">CDAP-3027</a> -
Fixed a problem with the DFSStreamHeartbeatsTest failing on clusters.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3030">CDAP-3030</a> -
Fixed a problem with the loading of custom datasets being broken after upgrading.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3031">CDAP-3031</a> -
Fixed a problem with deploying an app with a dataset with an invalid base path returning an &#8220;internal error&#8221;.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3037">CDAP-3037</a> -
Fixed a problem with not being able to use a PartitionedFileSet in a custom dataset. If
a custom dataset embedded a Table and a PartitionedFileSet, loading the dataset at
runtime would fail.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3038">CDAP-3038</a> -
Fixed a problem with logs not showing up in UI when using Spark.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3039">CDAP-3039</a> -
Fixed a problem with worker not stopping at the end of a run method in standalone.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3040">CDAP-3040</a> -
Fixed a problem with flowlet and stream metrics not being available in distributed mode.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3042">CDAP-3042</a> -
Fixed a problem with the BufferingTable not merging buffered writes with multi-get results.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3043">CDAP-3043</a> -
Fixed a problem with the Javadocs being broken.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3044">CDAP-3044</a> -
Fixed a problem with the user service &#8216;methods&#8217; field in service specifications being inaccurate.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3058">CDAP-3058</a> -
Fixed a problem with the NamespacedLocationFactory not appending correctly.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3066">CDAP-3066</a> -
Fixed a problem with FileBatchSource not failing properly.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3067">CDAP-3067</a> -
Fixed a problem with the UpgradeTool throwing a NullPointerException during UsageRegistry.upgrade().</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3070">CDAP-3070</a> -
Fixed a problem on Ubuntu 14.10 where removing JSON files from templates/plugins/ETLBatch breaks adapters.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3072">CDAP-3072</a> -
Fixed a problem with a documentation JavaScript bug.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3073">CDAP-3073</a> -
Fixed a problem with out-of-memory perm gen space.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3085">CDAP-3085</a> -
Fixed a problem with adding integration tests for datasets.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3086">CDAP-3086</a> -
Fixed a problem with the CDAP UI current adapter UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3087">CDAP-3087</a> -
Fixed a problem with CDAP UI: a session timeout on secure mode.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3088">CDAP-3088</a> -
Fixed a problem with CDAP UI: application types need to be updated.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3092">CDAP-3092</a> -
Fixed a problem with reading multiple files with one mapper in FileBatchSource.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3096">CDAP-3096</a> -
Fixed a problem with running MapReduce on HDP 2.2.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3098">CDAP-3098</a> -
Fixed problems with the CDAP UI Adapter UI.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3099">CDAP-3099</a> -
Fixed a problem with CDAP UI and that settings icons shift 2px when you click on them.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3104">CDAP-3104</a> -
Fixed a problem with CDAP Explore throwing an exception if a Table dataset does not set schema.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3105">CDAP-3105</a> -
Fixed a problem with LogParserTransform needing to emit HTTP status code info.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3106">CDAP-3106</a> -
Fixed a problem with Hive query - local MapReduce task failure on CDH-5.4.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3125">CDAP-3125</a> -
Fixed a problem with the WorkerProgramRunnerTest failing intermittently.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3127">CDAP-3127</a> -
Fixed a problem with the Kafka guide not working with CDAP 3.1.0.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3132">CDAP-3132</a> -
Fixed a problem with the ProgramLifecycleHttpHandlerTest failing intermittently.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3145">CDAP-3145</a> -
Fixed a problem with the Metrics processor not processing metrics.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3146">CDAP-3146</a> -
Fixed a problem with the CDAP VM build failing to instal the Eclipse plugin.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3148">CDAP-3148</a> -
Fixed a problem with CDAP Explore MapReduce queries failing due to MR-framework being
localized in the mapper container.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3149">CDAP-3149</a> -
Fixed a problem with cycles in an adapter create page causing the browser to freeze.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3151">CDAP-3151</a> -
Fixed a problem with CDAP examples shipped with SDK using JDK 1.6.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3161">CDAP-3161</a> -
Fixed a problem with MapReduce no longer working with default Cloudera manager settings.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3173">CDAP-3173</a> -
Fixed a problem with upgrading to 3.1.0 crashing the HBase co-processor.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3174">CDAP-3174</a> -
Fixed a problem with the ETL source/transform/sinks descriptions and documentation.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3175">CDAP-3175</a> -
Fixed a problem with the AbstractFlowlet constructors being deprecated when they should not be.</li>
</ul>
</div>
<div class="section" id="id29">
<h3>Deprecated and Removed Features<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>See the <a class="reference internal" href="javadocs/index.html#javadocs"><span>CDAP 3.1.0 Javadocs</span></a> for a list of deprecated and removed APIs.</li>
</ul>
</div>
<div class="section" id="known-issues-310">
<span id="id30"></span><h3>Known Issues<a class="headerlink" href="#known-issues-310" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>See the above section (<em>API Changes</em>) for alterations that can affect existing installations.</li>
<li>CDAP has been tested on and supports CDH 4.2.x through CDH 5.4.4, HDP 2.0 through 2.6, and
Apache Bigtop 0.8.0. It has not been tested on more recent versions of CDH.
See <a class="reference external" href="http://docs.cask.co/cdap/3.1.0/en/admin-manual/installation/installation.html#install-hadoop-hbase">our Hadoop/HBase Environment configurations</a>.</li>
<li>After upgrading CDAP from a pre-3.0 version, any unprocessed metrics data in Kafka will
be lost and <em>WARN</em> log messages will be logged that tell about the inability to process
old data in the old format.</li>
<li>Retrieving multiple metrics—by issuing an HTTP POST request with a JSON list as
the request body that enumerates the name and attributes for each metric—is currently not
supported in the <a class="reference external" href="http://docs.cask.co/cdap/2.8.0/en/reference-manual/http-restful-api/http-restful-api-v3/metrics.html#query-tips">Metrics HTTP RESTful API v3</a>.
Instead, use the v2 API. It will be supported in a future release.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-797">CDAP-797</a> -
When running secure Hadoop clusters, metrics and debug logs from MapReduce programs are
not available.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1007">CDAP-1007</a> -
If the Hive Metastore is restarted while the CDAP Explore Service is running, the
Explore Service remains alive, but becomes unusable. To correct, restart the CDAP Master—which will restart all services—as described under &#8220;Starting CDAP Services&#8221;
for your particular Hadoop distribution in the <a class="reference external" href="http://docs.cask.co/cdap/3.0.0/en/admin-manual/installation/installation.html#starting-services">Installation documentation</a>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1587">CDAP-1587</a> -
CDAP internally creates tables in the &#8220;user&#8221; space that begin with the word
<code class="docutils literal"><span class="pre">&quot;system&quot;</span></code>. User datasets with names starting with <code class="docutils literal"><span class="pre">&quot;system&quot;</span></code> can conflict if they
were to match one of those names. To avoid this, do not start any datasets with the word
<code class="docutils literal"><span class="pre">&quot;system&quot;</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-1864">CDAP-1864</a> -
Creating a dataset in a non-existent namespace manifests in the RESTful API with an
incorrect error message.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2632">CDAP-2632</a> -
The application in the <a class="reference external" href="https://github.com/cdap-guides/cdap-kafka-ingest-guide/tree/release/cdap-3.0-compatible">cdap-kafka-ingest-guide</a>
does not run on Ubuntu 14.x as of CDAP 3.0.x.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2785">CDAP-2785</a> -
In the CDAP UI, many buttons will remain in focus after being clicked, even if they
should not retain focus.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2831">CDAP-2831</a> -
A workflow that is scheduled by time will not be run between the failure of the primary
master and the time that the secondary takes over. This scheduled run will not be
triggered at all.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2878">CDAP-2878</a> -
The semantics for TTL are confusing, in that the Table TTL property is
interpreted as milliseconds in some contexts: <code class="docutils literal"><span class="pre">DatasetDefinition.confgure()</span></code> and
<code class="docutils literal"><span class="pre">getAdmin()</span></code>.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-2945">CDAP-2945</a> -
If the input partition filter for a PartitionedFileSet does not match any partitions,
MapReduce jobs can fail.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3000">CDAP-3000</a> -
The Workflow token is in an inconsistent state for nodes in a fork while the nodes of
the fork are still running. It becomes consistent after the join.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3101">CDAP-3101</a> -
If there are more than 30 concurrent runs of a workflow, the runs will not be scheduled
due to a Quartz exception.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3179">CDAP-3179</a> -
If you are using CDH 5.3 (CDAP 3.0.0) and are upgrading to CDH 5.4 (CDAP 3.1.0), you
must first upgrade the underlying HBase before you upgrade CDAP. This means that you perform the
CDH upgrade before upgrading the CDAP.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3189">CDAP-3189</a> -
Large MapReduce jobs can cause excessive logging in the CDAP logs.</li>
<li><a class="reference external" href="https://issues.cask.co/browse/CDAP-3221">CDAP-3221</a> -
When running in CDAP Standalone mode, if a MapReduce job fails repeatedly, then the SDK
hits an out-of-memory exception due to <code class="docutils literal"><span class="pre">perm</span> <span class="pre">gen</span></code>. The Standalone needs restarting at
this point.</li>
</ul>
</div>
</div>
<div class="section" id="release-3-0-3">
<h2><a class="reference external" href="http://docs.cask.co/cdap/3.0.3/index.html">Release 3.0.3</a><a class="headerlink" href="#release-3-0-3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id31">
<h3>Bug Fix<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a Bower dependency error in the CDAP UI
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-3010">CDAP-3010</a>).</li>
</ul>
</div>
<div class="section" id="id32">
<h3>Known Issues<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>See the <em>Known Issues</em> of <a class="reference external" href="#known-issues-301">version 3.0.1</a>.</li>
</ul>
</div>
</div>
<div class="section" id="release-3-0-2">
<h2><a class="reference external" href="http://docs.cask.co/cdap/3.0.2/index.html">Release 3.0.2</a><a class="headerlink" href="#release-3-0-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id33">
<h3>Bug Fixes<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed problems with the dataset upgrade tool
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2962">CDAP-2962</a>,
<a class="reference external" href="https://issues.cask.co/browse/CDAP-2897">CDAP-2897</a>).</li>
</ul>
</div>
<div class="section" id="id34">
<h3>Known Issues<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>See the <em>Known Issues</em> of <a class="reference external" href="#known-issues-301">version 3.0.1</a>.</li>
</ul>
</div>
</div>
<div class="section" id="release-3-0-1">
<h2><a class="reference external" href="http://docs.cask.co/cdap/3.0.1/index.html">Release 3.0.1</a><a class="headerlink" href="#release-3-0-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id36">
<h3>New Features<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>In the CDAP UI, mandatory parameters for Application Template creation are marked with
asterisks, and if a user tries to create a template without one of those parameters, the
missing parameter is highlighted
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2499">CDAP-2499</a>).</li>
</ul>
</div>
<div class="section" id="id37">
<h3>Improvements<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h3>
<p><strong>Tools</strong></p>
<ul class="simple">
<li>Added a tool (<a class="reference external" href="https://github.com/caskdata/cdap/blob/release/3.0/cdap-master/src/main/java/co/cask/cdap/data/tools/HBaseQueueDebugger.java">HBaseQueueDebugger</a>)
that counts consumed and unconsumed entries in a flowlet queue
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2105">CDAP-2105</a>).</li>
</ul>
<p><strong>CDAP UI</strong></p>
<ul class="simple">
<li>The currently executing node of a workflow is now highlighted in the CDAP UI
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2615">CDAP-2615</a>).</li>
<li>The list of datasets and the run histories in the CDAP UI are now paginated
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2626">CDAP-2626</a>,
<a class="reference external" href="https://issues.cask.co/browse/CDAP-2627">CDAP-2627</a>).</li>
<li>Added improvements to the CDAP UI when creating Application Templates
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2601">CDAP-2601</a>,
<a class="reference external" href="https://issues.cask.co/browse/CDAP-2602">CDAP-2602</a>,
<a class="reference external" href="https://issues.cask.co/browse/CDAP-2603">CDAP-2603</a>,
<a class="reference external" href="https://issues.cask.co/browse/CDAP-2605">CDAP-2605</a>,
<a class="reference external" href="https://issues.cask.co/browse/CDAP-2606">CDAP-2606</a>,
<a class="reference external" href="https://issues.cask.co/browse/CDAP-2607">CDAP-2607</a>,
<a class="reference external" href="https://issues.cask.co/browse/CDAP-2610">CDAP-2610</a>).</li>
<li>Improved the error messages returned when there are problems creating Application
Templates in the CDAP UI
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2597">CDAP-2597</a>).</li>
</ul>
<p><strong>CDAP SDK VM</strong></p>
<ul class="simple">
<li>Added the Apache Flume agent flume-ng to the CDAP SDK VM
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2612">CDAP-2612</a>).</li>
<li>Added the ability to copy and paste to the CDAP SDK VM
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2611">CDAP-2611</a>).</li>
<li>Pre-downloaded the example dependencies into the CDAP SDK VM to speed building of the
CDAP examples
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2613">CDAP-2613</a>).</li>
</ul>
</div>
<div class="section" id="id38">
<h3>Bug Fixes<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h3>
<p><strong>General</strong></p>
<ul class="simple">
<li>Fixed a problem with the HBase store and flows with multiple queues, where one queue name
is a prefix of another queue name
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1996">CDAP-1996</a>).</li>
<li>Fixed a problem with namespaces with underscores in the name crashing the Hadoop HBase
region servers
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2110">CDAP-2110</a>).</li>
<li>Removed the requirement to specify the JDBC driver class property twice in the adaptor
configuration for Database Sources and Sinks
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2453">CDAP-2453</a>).</li>
<li>Fixed a problem in CDAP Distributed where the status of running program always returns
as &#8220;STOPPED&#8221; when the CDAP Master is restarted
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2489">CDAP-2489</a>).</li>
<li>Fixed a problem with invalid RunRecords for Spark and MapReduce programs that are run as
part of a Workflow (<a class="reference external" href="https://issues.cask.co/browse/CDAP-2490">CDAP-2490</a>).</li>
<li>Fixed a problem with the CDAP Master not being HA (highly available) when a leadership
change happens
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2495">CDAP-2495</a>).</li>
<li>Fixed a problem with upgrading of queues with the UpgradeTool
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2502">CDAP-2502</a>).</li>
<li>Fixed a problem with ObjectMappedTables not deleting missing fields when updating a row
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2523">CDAP-2523</a>,
<a class="reference external" href="https://issues.cask.co/browse/CDAP-2524">CDAP-2524</a>).</li>
<li>Fixed a problem with a stream not being created properly when deploying an application
after the default namespace was deleted
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2537">CDAP-2537</a>).</li>
<li>Fixed a problem with the Applicaton Template Kafka Source not using the persisted offset
when the Adapter is restarted
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2547">CDAP-2547</a>).</li>
<li>A problem with CDAP using its own transaction snapshot codec, leading to huge snapshot
files and OutOfMemory exceptions, and transaction snapshots that can&#8217;t be read using
Tephra&#8217;s tools, has been resolved by replacing the codec with Tephra&#8217;s SnapshotCodecV3
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2563">CDAP-2563</a>,
<a class="reference external" href="https://issues.cask.co/browse/CDAP-2946">CDAP-2946</a>,
<a class="reference external" href="https://issues.cask.co/browse/TEPHRA-101">TEPHRA-101</a>).</li>
<li>Fixed a problem with CDAP Master not being resilient in the handling of ZooKeeper
exceptions
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2569">CDAP-2569</a>).</li>
<li>Fixed a problem with RunRecords not being cleaned up correctly after certain exceptions
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2584">CDAP-2584</a>).</li>
<li>Fixed a problem with the CDAP Maven archetype having an incorrect CDAP version in it
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2634">CDAP-2634</a>).</li>
<li>Fixed a problem with the description of the TwitterSource not describing its output
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2648">CDAP-2648</a>).</li>
<li>Fixed a problem with the Twitter Source not handling missing fields correctly and as a
consequence producing tweets (with errors) that were then not stored on disk
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2653">CDAP-2653</a>).</li>
<li>Fixed a problem with the TwitterSource not calculating the time of tweet correctly
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2656">CDAP-2656</a>).</li>
<li>Fixed a problem with the JMS Real-time Source failing to load required plugin sources
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2661">CDAP-2661</a>).</li>
<li>Fixed a problem with executing Hive queries on a distributed CDAP due to a failure to
load Grok classes
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2678">CDAP-2678</a>).</li>
<li>Fixed a problem with CDAP Program jars not being cleaned up from the temporary directory
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2698">CDAP-2698</a>).</li>
<li>Fixed a problem with ProjectionTransforms not handling input data fields with null
values correctly
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2719">CDAP-2719</a>).</li>
<li>Fixed a problem with the CDAP SDK running out of memory when MapReduce jobs are run repeatedly
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2743">CDAP-2743</a>).</li>
<li>Fixed a problem with not using CDAP RunIDs in the in-memory version of the CDAP SDK
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2769">CDAP-2769</a>).</li>
</ul>
<p><strong>CDAP CLI</strong></p>
<ul class="simple">
<li>Fixed a problem with the CDAP CLI not printing an error if it is unable to connect to a
CDAP instance
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2529">CDAP-2529</a>).</li>
<li>Fixed a problem with extra whitespace in commands entered into the CDAP CLI causing errors
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2538">CDAP-2538</a>).</li>
</ul>
<p><strong>CDAP SDK Standalone</strong></p>
<ul class="simple">
<li>Updated the messages displayed when starting the CDAP Standalone SDK as to components
and the JVM required (<a class="reference external" href="https://issues.cask.co/browse/CDAP-2445">CDAP-2445</a>).</li>
<li>Fixed a problem with the creation of the default namespace upon starting the CDAP SDK
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2587">CDAP-2587</a>).</li>
</ul>
<p><strong>CDAP SDK VM</strong></p>
<ul class="simple">
<li>Fixed a problem with using the default namespace on the CDAP SDK Virtual Machine Image
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2500">CDAP-2500</a>).</li>
<li>Fixed a problem with the VirtualBox VM retaining a MAC address obtained from the build host
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2640">CDAP-2640</a>).</li>
</ul>
<p><strong>CDAP UI</strong></p>
<ul class="simple">
<li>Fixed a problem with incorrect flow metrics showing in the CDAP UI
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2494">CDAP-2494</a>).</li>
<li>Fixed a problem in the CDAP UI with the properties in the Projection Transform being
displayed inconsistently
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2525">CDAP-2525</a>).</li>
<li>Fixed a problem in the CDAP UI not automatically updating the number of flowlet instances
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2534">CDAP-2534</a>).</li>
<li>Fixed a problem in the CDAP UI with a window resize preventing clicking of the Adapter
Template drop down menu
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2573">CDAP-2573</a>).</li>
<li>Fixed a problem with the CDAP UI not performing validation of mandatory parameters
before the creation of an adapter
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2575">CDAP-2575</a>).</li>
<li>Fixed a problem with an incorrect version of CDAP being shown in the CDAP UI
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2586">CDAP-2586</a>).</li>
<li>Reduced the number of clicks required to navigate and perform actions within the CDAP UI
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2622">CDAP-2622</a>,
<a class="reference external" href="https://issues.cask.co/browse/CDAP-2625">CDAP-2625</a>).</li>
<li>Fixed a problem with an additional forward-slash character in the URL causing a &#8220;page
not found error&#8221; in the CDAP UI
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2624">CDAP-2624</a>).</li>
<li>Fixed a problem with the error dropdown of the CDAP UI not scrolling when it has a
large number of errors
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2633">CDAP-2633</a>).</li>
<li>Fixed a problem in the CDAP UI with the Twitter Source&#8217;s consumer key secret not being
treated as a password field
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2649">CDAP-2649</a>).</li>
<li>Fixed a problem with the CDAP UI attempting to create an adapter without a name
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2652">CDAP-2652</a>).</li>
<li>Fixed a problem with the CDAP UI not being able to find the ETL plugin templates on
distributed CDAP
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2655">CDAP-2655</a>).</li>
<li>Fixed a problem with the CDAP UI&#8217;s System Dashboard chart having a y-axis starting at &#8220;-200&#8221;
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2699">CDAP-2699</a>).</li>
<li>Fixed a problem with the rendering of stack trace logs in the CDAP UI
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2745">CDAP-2745</a>).</li>
<li>Fixed a problem with the CDAP UI not working with secure CDAP instances, either clusters
or standalone
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2770">CDAP-2770</a>).</li>
<li>Fixed a problem with the coloring of completed runs of Workflow DAGs in the CDAP UI
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2781">CDAP-2781</a>).</li>
</ul>
<p><strong>Documentation</strong></p>
<ul class="simple">
<li>Fixed errors with the documentation examples of the ETL Plugins
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2503">CDAP-2503</a>).</li>
<li>Documented the licenses of all shipped CDAP UI components
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2582">CDAP-2582</a>).</li>
<li>Corrected issues with the building of Javadocs used on the website and removed Javadocs
previously included in the SDK
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2730">CDAP-2730</a>).</li>
<li>Added a recommended version (v.12.0) of Node.js to the documentation
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2762">CDAP-2762</a>).</li>
</ul>
</div>
<div class="section" id="known-issues-301">
<span id="id39"></span><h3>Known Issues<a class="headerlink" href="#known-issues-301" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The application in the <a class="reference external" href="https://github.com/cdap-guides/cdap-kafka-ingest-guide/tree/release/cdap-3.0-compatible">cdap-kafka-ingest-guide</a>
does not run on Ubuntu 14.x and CDAP 3.0.x
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2632">CDAP-2632</a>,
<a class="reference external" href="https://issues.cask.co/browse/CDAP-2749">CDAP-2749</a>).</p>
</li>
<li><p class="first">Metrics for <a class="reference external" href="source/../../developers-manual/building-blocks/datasets/fileset.html#datasets-timepartitioned-fileset" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">TimePartitionedFileSets</span></a> can show
zero values even if there is data present
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2721">CDAP-2721</a>).</p>
</li>
<li><p class="first">In the CDAP UI: many buttons will remain in focus after being clicked, even if they
should not retain focus
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2785">CDAP-2785</a>).</p>
</li>
<li><p class="first">When the CDAP-Master dies, the CDAP UI does not repsond appropriately, and instead of
waiting for routing to the secondary master to begin, it loses its connection
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2830">CDAP-2830</a>).</p>
</li>
<li><p class="first">A workflow that is scheduled by time will not be run between the failure of the primary
master and the time that the secondary takes over. This scheduled run will not be
triggered at all. There is no warnings or messages about the missed run of the
workflow. (<a class="reference external" href="https://issues.cask.co/browse/CDAP-2831">CDAP-2831</a>)</p>
</li>
<li><p class="first">CDAP has been tested on and supports CDH 4.2.x through CDH 5.3.x, HDP 2.0 through 2.1, and
Apache Bigtop 0.8.0. It has not been tested on more recent versions of CDH.
See <a class="reference external" href="http://docs.cask.co/cdap/3.0.0/en/admin-manual/installation/installation.html#install-hadoop-hbase">our Hadoop/HBase Environment configurations</a>.</p>
</li>
<li><p class="first">After upgrading CDAP from a pre-3.0 version, any unprocessed metrics data in Kafka will
be lost and <em>WARN</em> log messages will be logged that tell about the inability to process
old data in the old format.</p>
</li>
<li><p class="first">See the above section (<em>API Changes</em>) for alterations that can affect existing installations.</p>
</li>
<li><p class="first">When running secure Hadoop clusters, metrics and debug logs from MapReduce programs are
not available (<a class="reference external" href="https://issues.cask.co/browse/CDAP-797">CDAP-797</a>).</p>
</li>
<li><p class="first">If the Hive Metastore is restarted while the CDAP Explore Service is running, the
Explore Service remains alive, but becomes unusable. To correct, <a class="reference external" href="http://docs.cask.co/cdap/3.0.0/en/admin-manual/installation/installation.html#starting-services">restart the CDAP Master</a>,
which will restart all services (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1007">CDAP-1007</a>).</p>
</li>
<li><p class="first">User datasets with names starting with <code class="docutils literal"><span class="pre">&quot;system&quot;</span></code> can potentially cause conflicts
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1587">CDAP-1587</a>).</p>
</li>
<li><p class="first">Scaling the number of metrics processor instances doesn&#8217;t automatically distribute the
processing load to the newer instances of the metrics processor. The CDAP Master needs to be
restarted to effectively distribute the processing across all metrics processor instances
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1853">CDAP-1853</a>).</p>
</li>
<li><p class="first">Creating a dataset in a non-existent namespace manifests in the RESTful API with an
incorrect error message (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1864">CDAP-1864</a>).</p>
</li>
<li><p class="first">Retrieving multiple metrics—by issuing an HTTP POST request with a JSON list as
the request body that enumerates the name and attributes for each metric—is currently not
supported in the
<a class="reference external" href="http://docs.cask.co/cdap/2.8.0/en/reference-manual/http-restful-api/http-restful-api-v3/metrics.html#query-tips">Metrics HTTP RESTful API v3</a>.
Instead, use the v2 API. It will be supported in a future release.</p>
</li>
<li><p class="first">Typically, datasets are bundled as part of applications. When an application is upgraded and redeployed,
any changes in datasets will not be redeployed. This is because datasets can be shared across applications,
and an incompatible schema change can break other applications that are using the dataset.
A workaround (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1253">CDAP-1253</a>) is to allow <em>unchecked dataset upgrades</em>.
Upgrades cause the dataset metadata, i.e. its specification including properties, to be updated. The dataset
runtime code is also updated. To prevent data loss the existing data and the underlying HBase tables remain as-is.</p>
<p>You can allow <em>unchecked dataset upgrades</em> by setting the configuration property <code class="docutils literal"><span class="pre">dataset.unchecked.upgrade</span></code>
to <code class="docutils literal"><span class="pre">true</span></code> in <code class="docutils literal"><span class="pre">cdap-site.xml</span></code>. This will ensure that datasets are upgraded when the application is redeployed.
When this configuration is set, the recommended process to deploy an upgraded dataset is to first stop
all applications that are using the dataset before deploying the new version of the application.
This lets all containers (flows, services, etc) to pick up the new dataset changes.
When datasets are upgraded using <code class="docutils literal"><span class="pre">dataset.unchecked.upgrade</span></code>, no schema compatibility checks are performed by the
system. Hence it is very important that the developer verify the backward-compatibility, and makes sure that
other applications that are using the dataset can work with the new changes.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="release-3-0-0">
<h2><a class="reference external" href="http://docs.cask.co/cdap/3.0.0/index.html">Release 3.0.0</a><a class="headerlink" href="#release-3-0-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id40">
<h3>New Features<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Support for application templates has been added (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1753">CDAP-1753</a>).</li>
<li>Built-in ETL application templates and plugins have been added (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1767">CDAP-1767</a>).</li>
<li>New <a class="reference external" href="source/../../admin-manual/operations/cdap-ui.html#cdap-ui" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">CDAP UI</span></a>, supports creating ETL applications directly in the web UI.
See section below (<a class="reference internal" href="#new-user-interface-300"><span>New User Interface</span></a>) for details.</li>
<li>Workflow logs can now be retrieved using the <a class="reference internal" href="http-restful-api/logging.html#http-restful-api-logging"><span>CDP HTTP Logging RESTful API</span></a> (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1089">CDAP-1089</a>).</li>
<li>Support has been added for suspending and resuming of a workflow (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1610">CDAP-1610</a>).</li>
<li>Condition nodes in a workflow now allow branching based on a boolean predicate
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1928">CDAP-1928</a>).</li>
<li>Condition nodes in a workflow now allow passing the Hadoop counters from a MapReduce
program to following Condition nodes in the workflow (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1611">CDAP-1611</a>).</li>
<li>Logs can now be fetched based on the <code class="docutils literal"><span class="pre">run-id</span></code> (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1582">CDAP-1582</a>).</li>
<li>CDAP Tables are <a class="reference external" href="source/../../developers-manual/data-exploration/tables.html#table-exploration" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">now explorable</span></a> (<a class="reference external" href="https://issues.cask.co/browse/CDAP-946">CDAP-946</a>).</li>
<li>The <a class="reference internal" href="cli-api.html#cli"><span>CDAP CLI</span></a> supports the new <a class="reference external" href="http://docs.cask.co/cdap/3.0.0/en/application-templates/index.html">application template and adapters APIs</a>. (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1773">CDAP-1773</a>).</li>
<li>The <a class="reference internal" href="cli-api.html#cli"><span>CDAP CLI</span></a> startup options have been changed to accommodate a new option
of executing a file containing a series of CLI commands, line-by-line.</li>
<li>Both <a class="reference external" href="http://logstash.net/docs/1.4.2/filters/grok">grok</a> and
<a class="reference external" href="http://en.wikipedia.org/wiki/Syslog">syslog</a> record formats can now be used when
<a class="reference internal" href="http-restful-api/stream.html#http-restful-api-stream-setting-properties"><span>setting the format of a stream</span></a>
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1949">CDAP-1949</a>).</li>
<li>Added HTTP RESTful endpoints for listing datasets and streams as used by adapters,
programs, and applications, and vice-versa
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2214">CDAP-2214</a>).</li>
<li>Created a <a class="reference external" href="https://github.com/caskdata/cdap/pull/2290">queue introspection tool</a>,
for counting processed and unprocessed entries in a
flowlet queue (<a class="reference external" href="https://issues.cask.co/browse/CDAP-2105">CDAP-2105</a>).</li>
<li>Support for CDAP SDK VM build automation has been added (<a class="reference external" href="https://issues.cask.co/browse/CDAP-2030">CDAP-2030</a>).</li>
<li>A Cube dataset has been added (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1520">CDAP-1520</a>).</li>
<li>A Batch and Real-Time Cube dataset sink has been added (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1966">CDAP-1520</a>).</li>
<li>Metrics and status information for MapReduce on a task level is now exposed (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1958">CDAP-1520</a>).</li>
</ul>
</div>
<div class="section" id="new-user-interface">
<span id="new-user-interface-300"></span><h3>New User Interface<a class="headerlink" href="#new-user-interface" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Introduced a new UI, organization based on namespaces and users.</li>
<li>Users can switch between namespaces.</li>
<li>Uses web sockets to retrieve updates from the backend.</li>
<li><strong>Development Section</strong><ul>
<li>Introduces a UI for programs based on run-ids.</li>
<li>Users can view logs and, in certain cases—flows—flowlets, of a program based on run ids.</li>
<li>Shows a list of datasets and streams used by a program, and shows programs using a specific dataset and stream.</li>
<li>Shows the history of a program (list of runs).</li>
<li>Datasets or streams are explorable on a dataset/stream level or on a global level.</li>
<li>Shows program level metrics on under each program.</li>
</ul>
</li>
<li><strong>Operations section</strong><ul>
<li>Introduces an operations section to explore metrics.</li>
<li>Allows users to create custom dashboard with custom metrics.</li>
<li>Users can add different types of charts (line, bar, area, pie, donut, scatter, spline,
area-spline, area-spline-stacked, area-stacked, step, table).</li>
<li>Users can add multiple metrics on a single dashboard, or on a single widget on a single dashboard.</li>
<li>Users can organize the widgets in either a two, three, or four-column layout.</li>
<li>Users can toggle the frequency at which data is polled for a metric.</li>
<li>Users can toggle the resolution of data displayed in a graph.</li>
</ul>
</li>
<li><strong>Admin Section</strong><ul>
<li>Users can manage different objects of CDAP (applications, programs, datasets, and streams).</li>
<li>Users can create namespaces.</li>
<li>Through the Admin view, users can configure their preferences at the CDAP level, namespace level, or application level.</li>
<li>Users can manage the system services, applications, and streams through the Admin view.</li>
</ul>
</li>
<li><strong>Adapters</strong><ul>
<li>Users can create ETLBatch and ETLRealtime adapters from within the UI.</li>
<li>Users can choose from a list of plugins that comes by default with CDAP when creating an adapter.</li>
<li>Users can save an adapter as a draft, to be created at a later point-in-time.</li>
<li>Users can configure plugin properties with appropriate editors from within the UI when creating an adapter.</li>
</ul>
</li>
<li>The Old CDAP Console has been deprecated.</li>
</ul>
</div>
<div class="section" id="improvement">
<h3>Improvement<a class="headerlink" href="#improvement" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The <a class="reference internal" href="http-restful-api/metrics.html#http-restful-api-metrics"><span>metrics system APIs</span></a> have been revised and improved
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1596">CDAP-1596</a>).</li>
<li>The metrics system performance has been improved
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2124">CDAP-2124</a>,
<a class="reference external" href="https://issues.cask.co/browse/CDAP-2125">CDAP-2125</a>).</li>
</ul>
</div>
<div class="section" id="id41">
<h3>Bug Fixes<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The CDAP Authentication server now reports the port correctly when the port is set to 0
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-614">CDAP-614</a>).</li>
<li>History of the programs running under workflow (Spark and MapReduce) is now updated correctly
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1293">CDAP-1293</a>).</li>
<li>Programs running under a workflow now receive a unique <code class="docutils literal"><span class="pre">run-id</span></code>
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2025">CDAP-2025</a>).</li>
<li>RunRecords are now updated with the RuntimeService to account for node failures
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-2202">CDAP-2202</a>).</li>
<li>MapReduce metrics are now available on a secure cluster
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-64">CDAP-64</a>).</li>
</ul>
</div>
<div class="section" id="id42">
<h3>API Changes<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The endpoint (<code class="docutils literal"><span class="pre">POST</span> <span class="pre">'&lt;base-url&gt;/metrics/search?target=childContext[&amp;context=&lt;context&gt;]'</span></code>)
that searched for the available contexts of metrics has been deprecated, pending removal
in a later version of CDAP (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1998">CDAP-1998</a>). A
<a class="reference internal" href="http-restful-api/metrics.html#http-restful-api-metrics-search-for-contexts"><span>replacement endpoint</span></a> is available.</li>
<li>The endpoint (<code class="docutils literal"><span class="pre">POST</span> <span class="pre">'&lt;base-url&gt;/metrics/search?target=metric&amp;context=&lt;context&gt;'</span></code>)
that searched for metrics in a specified context has been deprecated, pending removal
in a later version of CDAP (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1998">CDAP-1998</a>). A
<a class="reference internal" href="http-restful-api/metrics.html#http-restful-api-metrics-search-for-metrics"><span>replacement endpoint</span></a> is available.</li>
<li>The endpoint (<code class="docutils literal"><span class="pre">POST</span> <span class="pre">'&lt;base-url&gt;/metrics/query?context=&lt;context&gt;[&amp;groupBy=&lt;tags&gt;]&amp;metric=&lt;metric&gt;&amp;&lt;time-range&gt;'</span></code>)
that queried for a metric has been deprecated, pending removal
in a later version of CDAP (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1998">CDAP-1998</a>). A
<a class="reference internal" href="http-restful-api/metrics.html#http-restful-api-metrics-querying-a-metric"><span>replacement endpoint</span></a> is available.</li>
<li>Metrics: The tag name for service handlers in previous releases was wrongly <code class="docutils literal"><span class="pre">&quot;runnable&quot;</span></code>,
and internally represented as <code class="docutils literal"><span class="pre">&quot;srn&quot;</span></code>. These metrics are now tagged as <code class="docutils literal"><span class="pre">&quot;handler&quot;</span></code> (<code class="docutils literal"><span class="pre">&quot;hnd&quot;</span></code>), and
metrics queries will only account for this tag name. If you need to query historic metrics
that were emitted with the old tag <code class="docutils literal"><span class="pre">&quot;runnable&quot;</span></code>, use <code class="docutils literal"><span class="pre">&quot;srn&quot;</span></code> to query them (instead of either
<code class="docutils literal"><span class="pre">&quot;runnable&quot;</span></code> or <code class="docutils literal"><span class="pre">&quot;handler&quot;</span></code>).</li>
<li>The <a class="reference internal" href="cli-api.html#cli"><span>CDAP CLI</span></a> startup options have been changed to accommodate a new option
of executing a file containing a series of CLI commands, line-by-line.</li>
<li>The metrics system APIs have been improved (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1596">CDAP-1596</a>).</li>
<li>The rules for <a class="reference internal" href="http-restful-api/metrics.html#http-restful-api-metrics-time-range"><span>resolving resolution</span></a>
when using <code class="docutils literal"><span class="pre">resolution=auto</span></code> in metrics query have been changed
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1922">CDAP-1922</a>).</li>
<li>Backward incompatible changes in <code class="docutils literal"><span class="pre">InputFormatProvider</span></code> and <code class="docutils literal"><span class="pre">OutputFormatProvider</span></code>.
It won&#8217;t affect user code that uses <code class="docutils literal"><span class="pre">FileSet</span></code> or <code class="docutils literal"><span class="pre">PartitionedFileSet</span></code>.
It only affects classes who implement the <code class="docutils literal"><span class="pre">InputFormatProvider</span></code> or <code class="docutils literal"><span class="pre">OutputFormatProvider</span></code>:<ul>
<li><code class="docutils literal"><span class="pre">InputFormatProvider.getInputFormatClass()</span></code> is removed and<ul>
<li>replaced with <code class="docutils literal"><span class="pre">InputFormatProvider.getInputFormatClassName()</span></code>;</li>
</ul>
</li>
<li><code class="docutils literal"><span class="pre">OutputFormatProvider.getOutputFormatClass()</span></code> is removed and<ul>
<li>replaced with <code class="docutils literal"><span class="pre">OutputFormatProvider.getOutputFormatClassName()</span></code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id43">
<h3>Deprecated and Removed Features<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The <a class="reference external" href="http://docs.cask.co/cdap/2.8.0/en/developers-manual/ingesting-tools/cdap-file-drop-zone.html">File DropZone</a>
and <a class="reference external" href="http://docs.cask.co/cdap/2.8.0/en/developers-manual/ingesting-tools/cdap-file-tailer.html">File Tailer</a>
are no longer supported as of Release 3.0.</li>
<li>Support for <em>procedures</em> has been removed. After upgrading, an application that
contained a procedure must be redeployed.</li>
<li>Support for <em>service workers</em> have been removed. After upgrading, an application that
contained a service worker must be redeployed.</li>
<li>The old CDAP Console has been deprecated.</li>
<li>Support for JDK/JRE 1.6 (Java 6) has ended; JDK/JRE 1.7 (Java 7) is
<a class="reference external" href="http://docs.cask.co/cdap/3.0.0/en/admin-manual/installation/installation.html#install-java-runtime">now required for CDAP</a> or the
<a class="reference external" href="http://docs.cask.co/cdap/3.0.0/en/developers-manual/getting-started/standalone/index.html#standalone-index">CDAP SDK</a>.</li>
</ul>
</div>
<div class="section" id="known-issues-300">
<span id="id44"></span><h3>Known Issues<a class="headerlink" href="#known-issues-300" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">CDAP has been tested on and supports CDH 4.2.x through CDH 5.3.x, HDP 2.0 through 2.1, and
Apache Bigtop 0.8.0. It has not been tested on more recent versions of CDH.
See <a class="reference external" href="http://docs.cask.co/cdap/3.0.0/en/admin-manual/installation/installation.html#install-hadoop-hbase">our Hadoop/HBase Environment configurations</a>.</p>
</li>
<li><p class="first">After upgrading CDAP from a pre-3.0 version, any unprocessed metrics data in Kafka will
be lost and <em>WARN</em> log messages will be logged that tell about the inability to process
old data in the old format.</p>
</li>
<li><p class="first">See the above section (<em>API Changes</em>) for alterations that can affect existing installations.</p>
</li>
<li><p class="first">When running secure Hadoop clusters, metrics and debug logs from MapReduce programs are
not available (<a class="reference external" href="https://issues.cask.co/browse/CDAP-797">CDAP-797</a>).</p>
</li>
<li><p class="first">If the Hive Metastore is restarted while the CDAP Explore Service is running, the
Explore Service remains alive, but becomes unusable. To correct, <a class="reference external" href="http://docs.cask.co/cdap/3.0.0/en/admin-manual/installation/installation.html#starting-services">restart the CDAP Master</a>,
which will restart all services (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1007">CDAP-1007</a>).</p>
</li>
<li><p class="first">User datasets with names starting with <code class="docutils literal"><span class="pre">&quot;system&quot;</span></code> can potentially cause conflicts
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1587">CDAP-1587</a>).</p>
</li>
<li><p class="first">Scaling the number of metrics processor instances doesn&#8217;t automatically distribute the
processing load to the newer instances of the metrics processor. The CDAP Master needs to be
restarted to effectively distribute the processing across all metrics processor instances
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1853">CDAP-1853</a>).</p>
</li>
<li><p class="first">Creating a dataset in a non-existent namespace manifests in the RESTful API with an
incorrect error message (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1864">CDAP-1864</a>).</p>
</li>
<li><p class="first">Retrieving multiple metrics—by issuing an HTTP POST request with a JSON list as
the request body that enumerates the name and attributes for each metric—is currently not
supported in the
<a class="reference external" href="http://docs.cask.co/cdap/2.8.0/en/reference-manual/http-restful-api/http-restful-api-v3/metrics.html#query-tips">Metrics HTTP RESTful API v3</a>.
Instead, use the v2 API. It will be supported in a future release.</p>
</li>
<li><p class="first">Typically, datasets are bundled as part of applications. When an application is upgraded and redeployed,
any changes in datasets will not be redeployed. This is because datasets can be shared across applications,
and an incompatible schema change can break other applications that are using the dataset.
A workaround (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1253">CDAP-1253</a>) is to allow <em>unchecked dataset upgrades</em>.
Upgrades cause the dataset metadata, i.e. its specification including properties, to be updated. The dataset
runtime code is also updated. To prevent data loss the existing data and the underlying HBase tables remain as-is.</p>
<p>You can allow <em>unchecked dataset upgrades</em> by setting the configuration property <code class="docutils literal"><span class="pre">dataset.unchecked.upgrade</span></code>
to <code class="docutils literal"><span class="pre">true</span></code> in <code class="docutils literal"><span class="pre">cdap-site.xml</span></code>. This will ensure that datasets are upgraded when the application is redeployed.
When this configuration is set, the recommended process to deploy an upgraded dataset is to first stop
all applications that are using the dataset before deploying the new version of the application.
This lets all containers (flows, services, etc) to pick up the new dataset changes.
When datasets are upgraded using <code class="docutils literal"><span class="pre">dataset.unchecked.upgrade</span></code>, no schema compatibility checks are performed by the
system. Hence it is very important that the developer verify the backward-compatibility, and makes sure that
other applications that are using the dataset can work with the new changes.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="release-2-8-0">
<h2><a class="reference external" href="http://docs.cask.co/cdap/2.8.0/index.html">Release 2.8.0</a><a class="headerlink" href="#release-2-8-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general">
<h3>General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The HTTP RESTful API v2 was deprecated, replaced with the
<a class="reference internal" href="http-restful-api/index.html#http-restful-api-v3"><span>namespaced HTTP RESTful API v3</span></a>.</li>
<li>Added log rotation for CDAP programs running in YARN containers
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1295">CDAP-1295</a>).</li>
<li>Added the ability to submit to non-default YARN queues to provide
<a class="reference external" href="source/../../admin-manual/operations/resource-guarantees.html#resource-guarantees" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">resource guarantees</span></a>
for CDAP Master services, CDAP programs, and Explore Queries
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1417">CDAP-1417</a>).</li>
<li>Added the ability to <a class="reference external" href="source/../../admin-manual/operations/tx-maintenance.html#tx-maintenance" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">prune invalid transactions</span></a>
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1540">CDAP-1540</a>).</li>
<li>Added the ability to specify
<a class="reference external" href="source/../../developers-manual/advanced/application-logback.html#application-logback" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">custom logback file for CDAP programs</span></a>
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1100">CDAP-1100</a>).</li>
<li>System HTTP services now bind to all interfaces (0.0.0.0), rather than 127.0.0.1.</li>
</ul>
</div>
<div class="section" id="id45">
<h3>New Features<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><strong>Command Line Interface (CLI)</strong><ul>
<li>CLI can now directly connect to a CDAP instance of your choice at startup by using
<code class="docutils literal"><span class="pre">cdap-cli.sh</span> <span class="pre">--uri</span> <span class="pre">&lt;uri&gt;</span></code>.</li>
<li>Support for runtime arguments, which can be listed by running <code class="docutils literal"><span class="pre">&quot;cdap-cli.sh</span> <span class="pre">--help&quot;</span></code>.</li>
<li>Table rendering can be configured using <code class="docutils literal"><span class="pre">&quot;cli</span> <span class="pre">render</span> <span class="pre">as</span> <span class="pre">&lt;alt|csv&gt;&quot;</span></code>.
The option <code class="docutils literal"><span class="pre">&quot;alt&quot;</span></code> is the default, with <code class="docutils literal"><span class="pre">&quot;csv&quot;</span></code> available for copy &amp; pasting.</li>
<li>Stream statistics can be computed using <code class="docutils literal"><span class="pre">&quot;get</span> <span class="pre">stream-stats</span> <span class="pre">&lt;stream-id&gt;&quot;</span></code>.</li>
</ul>
</li>
<li><strong>Datasets</strong><ul>
<li>Added an ObjectMappedTable dataset that maps object fields to table columns and that is also explorable.</li>
<li>Added a PartitionedFileSet dataset that allows addressing files by meta data and that is also explorable.</li>
<li>Table datasets now support a multi-get operation for batched reads.</li>
<li>Allow an unchecked dataset upgrade upon application deployment
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1574">CDAP-1574</a>).</li>
</ul>
</li>
<li><strong>Metrics</strong><ul>
<li>Added new APIs for exploring available metrics, including drilling down into the context of emitted metrics</li>
<li>Added the ability to explore (search) all metrics; previously, this was restricted to custom user metrics</li>
<li>There are new APIs for querying metrics</li>
<li>New capability to break down a metrics time series using the values of one or more tags in its context</li>
</ul>
</li>
<li><strong>Namespaces</strong><ul>
<li>Applications and programs are now managed within namespaces.</li>
<li>Application logs are available within namespaces.</li>
<li>Metrics are now collected and queried within namespaces.</li>
<li>Datasets can now created and managed within namespaces.</li>
<li>Streams are now namespaced for ingestion, fetching, and consuming by programs.</li>
<li>Explore operations are now namespaced.</li>
</ul>
</li>
<li><strong>Preferences</strong><ul>
<li>Users can store preferences (a property map) at the instance, namespace, application,
or program level.</li>
</ul>
</li>
<li><strong>Spark</strong><ul>
<li>Spark now uses a configurer-style API for specifying
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1134">CDAP-382</a>).</li>
</ul>
</li>
<li><strong>Workflows</strong><ul>
<li>Users can schedule a workflow based on increments of data being ingested into a stream.</li>
<li>Workflows can be stopped.</li>
<li>The execution of a workflow can be forked into parallelized branches.</li>
<li>The runtime arguments for workflow can be scoped.</li>
</ul>
</li>
<li><strong>Workers</strong><ul>
<li>Added <a class="reference external" href="source/../../developers-manual/building-blocks/workers.html#workers" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">Worker</span></a>, a new program type that can be added to CDAP applications,
used to run background processes and (beta feature) can write to streams through the
WorkerContext.</li>
</ul>
</li>
<li><strong>Upgrade and Data Migration Tool</strong><ul>
<li>Added an <a class="reference external" href="http://docs.cask.co/cdap/2.8.0/en/admin-manual/installation/installation.html#upgrading-an-existing-version">automated upgrade tool</a>
which supports upgrading from
2.6.x to 2.8.0. (<strong>Note:</strong> Apps need to be both recompiled and re-deployed.)
Upgrade from 2.7.x to 2.8.0 is not currently supported. If you have a use case for it,
please reach out to us at <a class="reference external" href="https://groups.google.com/d/forum/cdap-user">cdap-user&#64;googlegroups.com</a>.</li>
<li>Added a metric migration tool which migrates old metrics to the new 2.8 format.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id46">
<h3>Improvement<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Improved flow performance and scalability with a new distributed queue implementation.</li>
</ul>
</div>
<div class="section" id="id47">
<h3>API Changes<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The endpoint (<code class="docutils literal"><span class="pre">GET</span> <span class="pre">&lt;base-url&gt;/data/explore/datasets/&lt;dataset-name&gt;/schema</span></code>) that
retrieved the schema of a dataset&#8217;s underlying Hive table has been removed
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1603">CDAP-1603</a>).</li>
<li>Endpoints have been added to retrieve the CDAP version and the current configurations of
CDAP and HBase (<a class="reference internal" href="http-restful-api/configuration.html#http-restful-api-configuration"><span>Configuration HTTP RESTful API</span></a>).</li>
</ul>
</div>
<div class="section" id="known-issues-280">
<span id="id48"></span><h3>Known Issues<a class="headerlink" href="#known-issues-280" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">When running secure Hadoop clusters, metrics and debug logs from MapReduce programs are
not available (<a class="reference external" href="https://issues.cask.co/browse/CDAP-64">CDAP-64</a> and <a class="reference external" href="https://issues.cask.co/browse/CDAP-797">CDAP-797</a>).</p>
</li>
<li><p class="first">If the Hive Metastore is restarted while the CDAP Explore Service is running, the
Explore Service remains alive, but becomes unusable. To correct, <a class="reference external" href="http://docs.cask.co/cdap/2.8.0/en/admin-manual/installation/installation.html#starting-services">restart the CDAP Master</a>,
which will restart all services (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1007">CDAP-1007</a>).</p>
</li>
<li><p class="first">User datasets with names starting with <code class="docutils literal"><span class="pre">&quot;system&quot;</span></code> can potentially cause conflicts
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1587">CDAP-1587</a>).</p>
</li>
<li><p class="first">Scaling the number of metrics processor instances doesn&#8217;t automatically distribute the
processing load to the newer instances of the metrics processor. The CDAP Master needs to be
restarted to effectively distribute the processing across all metrics processor instances
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1853">CDAP-1853</a>).</p>
</li>
<li><p class="first">Creating a dataset in a non-existent namespace manifests in the RESTful API with an
incorrect error message (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1864">CDAP-1864</a>).</p>
</li>
<li><p class="first">Retrieving multiple metrics—by issuing an HTTP POST request with a JSON list as
the request body that enumerates the name and attributes for each metric—is currently not
supported in the
<a class="reference external" href="http://docs.cask.co/cdap/2.8.0/en/reference-manual/http-restful-api/http-restful-api-v3/metrics.html#query-tips">Metrics HTTP RESTful API v3</a>.
Instead, use the v2 API. It will be supported in a future release.</p>
</li>
<li><p class="first">Typically, datasets are bundled as part of applications. When an application is upgraded and redeployed,
any changes in datasets will not be redeployed. This is because datasets can be shared across applications,
and an incompatible schema change can break other applications that are using the dataset.
A workaround (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1253">CDAP-1253</a>) is to allow <em>unchecked dataset upgrades</em>.
Upgrades cause the dataset metadata, i.e. its specification including properties, to be updated. The dataset
runtime code is also updated. To prevent data loss the existing data and the underlying HBase tables remain as-is.</p>
<p>You can allow <em>unchecked dataset upgrades</em> by setting the configuration property <code class="docutils literal"><span class="pre">dataset.unchecked.upgrade</span></code>
to <code class="docutils literal"><span class="pre">true</span></code> in <code class="docutils literal"><span class="pre">cdap-site.xml</span></code>. This will ensure that datasets are upgraded when the application is redeployed.
When this configuration is set, the recommended process to deploy an upgraded dataset is to first stop
all applications that are using the dataset before deploying the new version of the application.
This lets all containers (flows, services, etc) to pick up the new dataset changes.
When datasets are upgraded using <code class="docutils literal"><span class="pre">dataset.unchecked.upgrade</span></code>, no schema compatibility checks are performed by the
system. Hence it is very important that the developer verify the backward-compatibility, and makes sure that
other applications that are using the dataset can work with the new changes.</p>
</li>
<li><p class="first">A race condition resulting in a deadlock can occur when a TwillRunnable container
shutdowns while it still has ZooKeeper events to process. This occasionally surfaces when
running with OpenJDK or JDK7, though not with Oracle JDK6. It is caused by a change in the
<code class="docutils literal"><span class="pre">ThreadPoolExecutor</span></code> implementation between Oracle JDK6 and OpenJDK/JDK7. Until Twill is
updated in a future version of CDAP, a work-around is to kill the errant process. The Yarn
command to list all running applications and their <code class="docutils literal"><span class="pre">app-id</span></code>s is:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">yarn</span> <span class="n">application</span> <span class="o">-</span><span class="n">list</span> <span class="o">-</span><span class="n">appStates</span> <span class="n">RUNNING</span>
</pre></div>
</div>
<p>The command to kill a process is:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">yarn</span> <span class="n">application</span> <span class="o">-</span><span class="n">kill</span> <span class="o">&lt;</span><span class="n">app</span><span class="o">-</span><span class="n">id</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>All versions of CDAP running Twill version 0.4.0 with this configuration can exhibit this
problem (<a class="reference external" href="https://issues.apache.org/jira/browse/TWILL-110">TWILL-110</a>).</p>
</li>
</ul>
</div>
</div>
<div class="section" id="release-2-7-1">
<h2><a class="reference external" href="http://docs.cask.co/cdap/2.7.1/index.html">Release 2.7.1</a><a class="headerlink" href="#release-2-7-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id49">
<h3>API Changes<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The property <code class="docutils literal"><span class="pre">security.auth.server.address</span></code> has been deprecated and replaced with
<code class="docutils literal"><span class="pre">security.auth.server.bind.address</span></code> (<a class="reference external" href="https://issues.cask.co/browse/CDAP-639">CDAP-639</a>,
<a class="reference external" href="https://issues.cask.co/browse/CDAP-1078">CDAP-1078</a>).</li>
</ul>
</div>
<div class="section" id="id50">
<h3>New Features<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><strong>Spark</strong><ul>
<li>Spark now uses a configurer-style API for specifying (<a class="reference external" href="https://issues.cask.co/browse/CDAP-382">CDAP-382</a>).</li>
<li>Spark can now run as a part of a workflow (<a class="reference external" href="https://issues.cask.co/browse/CDAP-465">CDAP-465</a>).</li>
</ul>
</li>
<li><strong>Security</strong><ul>
<li>CDAP Master now obtains and refreshes Kerberos tickets programmatically (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1134">CDAP-1134</a>).</li>
</ul>
</li>
<li><strong>Datasets</strong><ul>
<li>A new, experimental dataset type to support time-partitioned File sets has been added.</li>
<li>Time-partitioned File sets can be queried with Impala on CDH distributions (<a class="reference external" href="https://issues.cask.co/browse/CDAP-926">CDAP-926</a>).</li>
<li>Streams can be made queryable with Impala by deploying an adapter that periodically
converts it into partitions of a time-partitioned File set (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1129">CDAP-1129</a>).</li>
<li>Support for different levels of conflict detection: <code class="docutils literal"><span class="pre">ROW</span></code>, <code class="docutils literal"><span class="pre">COLUMN</span></code>, or <code class="docutils literal"><span class="pre">NONE</span></code> (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1016">CDAP-1016</a>).</li>
<li>Removed support for <code class="docutils literal"><span class="pre">&#64;DisableTransaction</span></code> (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1279">CDAP-1279</a>).</li>
<li>Support for annotating a stream with a schema (<a class="reference external" href="https://issues.cask.co/browse/CDAP-606">CDAP-606</a>).</li>
<li>A new API for uploading entire files to a stream has been added (<a class="reference external" href="https://issues.cask.co/browse/CDAP-411">CDAP-411</a>).</li>
</ul>
</li>
<li><strong>Workflow</strong><ul>
<li>Workflow now uses a configurer-style API for specifying (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1207">CDAP-1207</a>).</li>
<li>Multiple instances of a workflow can be run concurrently (<a class="reference external" href="https://issues.cask.co/browse/CDAP-513">CDAP-513</a>).</li>
<li>Programs are no longer part of a workflow; instead, they are added in the application
and are referenced by a workflow using their names (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1116">CDAP-1116</a>).</li>
<li>Schedules are now at the application level and properties can be specified for
Schedules; these properties will be passed to the scheduled program as runtime
arguments (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1148">CDAP-1148</a>).</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="known-issues-271">
<span id="id51"></span><h3>Known Issues<a class="headerlink" href="#known-issues-271" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">When upgrading an existing CDAP installation to 2.7.1, all metrics are reset.</p>
</li>
<li><p class="first">When running secure Hadoop clusters, metrics and debug logs from MapReduce programs are
not available (<a class="reference external" href="https://issues.cask.co/browse/CDAP-64">CDAP-64</a> and <a class="reference external" href="https://issues.cask.co/browse/CDAP-797">CDAP-797</a>).</p>
</li>
<li><p class="first">When upgrading a cluster from an earlier version of CDAP, warning messages may appear in
the master log indicating that in-transit (emitted, but not yet processed) metrics
system messages could not be decoded (<em>Failed to decode message to MetricsRecord</em>). This
is because of a change in the format of emitted metrics, and can result in a small
amount of metrics data points being lost (<a class="reference external" href="https://issues.cask.co/browse/CDAP-745">CDAP-745</a>).</p>
</li>
<li><p class="first">A race condition resulting in a deadlock can occur when a TwillRunnable container
shutdowns while it still has ZooKeeper events to process. This occasionally surfaces when
running with OpenJDK or JDK7, though not with Oracle JDK6. It is caused by a change in the
<code class="docutils literal"><span class="pre">ThreadPoolExecutor</span></code> implementation between Oracle JDK6 and OpenJDK/JDK7. Until Twill is
updated in a future version of CDAP, a work-around is to kill the errant process. The Yarn
command to list all running applications and their <code class="docutils literal"><span class="pre">app-id</span></code>s is:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">yarn</span> <span class="n">application</span> <span class="o">-</span><span class="n">list</span> <span class="o">-</span><span class="n">appStates</span> <span class="n">RUNNING</span>
</pre></div>
</div>
<p>The command to kill a process is:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">yarn</span> <span class="n">application</span> <span class="o">-</span><span class="n">kill</span> <span class="o">&lt;</span><span class="n">app</span><span class="o">-</span><span class="n">id</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>All versions of CDAP running Twill version 0.4.0 with this configuration can exhibit this
problem (<a class="reference external" href="https://issues.apache.org/jira/browse/TWILL-110">TWILL-110</a>).</p>
</li>
<li><p class="first">Typically, datasets are bundled as part of applications. When an application is upgraded and redeployed,
any changes in datasets will not be redeployed. This is because datasets can be shared across applications,
and an incompatible schema change can break other applications that are using the dataset.
A workaround (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1253">CDAP-1253</a>) is to allow <em>unchecked dataset upgrades</em>.
Upgrades cause the dataset metadata, i.e. its specification including properties, to be updated. The dataset
runtime code is also updated. To prevent data loss the existing data and the underlying HBase tables remain as-is.</p>
<p>You can allow <em>unchecked dataset upgrades</em> by setting the configuration property <code class="docutils literal"><span class="pre">dataset.unchecked.upgrade</span></code>
to <code class="docutils literal"><span class="pre">true</span></code> in <code class="docutils literal"><span class="pre">cdap-site.xml</span></code>. This will ensure that datasets are upgraded when the application is redeployed.
When this configuration is set, the recommended process to deploy an upgraded dataset is to first stop
all applications that are using the dataset before deploying the new version of the application.
This lets all containers (flows, services, etc) to pick up the new dataset changes.
When datasets are upgraded using <code class="docutils literal"><span class="pre">dataset.unchecked.upgrade</span></code>, no schema compatibility checks are performed by the
system. Hence it is very important that the developer verify the backward-compatibility, and makes sure that
other applications that are using the dataset can work with the new changes.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="release-2-6-1">
<h2><a class="reference external" href="http://docs.cask.co/cdap/2.6.1/index.html">Release 2.6.1</a><a class="headerlink" href="#release-2-6-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="cdap-bug-fixes">
<h3>CDAP Bug Fixes<a class="headerlink" href="#cdap-bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Allow an <em>unchecked dataset upgrade</em> upon application deployment
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1253">CDAP-1253</a>).</li>
<li>Update the Hive dataset table when a dataset is updated
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-71">CDAP-71</a>).</li>
<li>Use Hadoop configuration files bundled with the Explore Service
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1250">CDAP-1250</a>).</li>
</ul>
</div>
<div class="section" id="known-issues-261">
<span id="id52"></span><h3>Known Issues<a class="headerlink" href="#known-issues-261" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">When running secure Hadoop clusters, metrics and debug logs from MapReduce programs are
not available (<a class="reference external" href="https://issues.cask.co/browse/CDAP-64">CDAP-64</a> and <a class="reference external" href="https://issues.cask.co/browse/CDAP-797">CDAP-797</a>).</p>
</li>
<li><p class="first">When upgrading a cluster from an earlier version of CDAP, warning messages may appear in
the master log indicating that in-transit (emitted, but not yet processed) metrics
system messages could not be decoded (<em>Failed to decode message to MetricsRecord</em>). This
is because of a change in the format of emitted metrics, and can result in a small
amount of metrics data points being lost (<a class="reference external" href="https://issues.cask.co/browse/CDAP-745">CDAP-745</a>).</p>
</li>
<li><p class="first">A race condition resulting in a deadlock can occur when a TwillRunnable container
shutdowns while it still has ZooKeeper events to process. This occasionally surfaces when
running with OpenJDK or JDK7, though not with Oracle JDK6. It is caused by a change in the
<code class="docutils literal"><span class="pre">ThreadPoolExecutor</span></code> implementation between Oracle JDK6 and OpenJDK/JDK7. Until Twill is
updated in a future version of CDAP, a work-around is to kill the errant process. The Yarn
command to list all running applications and their <code class="docutils literal"><span class="pre">app-id</span></code>s is:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">yarn</span> <span class="n">application</span> <span class="o">-</span><span class="n">list</span> <span class="o">-</span><span class="n">appStates</span> <span class="n">RUNNING</span>
</pre></div>
</div>
<p>The command to kill a process is:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">yarn</span> <span class="n">application</span> <span class="o">-</span><span class="n">kill</span> <span class="o">&lt;</span><span class="n">app</span><span class="o">-</span><span class="n">id</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>All versions of CDAP running Twill version 0.4.0 with this configuration can exhibit this
problem (<a class="reference external" href="https://issues.apache.org/jira/browse/TWILL-110">TWILL-110</a>).</p>
</li>
<li><p class="first">Typically, datasets are bundled as part of applications. When an application is upgraded and redeployed,
any changes in datasets will not be redeployed. This is because datasets can be shared across applications,
and an incompatible schema change can break other applications that are using the dataset.
A workaround (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1253">CDAP-1253</a>) is to allow <em>unchecked dataset upgrades</em>.
Upgrades cause the dataset metadata, i.e. its specification including properties, to be updated. The dataset
runtime code is also updated. To prevent data loss the existing data and the underlying HBase tables remain as-is.</p>
<p>You can allow <em>unchecked dataset upgrades</em> by setting the configuration property <code class="docutils literal"><span class="pre">dataset.unchecked.upgrade</span></code>
to <code class="docutils literal"><span class="pre">true</span></code> in <code class="docutils literal"><span class="pre">cdap-site.xml</span></code>. This will ensure that datasets are upgraded when the application is redeployed.
When this configuration is set, the recommended process to deploy an upgraded dataset is to first stop
all applications that are using the dataset before deploying the new version of the application.
This lets all containers (flows, services, etc) to pick up the new dataset changes.
When datasets are upgraded using <code class="docutils literal"><span class="pre">dataset.unchecked.upgrade</span></code>, no schema compatibility checks are performed by the
system. Hence it is very important that the developer verify the backward-compatibility, and makes sure that
other applications that are using the dataset can work with the new changes.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="release-2-6-0">
<h2><a class="reference external" href="http://docs.cask.co/cdap/2.6.0/index.html">Release 2.6.0</a><a class="headerlink" href="#release-2-6-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id53">
<h3>API Changes<a class="headerlink" href="#id53" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>API for specifying services and MapReduce programs has been changed to use a &#8220;configurer&#8221;
style; this will require modification of user classes implementing either MapReduce
or service as the interfaces have changed (<a class="reference external" href="https://issues.cask.co/browse/CDAP-335">CDAP-335</a>).</li>
</ul>
</div>
<div class="section" id="id54">
<h3>New Features<a class="headerlink" href="#id54" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><strong>General</strong><ul>
<li>Health checks are now available for CDAP system services
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-663">CDAP-663</a>).</li>
</ul>
</li>
<li><strong>Applications</strong><ul>
<li>Jar deployment now uses a chunked request and writes to a local temp file
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-91">CDAP-91</a>).</li>
</ul>
</li>
<li><strong>MapReduce</strong><ul>
<li>MapReduce programs can now read binary stream data
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-331">CDAP-331</a>).</li>
</ul>
</li>
<li><strong>Datasets</strong><ul>
<li>Added <a class="reference external" href="source/../../developers-manual/building-blocks/datasets/fileset.html#datasets-fileset" title="(in Cask Data Application Platform v3.4.3)"><span class="xref std std-ref">FileSet</span></a>, a new core dataset type for working with sets of files
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-1">CDAP-1</a>).</li>
</ul>
</li>
<li><strong>Spark</strong><ul>
<li>Spark programs now emit system and custom user metrics
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-346">CDAP-346</a>).</li>
<li>Services can be called from Spark programs and its worker nodes
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-348">CDAP-348</a>).</li>
<li>Spark programs can now read from streams
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-403">CDAP-403</a>).</li>
<li>Added Spark support to the CDAP CLI (Command-line Interface)
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-425">CDAP-425</a>).</li>
<li>Improved speed of Spark unit tests
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-600">CDAP-600</a>).</li>
<li>Spark programs now display system metrics in the CDAP Console
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-652">CDAP-652</a>).</li>
</ul>
</li>
<li><strong>Procedures</strong><ul>
<li>Procedures have been deprecated in favor of services
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-413">CDAP-413</a>).</li>
</ul>
</li>
<li><strong>Services</strong><ul>
<li>Added an HTTP endpoint that returns the endpoints a particular service exposes
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-412">CDAP-412</a>).</li>
<li>Added an HTTP endpoint that lists all services
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-469">CDAP-469</a>).</li>
<li>Default metrics for services have been added to the CDAP Console
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-512">CDAP-512</a>).</li>
<li>The annotations <code class="docutils literal"><span class="pre">&#64;QueryParam</span></code> and <code class="docutils literal"><span class="pre">&#64;DefaultValue</span></code> are now supported in custom service handlers
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-664">CDAP-664</a>).</li>
</ul>
</li>
<li><strong>Metrics</strong><ul>
<li>System and user metrics now support gauge metrics
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-484">CDAP-484</a>).</li>
<li>Metrics can be queried using a program’s run-ID
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-620">CDAP-620</a>).</li>
</ul>
</li>
<li><strong>Documentation</strong><ul>
<li>A <a class="reference external" href="http://docs.cask.co/cdap/2.6.0/en/admin-manual/installation/quick-start.html#installation-quick-start">Quick Start Guide</a> has been added to the
<a class="reference external" href="http://docs.cask.co/cdap/2.6.0/en/admin-manual/index.html#admin-index">CDAP Administration Manual</a>
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-695">CDAP-695</a>).</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id55">
<h3>CDAP Bug Fixes<a class="headerlink" href="#id55" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a problem with readless increments not being used when they were enabled in a dataset
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-383">CDAP-383</a>).</li>
<li>Fixed a problem with applications, whose Spark or Scala user classes were not extended
from either <code class="docutils literal"><span class="pre">JavaSparkProgram</span></code> or <code class="docutils literal"><span class="pre">ScalaSparkProgram</span></code>, failing with a class loading error
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-599">CDAP-599</a>).</li>
<li>Fixed a problem with the <a class="reference external" href="http://docs.cask.co/cdap/2.6.0/en/admin-manual/installation/installation.html#upgrading-an-existing-version">CDAP upgrade tool</a>
not preserving—for tables with readless increments enabled—the coprocessor
configuration during an upgrade (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1044">CDAP-1044</a>).</li>
<li>Fixed a problem with the readless increment implementation dropping increment cells when
a region flush or compaction occurred (<a class="reference external" href="https://issues.cask.co/browse/CDAP-1062">CDAP-1062</a>).</li>
</ul>
</div>
<div class="section" id="known-issues-260">
<span id="id56"></span><h3>Known Issues<a class="headerlink" href="#known-issues-260" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">When running secure Hadoop clusters, metrics and debug logs from MapReduce programs are
not available (<a class="reference external" href="https://issues.cask.co/browse/CDAP-64">CDAP-64</a> and <a class="reference external" href="https://issues.cask.co/browse/CDAP-797">CDAP-797</a>).</p>
</li>
<li><p class="first">When upgrading a cluster from an earlier version of CDAP, warning messages may appear in
the master log indicating that in-transit (emitted, but not yet processed) metrics
system messages could not be decoded (<em>Failed to decode message to MetricsRecord</em>). This
is because of a change in the format of emitted metrics, and can result in a small
amount of metrics data points being lost (<a class="reference external" href="https://issues.cask.co/browse/CDAP-745">CDAP-745</a>).</p>
</li>
<li><p class="first">A race condition resulting in a deadlock can occur when a TwillRunnable container
shutdowns while it still has ZooKeeper events to process. This occasionally surfaces when
running with OpenJDK or JDK7, though not with Oracle JDK6. It is caused by a change in the
<code class="docutils literal"><span class="pre">ThreadPoolExecutor</span></code> implementation between Oracle JDK6 and OpenJDK/JDK7. Until Twill is
updated in a future version of CDAP, a work-around is to kill the errant process. The Yarn
command to list all running applications and their <code class="docutils literal"><span class="pre">app-id</span></code>s is:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">yarn</span> <span class="n">application</span> <span class="o">-</span><span class="n">list</span> <span class="o">-</span><span class="n">appStates</span> <span class="n">RUNNING</span>
</pre></div>
</div>
<p>The command to kill a process is:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">yarn</span> <span class="n">application</span> <span class="o">-</span><span class="n">kill</span> <span class="o">&lt;</span><span class="n">app</span><span class="o">-</span><span class="n">id</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>All versions of CDAP running Twill version 0.4.0 with this configuration can exhibit this
problem (<a class="reference external" href="https://issues.apache.org/jira/browse/TWILL-110">TWILL-110</a>).</p>
</li>
</ul>
</div>
</div>
<div class="section" id="release-2-5-2">
<h2><a class="reference external" href="http://docs.cask.co/cdap/2.5.2/index.html">Release 2.5.2</a><a class="headerlink" href="#release-2-5-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id57">
<h3>CDAP Bug Fixes<a class="headerlink" href="#id57" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a problem with a Coopr-provisioned secure cluster failing to start due to a classpath
issue (<a class="reference external" href="https://issues.cask.co/browse/CDAP-478">CDAP-478</a>).</li>
<li>Fixed a problem with the WISE app zip distribution not packaged correctly; a new version
(0.2.1) has been released (<a class="reference external" href="https://issues.cask.co/browse/CDAP-533">CDAP-533</a>).</li>
<li>Fixed a problem with the examples and tests incorrectly using the ByteBuffer.array
method when reading a stream event (<a class="reference external" href="https://issues.cask.co/browse/CDAP-549">CDAP-549</a>).</li>
<li>Fixed a problem with the Authentication Server so that it can now communicate with an LDAP
instance over SSL (<a class="reference external" href="https://issues.cask.co/browse/CDAP-556">CDAP-556</a>).</li>
<li>Fixed a problem with the program class loader to allow applications to use a different
version of a library than the one that the CDAP platform uses; for example, a different
Kafka library (<a class="reference external" href="https://issues.cask.co/browse/CDAP-559">CDAP-559</a>).</li>
<li>Fixed a problem with CDAP master not obtaining new delegation tokens after running for
<code class="docutils literal"><span class="pre">hbase.auth.key.update.interval</span></code> milliseconds (<a class="reference external" href="https://issues.cask.co/browse/CDAP-562">CDAP-562</a>).</li>
<li>Fixed a problem with the transaction not being rolled back when a user service handler throws an exception
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-607">CDAP-607</a>).</li>
</ul>
</div>
<div class="section" id="other-changes">
<h3>Other Changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Improved the CDAP documentation:<ul>
<li>Re-organized the documentation into three manuals—Developers&#8217; Manual, Administration
Manual, Reference Manual—and a set of examples, how-to guides and tutorials;</li>
<li>Documents are now in smaller chapters, with numerous updates and revisions;</li>
<li>Added a link for downloading an archive of the documentation for offline use;</li>
<li>Added links to examples relevant to a particular component;</li>
<li>Added suggested deployment architectures for Distributed CDAP installations;</li>
<li>Added a glossary;</li>
<li>Added navigation aids at the bottom of each page; and</li>
<li>Tested and updated the Standalone CDAP examples and their documentation.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id58">
<h3>Known Issues<a class="headerlink" href="#id58" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Currently, applications that include Spark or Scala classes in user classes not extended
from either <code class="docutils literal"><span class="pre">JavaSparkProgram</span></code> or <code class="docutils literal"><span class="pre">ScalaSparkProgram</span></code> (depending upon the language)
fail with a class loading error. Spark or Scala classes should not be used outside of the
Spark program. (<a class="reference external" href="https://issues.cask.co/browse/CDAP-599">CDAP-599</a>)</p>
</li>
<li><p class="first">Metrics for MapReduce programs aren&#8217;t populated on secure Hadoop clusters</p>
</li>
<li><p class="first">The metric for the number of cores shown in the Resources view of the CDAP Console will be zero
unless YARN has been configured to enable virtual cores</p>
</li>
<li><p class="first">Writing to datasets through Hive is not supported in CDH4.x
(<a class="reference external" href="https://issues.cask.co/browse/CDAP-988">CDAP-988</a>).</p>
</li>
<li><p class="first">A race condition resulting in a deadlock can occur when a TwillRunnable container
shutdowns while it still has ZooKeeper events to process. This occasionally surfaces when
running with OpenJDK or JDK7, though not with Oracle JDK6. It is caused by a change in the
<code class="docutils literal"><span class="pre">ThreadPoolExecutor</span></code> implementation between Oracle JDK6 and OpenJDK/JDK7. Until Twill is
updated in a future version of CDAP, a work-around is to kill the errant process. The Yarn
command to list all running applications and their <code class="docutils literal"><span class="pre">app-id</span></code>s is:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">yarn</span> <span class="n">application</span> <span class="o">-</span><span class="n">list</span> <span class="o">-</span><span class="n">appStates</span> <span class="n">RUNNING</span>
</pre></div>
</div>
<p>The command to kill a process is:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">yarn</span> <span class="n">application</span> <span class="o">-</span><span class="n">kill</span> <span class="o">&lt;</span><span class="n">app</span><span class="o">-</span><span class="n">id</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>All versions of CDAP running Twill version 0.4.0 with this configuration can exhibit this
problem (<a class="reference external" href="https://issues.apache.org/jira/browse/TWILL-110">TWILL-110</a>).</p>
</li>
</ul>
</div>
</div>
<div class="section" id="release-2-5-1">
<h2><a class="reference external" href="http://docs.cask.co/cdap/2.5.1/index.html">Release 2.5.1</a><a class="headerlink" href="#release-2-5-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id59">
<h3>CDAP Bug Fixes<a class="headerlink" href="#id59" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Improved the documentation of the CDAP authentication and stream clients, both Java and Python APIs.</li>
<li>Fixed problems with the CDAP Command Line Interface (CLI):<ul>
<li>Did not work in non-interactive mode;</li>
<li>Printed excessive debug log messages;</li>
<li>Relative paths did not work as expected; and</li>
<li>Failed to execute SQL queries.</li>
</ul>
</li>
<li>Removed dependencies on SNAPSHOT artifacts for <em>netty-http</em> and <em>auth-clients</em>.</li>
<li>Corrected an error in the message printed by the startup script <code class="docutils literal"><span class="pre">cdap.sh</span></code>.</li>
<li>Resolved a problem with the reading of the properties file by the CDAP Flume Client of CDAP Ingest library
without first checking if authentication was enabled.</li>
</ul>
</div>
<div class="section" id="id60">
<h3>Other Changes<a class="headerlink" href="#id60" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The scripts <code class="docutils literal"><span class="pre">send-query.sh</span></code>, <code class="docutils literal"><span class="pre">access-token.sh</span></code> and <code class="docutils literal"><span class="pre">access-token.bat</span></code> has been replaced by the
<a class="reference internal" href="cli-api.html#cli"><span>CDAP Command Line Interface,</span></a> <code class="docutils literal"><span class="pre">cdap-cli.sh</span></code>.</li>
<li>The CDAP Command Line Interface now uses and saves access tokens when connecting to a secure CDAP instance.</li>
<li>The CDAP Java Stream Client now allows empty String events to be sent.</li>
<li>The CDAP Python Authentication Client&#8217;s <code class="docutils literal"><span class="pre">configure()</span></code> method now takes a dictionary rather than a filepath.</li>
</ul>
</div>
<div class="section" id="id61">
<h3>Known Issues<a class="headerlink" href="#id61" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Metrics for MapReduce programs aren&#8217;t populated on secure Hadoop clusters</p>
</li>
<li><p class="first">The metric for the number of cores shown in the Resources view of the CDAP Console will be zero
unless YARN has been configured to enable virtual cores</p>
</li>
<li><p class="first">A race condition resulting in a deadlock can occur when a TwillRunnable container
shutdowns while it still has ZooKeeper events to process. This occasionally surfaces when
running with OpenJDK or JDK7, though not with Oracle JDK6. It is caused by a change in the
<code class="docutils literal"><span class="pre">ThreadPoolExecutor</span></code> implementation between Oracle JDK6 and OpenJDK/JDK7. Until Twill is
updated in a future version of CDAP, a work-around is to kill the errant process. The Yarn
command to list all running applications and their <code class="docutils literal"><span class="pre">app-id</span></code>s is:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">yarn</span> <span class="n">application</span> <span class="o">-</span><span class="n">list</span> <span class="o">-</span><span class="n">appStates</span> <span class="n">RUNNING</span>
</pre></div>
</div>
<p>The command to kill a process is:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">yarn</span> <span class="n">application</span> <span class="o">-</span><span class="n">kill</span> <span class="o">&lt;</span><span class="n">app</span><span class="o">-</span><span class="n">id</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>All versions of CDAP running Twill version 0.4.0 with this configuration can exhibit this
problem (<a class="reference external" href="https://issues.apache.org/jira/browse/TWILL-110">TWILL-110</a>).</p>
</li>
</ul>
</div>
</div>
<div class="section" id="release-2-5-0">
<h2><a class="reference external" href="http://docs.cask.co/cdap/2.5.0/index.html">Release 2.5.0</a><a class="headerlink" href="#release-2-5-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id62">
<h3>New Features<a class="headerlink" href="#id62" title="Permalink to this headline">¶</a></h3>
<div class="section" id="ad-hoc-querying">
<h4>Ad-hoc querying<a class="headerlink" href="#ad-hoc-querying" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Capability to write to datasets using SQL</li>
<li>Added a CDAP JDBC driver allowing connections from Java applications and third-party business intelligence tools</li>
<li>Ability to perform ad-hoc queries from the CDAP Console:<ul>
<li>Execute a SQL query from the Console</li>
<li>View list of active, completed queries</li>
<li>Download query results</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="datasets">
<h4>Datasets<a class="headerlink" href="#datasets" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Datasets can be tested with TestBase outside of the context of an application</li>
<li>CDAP now checks datasets for compatibility in a verification stage</li>
<li>The Transaction engine uses server-side filtering for efficient transactional reads</li>
<li>Dataset specifications can now be dynamically reconfigured through the use of RESTful endpoints</li>
<li>The Bundle jar format is now used for dataset libs</li>
<li>Increments on datasets are now read-less</li>
</ul>
</div>
<div class="section" id="services">
<h4>Services<a class="headerlink" href="#services" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added simplified APIs for using services from other programs such as MapReduce, flows and Procedures</li>
<li>Added an API for creating services and handlers that can use datasets transactionally</li>
<li>Added a RESTful API to make requests to a service via the Router</li>
</ul>
</div>
<div class="section" id="security">
<h4>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added authorization logging</li>
<li>Added Kerberos authentication to ZooKeeper secret keys</li>
<li>Added support for SSL</li>
</ul>
</div>
<div class="section" id="spark-integration">
<h4>Spark Integration<a class="headerlink" href="#spark-integration" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Supports running Spark programs as a part of CDAP applications in Standalone mode</li>
<li>Supports running Spark programs written with Spark versions 1.0.1 or 1.1.0</li>
<li>Supports Spark&#8217;s <em>MLib</em> and <em>GraphX</em> modules</li>
<li>Includes three examples demonstrating CDAP Spark programs</li>
<li>Adds display of Spark program logs and history in the CDAP Console</li>
</ul>
</div>
<div class="section" id="streams">
<h4>Streams<a class="headerlink" href="#streams" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added a collection of applications, tools and APIs specifically for the ETL (Extract, Transform and Loading) of data</li>
<li>Added support for asynchronously writing to streams</li>
</ul>
</div>
<div class="section" id="clients">
<h4>Clients<a class="headerlink" href="#clients" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added a Command Line Interface</li>
<li>Added a Java Client Interface</li>
</ul>
</div>
</div>
<div class="section" id="major-cdap-bug-fixes">
<h3>Major CDAP Bug Fixes<a class="headerlink" href="#major-cdap-bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a problem with a HADOOP_HOME exception stacktrace when unit-testing an application</li>
<li>Fixed an issue with Hive creating directories in /tmp in the Standalone and unit-test frameworks</li>
<li>Fixed a problem with type inconsistency of service API calls, where numbers were showing up as strings</li>
<li>Fixed an issue with the premature expiration of long-term Authentication Tokens</li>
<li>Fixed an issue with the dataset size metric showing data operations size instead of resource usage</li>
</ul>
</div>
<div class="section" id="known-issues-250">
<span id="id63"></span><h3>Known Issues<a class="headerlink" href="#known-issues-250" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Metrics for MapReduce programs aren&#8217;t populated on secure Hadoop clusters</p>
</li>
<li><p class="first">The metric for the number of cores shown in the Resources view of the CDAP Console will be zero
unless YARN has been configured to enable virtual cores</p>
</li>
<li><p class="first">A race condition resulting in a deadlock can occur when a TwillRunnable container
shutdowns while it still has ZooKeeper events to process. This occasionally surfaces when
running with OpenJDK or JDK7, though not with Oracle JDK6. It is caused by a change in the
<code class="docutils literal"><span class="pre">ThreadPoolExecutor</span></code> implementation between Oracle JDK6 and OpenJDK/JDK7. Until Twill is
updated in a future version of CDAP, a work-around is to kill the errant process. The Yarn
command to list all running applications and their <code class="docutils literal"><span class="pre">app-id</span></code>s is:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">yarn</span> <span class="n">application</span> <span class="o">-</span><span class="n">list</span> <span class="o">-</span><span class="n">appStates</span> <span class="n">RUNNING</span>
</pre></div>
</div>
<p>The command to kill a process is:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">yarn</span> <span class="n">application</span> <span class="o">-</span><span class="n">kill</span> <span class="o">&lt;</span><span class="n">app</span><span class="o">-</span><span class="n">id</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>All versions of CDAP running Twill version 0.4.0 with this configuration can exhibit this
problem (<a class="reference external" href="https://issues.apache.org/jira/browse/TWILL-110">TWILL-110</a>).</p>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    
    
    
    
    
    
    
    
    
    
    
    
  <div role="note" aria-label="manuals links">
    <h3><a href="table-of-contents/../../index.html" rel="nofollow">CDAP Documentation v3.4.3</a></h3>
    <ul class="this-page-menu">
      <li><div class=""></div><a href="table-of-contents/../../index.html" rel="nofollow">Overview</a></li>
      <li><div class=""></div><a href="table-of-contents/../../introduction/index.html" rel="nofollow">Introduction to CDAP</a></li>
      <li><div class=""></div><a href="table-of-contents/../../developers-manual/index.html" rel="nofollow">Developers’ Manual</a></li>
      <li><div class=""></div><a href="table-of-contents/../../cdap-apps/index.html" rel="nofollow">CDAP Applications</a></li>
      <li><div class=""></div><a href="table-of-contents/../../admin-manual/index.html" rel="nofollow">Administration Manual</a></li>
      <li><div class=""></div><a href="table-of-contents/../../integrations/index.html" rel="nofollow">Integrations</a></li>
      <li><div class=""></div><a href="table-of-contents/../../examples-manual/index.html" rel="nofollow">Examples, Guides, and Tutorials</a></li>
      <li><div class=""></div><a href="table-of-contents/../../reference-manual/index.html" rel="nofollow">Reference Manual</a></li>
      <li><div class=""></div><a href="table-of-contents/../../faqs/index.html" rel="nofollow">FAQs</a></li>
      <li><div class=""></div><b><a href="table-of-contents/../../reference-manual/release-notes.html" rel="nofollow">Release Notes</a></b></li>
      <li><div class=""></div><a href="table-of-contents/../../reference-manual/glossary.html" rel="nofollow">Glossary</a></li>
      <li><div class=""></div><a href="table-of-contents/../../search.html" rel="nofollow">Search</a></li>
    </ul>
  </div><!--
  Copyright © 2014-2015 Cask Data, Inc.

  Licensed under the Apache License, Version 2.0 (the "License"); you may not
  use this file except in compliance with the License. You may obtain a copy of
  the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  License for the specific language governing permissions and limitations under
  the License.
-->


    
  <h3 class="pagenavtitle"><a href="table-of-contents.html">Reference Manual: Table&nbsp;of&nbsp;Contents</a></h3>
    <nav class="pagenav">
    <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html"> Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="characters.html"> Supported Characters</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli-api.html"> Command Line Interface API</a></li>
<li class="toctree-l1"><a class="reference internal" href="http-restful-api/index.html"> HTTP RESTful API</a></li>
<li class="toctree-l1"><a class="reference internal" href="java-client-api.html"> Java Client API</a></li>
<li class="toctree-l1"><a class="reference internal" href="javadocs/index.html"> Javadocs</a></li>
<li class="toctree-l1"><a class="reference internal" href="licenses/index.html"> Trademarks, Licenses, and Dependencies</a></li>
</ul>
 
    </nav>
  <div role="note" aria-label="downloads links">
    <h3>Downloads</h3>
    <ul class="this-page-menu">
      <li><a href="http://docs.cask.co/cdap/3.4.3/cdap-docs-3.4.3-web.zip"
            rel="nofollow">Zip Archive of CDAP Documentation</a></li>
    </ul>
   </div>
  
<div id="searchbox" style="display: none" role="search">
  <h3>Quick Search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<div role="note" aria-label="other links">
    <h3><a href="http://docs.cask.co/" target="_blank">Documentation</a></h3>
    <ul class="this-page-menu">
        <li><a href="http://docs.cask.co/cdap/index.html" target="_blank">CDAP</a></li>
        <li><a href="http://docs.cask.co/coopr/index.html" target="_blank">Coopr</a></li>
        <li><a href="http://docs.cask.co/tephra/index.html" target="_blank">Tephra</em></a></li>
        <li><a href="http://docs.cask.co/tigon/index.html" target="_blank">Tigon</a></li>
    </ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">

<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}
.tg td{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg th{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg .tg-s6z2{text-align:center;}
.tg .tg-0ord{text-align:right;}
.tg a{font-weight:bold;}
</style>
<table class="tg" width= 100%>
  <tr>
    <th class="tg-031e">
    
    </th>
    <th class="tg-s6z2">
        Copyright &copy; 2014-2016 Cask Data, Inc.
    
    </th>
    <th class="tg-0ord">
    
    </th>
  </tr>
</table>

    </div>
  </body>
</html>