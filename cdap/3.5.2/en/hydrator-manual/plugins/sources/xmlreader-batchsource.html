<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KWLFGH');</script>
    <!-- End Google Tag Manager -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    
    
    <meta name="git_release" content="3.5.2">
    <meta name="git_hash" content="28d974c3a6a8995059f074de1cdf61c0eb530596">
    <meta name="git_timestamp" content="2016-12-22 16:59:20 -0800">
    <title>XML Reader &mdash; Cask Data Application Platform 3.5.2 Documentation</title>

    <link rel="canonical" href="http://docs.cask.co/cdap/3.5.2/en/hydrator-manual/plugins/sources/xmlreader-batchsource.html">

    
    <link rel="stylesheet" href="../../_static/cdap.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/annotator.min.css" type="text/css" />



    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.5.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/copy-to-clipboard.js"></script>
    <script type="text/javascript" src="../../_static/tabbed-parsed-literal.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Cask Data Application Platform 3.5.2 Documentation" href="../../index.html" />
    <link rel="up" title="Source Plugins" href="index.html" />
    <link rel="next" title="Kafka Streaming" href="kafka-streamingsource.html" />
    <link rel="prev" title="TimePartitionedFileSet Parquet" href="tpfsparquet-batchsource.html" /> 
  </head>
  <body role="document">

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KWLFGH"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="kafka-streamingsource.html" title="Kafka Streaming"
             accesskey="N">Next</a> |</li>
        <li class="right" >
          <a href="tpfsparquet-batchsource.html" title="TimePartitionedFileSet Parquet"
             accesskey="P">Previous</a> |</li>
        
        <script type="text/javascript" src="../../_static/version-menu.js"></script>
        <script src="http://docs.cask.co/cdap/json-versions.js"/></script>
        <script>window.setVersion('3.5.2');</script>
       
        <li><a href="../../table-of-contents.html">Cask Hydrator</a> &raquo;</li>
          <li><a href="../index.html" >Plugin Reference</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Source Plugins</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div id="documentwrapper" class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="xml-reader">
<span id="xml-reader"></span><h1><a class="headerlink" href="#xml-reader" title="Perma-link to this heading">ðŸ”—</a>XML Reader</h1>
<div class="section" id="description">
<span id="description"></span><h2><a class="headerlink" href="#description" title="Perma-link to this heading">ðŸ”—</a>Description</h2>
<p>The XML Reader plugin is a source plugin that allows users to read XML files stored on HDFS.</p>
</div>
<div class="section" id="use-case">
<span id="use-case"></span><h2><a class="headerlink" href="#use-case" title="Perma-link to this heading">ðŸ”—</a>Use Case</h2>
<p>A user would like to read XML files that have been dropped into HDFS.
These can be small to very large XML files. The XMLReader will read and parse the files,
and when used in conjunction with the XMLParser plugin, fields can be extracted.
This reader emits one XML event, specified by the node path property, for each file read.</p>
</div>
<div class="section" id="properties">
<span id="properties"></span><h2><a class="headerlink" href="#properties" title="Perma-link to this heading">ðŸ”—</a>Properties</h2>
<p><strong>referenceName:</strong> This will be used to uniquely identify this source for lineage, annotating metadata, etc.</p>
<p><strong>path:</strong> Path to file(s) to be read. If a directory is specified, terminate the path name with a '/'. (Macro-enabled)</p>
<p><strong>nodePath:</strong> Node path to emit as an individual event from the XML schema.
Example: '/book/price' to read only the price from under the book node. (Macro-enabled)</p>
<p><strong>pattern:</strong> Pattern to select specific file(s). (Optional) (Macro-enabled)
Examples:</p>
<ol class="simple">
<li>Use '^' to select files with names starting with 'catalog', such as '^catalog'.</li>
<li>Use '$' to select files with names ending with 'catalog.xml', such as 'catalog.xml$'.</li>
<li>Use '*' to select file with name contains 'catalogBook', such as 'catalogBook*'.</li>
</ol>
<p><strong>actionAfterProcess:</strong> Action to be taken after processing of the XML file.
Possible actions are:</p>
<ol class="simple">
<li>Delete from the HDFS;</li>
<li>Archived to the target location; and</li>
<li>Moved to the target location.</li>
</ol>
<p><strong>targetFolder:</strong> Target folder path if user select action after process, either ARCHIVE or MOVE.
Target folder must be an existing directory. (Optional) (Macro-enabled)</p>
<p><strong>reprocessingRequired:</strong> Specifies whether the file(s) should be reprocessed.</p>
<p><strong>tableName:</strong> Table name to be used to keep track of processed file(s). (Macro-enabled)</p>
<p><strong>tableExpiryPeriod:</strong> Expiry period (days) for data in the table. Default is 30 days.
Example: For tableExpiryPeriod = 30, data before 30 days get deleted from the table. (Macro-enabled)</p>
<p><strong>temporaryFolder:</strong> An existing HDFS folder path with read and write access for the current user;
required for storing temporary files containing paths of the processed XML files.
These temporary files will be read at the end of the job to update the file track table.
Default to /tmp. (Macro-enabled)</p>
</div>
<div class="section" id="example">
<span id="example"></span><h2><a class="headerlink" href="#example" title="Perma-link to this heading">ðŸ”—</a>Example</h2>
<p>This example reads data from the folder &quot;hdfs:/cask/source/xmls/&quot; and emits XML records on the basis of the node path
&quot;/catalog/book/title&quot;. It will generate structured records with fields 'offset', 'fileName', and 'record'.
It will move the XML files to the target folder &quot;hdfs:/cask/target/xmls/&quot; and update the processed file information
in the table named &quot;trackingTable&quot;.</p>
<pre class="literal-block">
  {
     &quot;name&quot;: &quot;XMLReaderBatchSource&quot;,
     &quot;plugin&quot;:{
                &quot;name&quot;: &quot;XMLReaderBatchSource&quot;,
                &quot;type&quot;: &quot;batchsource&quot;,
                &quot;properties&quot;:{
                              &quot;referenceName&quot;: &quot;referenceName&quot;&quot;
                              &quot;path&quot;: &quot;hdfs:/cask/source/xmls/&quot;,
                              &quot;Pattern&quot;: &quot;^catalog&quot;
                              &quot;nodePath&quot;: &quot;/catalog/book/title&quot;
                              &quot;actionAfterProcess&quot; : &quot;Move&quot;,
                              &quot;targetFolder&quot;:&quot;hdfs:/cask/target/xmls/&quot;,
                              &quot;reprocessingRequired&quot;: &quot;No&quot;,
                              &quot;tableName&quot;: &quot;trackingTable&quot;,
                              &quot;temporaryFolder&quot;: &quot;hdfs:/cask/tmp/&quot;
                }
     }
  }
</pre>
<p>For this XML as an input:</p>
<pre class="literal-block">
 &lt;catalog&gt;
   &lt;book id=&quot;bk104&quot;&gt;
     &lt;author&gt;Corets, Eva&lt;/author&gt;
     &lt;title&gt;Oberon's Legacy&lt;/title&gt;
     &lt;genre&gt;Fantasy&lt;/genre&gt;
     &lt;price&gt;&lt;base&gt;5.95&lt;/base&gt;&lt;tax&gt;&lt;surcharge&gt;13.00&lt;/surcharge&gt;&lt;excise&gt;13.00&lt;/excise&gt;&lt;/tax&gt;&lt;/price&gt;
     &lt;publish_date&gt;2001-03-10&lt;/publish_date&gt;
     &lt;description&gt;&lt;name&gt;&lt;name&gt;In post-apocalypse England, the mysterious
     agent known only as Oberon helps to create a new life
     for the inhabitants of London. Sequel to Maeve
     Ascendant.&lt;/name&gt;&lt;/name&gt;&lt;/description&gt;
   &lt;/book&gt;
   &lt;book id=&quot;bk105&quot;&gt;
     &lt;author&gt;Corets, Eva&lt;/author&gt;
     &lt;title&gt;The Sundered Grail&lt;/title&gt;
     &lt;genre&gt;Fantasy&lt;/genre&gt;
     &lt;price&gt;&lt;base&gt;5.95&lt;/base&gt;&lt;tax&gt;&lt;surcharge&gt;14.00&lt;/surcharge&gt;&lt;excise&gt;14.00&lt;/excise&gt;&lt;/tax&gt;&lt;/price&gt;
     &lt;publish_date&gt;2001-09-10&lt;/publish_date&gt;
     &lt;description&gt;&lt;name&gt;The two daughters of Maeve, half-sisters,
     battle one another for control of England. Sequel to
     Oberon's Legacy.&lt;/name&gt;&lt;/description&gt;
   &lt;/book&gt;
 &lt;/catalog&gt;
</pre>
<p>The output records will be:</p>
<pre class="literal-block">
+==================================================================================+
| offset | filename                            | record                            |
+==================================================================================+
| 2      | hdfs:/cask/source/xmls/catalog.xml  | &lt;title&gt;Oberon's Legacy&lt;/title&gt;    |
| 13     | hdfs:/cask/source/xmls/catalog.xml  | &lt;title&gt;The Sundered Grail&lt;/title&gt; |
+==================================================================================+
</pre>
<hr class="docutils" />
<ul class="simple">
<li>Hydrator Plugin Type: batchsource</li>
<li>Hydrator Version: 1.4.1</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

  <div role="note" aria-label="manuals links">
    <h3><a href="../../table-of-contents/../../index.html" rel="nofollow">CDAP Documentation v3.5.2</a></h3>
    
    <ul class="this-page-menu">
      <li><div class=""></div><a href="../../table-of-contents/../../introduction/index.html" rel="nofollow">Introduction to CDAP</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../developers-manual/index.html" rel="nofollow">Developersâ€™ Manual</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../admin-manual/index.html" rel="nofollow">Administration Manual</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../integrations/index.html" rel="nofollow">Integrations</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../examples-manual/index.html" rel="nofollow">Examples, Guides, and Tutorials</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../reference-manual/index.html" rel="nofollow">Reference Manual</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../faqs/index.html" rel="nofollow">FAQs</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../reference-manual/release-notes.html" rel="nofollow">Release Notes</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../reference-manual/glossary.html" rel="nofollow">Glossary</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../search.html" rel="nofollow">Search</a></li>
    </ul>
    <h3 class="cdap-extensions">CDAP Extensions</h3>
    
    <ul class="this-page-menu">
      <li><div class=""></div><a href="../../table-of-contents/../../hydrator-manual/index.html" rel="nofollow">Cask Hydrator</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../tracker-manual/index.html" rel="nofollow">Cask Tracker</a></li>
    </ul>
  </div>
    
  <h3 class="pagenavtitle"><a href="../../table-of-contents.html">Cask Hydrator: Table&nbsp;of&nbsp;Contents</a></h3>
    <nav class="pagenav">
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html"> Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts-design.html"> Concepts and Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started.html"> Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../studio.html"> Hydrator Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../creating-pipelines.html"> Creating Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../running-pipelines.html"> Running Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plugin-management.html"> Plugin Management</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html"> Plugin Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../actions/index.html"> Action Plugins</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html"> Source Plugins</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="azureblobstore-batchsource.html">Microsoft Azure Blob Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="cassandra-batchsource.html">Cassandra</a></li>
<li class="toctree-l3"><a class="reference internal" href="database-batchsource.html">Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="elasticsearch-batchsource.html">Elasticsearch</a></li>
<li class="toctree-l3"><a class="reference internal" href="excel-batchsource.html">Excel</a></li>
<li class="toctree-l3"><a class="reference internal" href="file-batchsource.html">File</a></li>
<li class="toctree-l3"><a class="reference internal" href="ftp-batchsource.html">FTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="hbase-batchsource.html">HBase</a></li>
<li class="toctree-l3"><a class="reference internal" href="hive-batchsource.html">Hive</a></li>
<li class="toctree-l3"><a class="reference internal" href="kvtable-batchsource.html">KeyValueTable</a></li>
<li class="toctree-l3"><a class="reference internal" href="mongodb-batchsource.html">MongoDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="s3-batchsource.html">Amazon S3</a></li>
<li class="toctree-l3"><a class="reference internal" href="snapshotavro-batchsource.html">Snapshot Avro</a></li>
<li class="toctree-l3"><a class="reference internal" href="snapshotparquet-batchsource.html">Snapshot Parquet</a></li>
<li class="toctree-l3"><a class="reference internal" href="stream-batchsource.html">Stream</a></li>
<li class="toctree-l3"><a class="reference internal" href="table-batchsource.html">Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="tpfsavro-batchsource.html">TimePartitionedFileSet Avro</a></li>
<li class="toctree-l3"><a class="reference internal" href="tpfsparquet-batchsource.html">TimePartitionedFileSet Parquet</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">XML Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="kafka-streamingsource.html">Kafka Streaming</a></li>
<li class="toctree-l3"><a class="reference internal" href="twitter-streamingsource.html">Twitter Streaming</a></li>
<li class="toctree-l3"><a class="reference internal" href="amazonsqs-realtimesource.html">Amazon SQS</a></li>
<li class="toctree-l3"><a class="reference internal" href="datagenerator-realtimesource.html">Data Generator</a></li>
<li class="toctree-l3"><a class="reference internal" href="httppoller-realtimesource.html">HTTP Poller</a></li>
<li class="toctree-l3"><a class="reference internal" href="jms-realtimesource.html">JMS</a></li>
<li class="toctree-l3"><a class="reference internal" href="kafka-realtimesource.html">Kafka</a></li>
<li class="toctree-l3"><a class="reference internal" href="twitter-realtimesource.html">Twitter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../transforms/index.html"> Transform Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analytics/index.html"> Analytic Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sinks/index.html"> Sink Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shared-plugins/index.html"> Shared Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../post-run-plugins/index.html"> Post-run Plugins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developing-pipelines.html"> Developing Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developing-plugins/index.html"> Developing Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how-hydrator-works.html"> How Hydrator Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faqs.html"> FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html"> Glossary</a></li>
</ul>
 
    </nav>
  
<div id="searchbox" style="display: none" role="search">
  <h3>Quick Search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="downloads links">
    <h3>Downloads</h3>
    <ul class="this-page-menu">
      <li><a href="http://docs.cask.co/cdap/3.5.2/cdap-docs-3.5.2-web.zip"
            rel="nofollow">Zip Archive of CDAP Documentation</a></li>
    </ul>
   </div>
<div role="note" aria-label="other links">
    <h3><a href="http://docs.cask.co/" target="_blank">Documentation</a></h3>
    <ul class="this-page-menu">
        <li><a href="http://docs.cask.co/cdap/index.html" target="_blank">CDAP</a></li>
        <li><a href="http://docs.cask.co/coopr/index.html" target="_blank">Coopr</a></li>
        <li><a href="http://docs.cask.co/tigon/index.html" target="_blank">Tigon</a></li>
    </ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">

<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}
.tg td{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg th{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg .tg-s6z2{text-align:center;}
.tg .tg-0ord{text-align:right;}
.tg a{font-weight:bold;}
</style>
<table class="tg" width= 100%>

  <tr>
    <th class="tg-031e">Previous Topic: 
    <a title="TimePartitionedFileSet Parquet" href="tpfsparquet-batchsource.html" />TimePartitionedFileSet Parquet</a>&nbsp;&nbsp;
    </th>
    
    <th class="tg-s6z2">
        Copyright &copy; 2014-2016 Cask Data, Inc.
      &bull; Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </th>
    <th class="tg-0ord">&nbsp;&nbsp;Next Topic:
    <a title="Kafka Streaming" href="kafka-streamingsource.html" />Kafka Streaming</a>
    </th>

  </tr>
</table>

    </div>
  </body>
</html>