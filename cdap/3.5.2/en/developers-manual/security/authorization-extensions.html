<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KWLFGH');</script>
    <!-- End Google Tag Manager -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="Cask Data, Inc." name="author" />
<meta content="Copyright Â© 2016 Cask Data, Inc." name="copyright" />

    
    
    <meta name="git_release" content="3.5.2">
    <meta name="git_hash" content="28d974c3a6a8995059f074de1cdf61c0eb530596">
    <meta name="git_timestamp" content="2016-12-22 16:59:20 -0800">
    <title>Authorization Extensions &mdash; Cask Data Application Platform 3.5.2 Documentation</title>

    <link rel="canonical" href="http://docs.cask.co/cdap/3.5.2/en/developers-manual/security/authorization-extensions.html">

    
    <link rel="stylesheet" href="../_static/cdap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/annotator.min.css" type="text/css" />



    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.5.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copy-to-clipboard.js"></script>
    <script type="text/javascript" src="../_static/tabbed-parsed-literal.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Cask Data Application Platform 3.5.2 Documentation" href="../index.html" />
    <link rel="up" title="Security" href="index.html" />
    <link rel="next" title="Testing and Debugging" href="../testing/index.html" />
    <link rel="prev" title="Custom Authentication" href="custom-authentication.html" /> 
  </head>
  <body role="document">

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KWLFGH"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="../testing/index.html" title="Testing and Debugging"
             accesskey="N">Next</a> |</li>
        <li class="right" >
          <a href="custom-authentication.html" title="Custom Authentication"
             accesskey="P">Previous</a> |</li>
        
        <script type="text/javascript" src="../_static/version-menu.js"></script>
        <script src="http://docs.cask.co/cdap/json-versions.js"/></script>
        <script>window.setVersion('3.5.2');</script>
       
        <li><a href="../table-of-contents.html">Developersâ€™ Manual</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Security</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div id="documentwrapper" class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="authorization-extensions">
<span id="id1"></span><h1><a class="headerlink" href="#authorization-extensions" title="Perma-link to this heading">ðŸ”—</a>Authorization Extensions</h1>
<p>Authorization backends in CDAP are implemented as extensions, and are loaded and executed in their
own Java classloader.</p>
<p>The reason for implementing them as extensions is that a variety of existing authorization
systems can then be plugged into CDAP, and can execute using their own classloader without
having to worry about conflicts with CDAP's system classloader. Each authorization
extension is designed to be a fully self-contained JAR file, packaged with the required
versions of all its dependencies.</p>
<p>This is similar to how CDAP applications are packaged. In fact, users can use the CDAP
application archetype to write their own authorization extension for CDAP. Having the
required dependencies loaded from a separate class loader constructed using the provided
JAR file ensures that there will be no conflicts, even if CDAP itself uses a different
version of the library than the one that the extension requires.</p>
<div class="section" id="writing-your-own-authorization-extension">
<h2><a class="headerlink" href="#writing-your-own-authorization-extension" title="Perma-link to this heading">ðŸ”—</a>Writing Your Own Authorization Extension</h2>
<p>CDAP provides an authorization SPI (Service Provider Interface) for users to implement their own authorization
extensions. To implement an authorization extension:</p>
<ul>
<li><p class="first">Create a Maven project using the CDAP Application Archetype, as described in <a class="reference internal" href="../getting-started/dev-env.html#dev-env"><span>Creating an Application</span></a>.</p>
</li>
<li><p class="first">Implement your authorization extension by extending the <code class="docutils literal"><span class="pre">AbstractAuthorizer</span></code> class.</p>
</li>
<li><p class="first">This class must be specified as the <code class="docutils literal"><span class="pre">Main-Class</span></code> attribute in the extension JAR's
manifest file. This will be done automatically if you specify the <code class="docutils literal"><span class="pre">app.main.class</span></code>
property to be the fully qualified class name in the <code class="docutils literal"><span class="pre">pom.xml</span></code> of the Maven project
generated using the archetype.</p>
</li>
<li><p class="first">The class that extends <code class="docutils literal"><span class="pre">AbstractAuthorizer</span></code> must have a default constructor, as that
default constructor is the one that will be invoked by CDAP.</p>
</li>
<li><p class="first">All dependencies of the class must be packaged within the JAR file containing the
authorizer class. This is also done automatically by the CDAP Application Archetype.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">AbstractAuthorizer</span></code> class provides lifecycle methods for authorization
extensions. Any initialization code should be implemented by overriding the <code class="docutils literal"><span class="pre">initialize</span></code>
method. Cleanup code should be implemented by overriding the <code class="docutils literal"><span class="pre">destroy</span></code> method.</p>
</li>
<li><p class="first">The <code class="docutils literal"><span class="pre">initialize</span></code> method provides an <code class="docutils literal"><span class="pre">AuthorizationContext</span></code> object. This object can
be used to obtain access toâ€”and perform admin operations onâ€”CDAP Datasets and Secure
Keys.</p>
</li>
<li><p class="first">If the authorization extension requires configuration parameters, they are provided in
the <code class="docutils literal"><span class="pre">AuthorizationContext</span></code> object as a Java <code class="docutils literal"><span class="pre">Properties</span></code> object via the
<code class="docutils literal"><span class="pre">getProperties</span></code> method. The <code class="docutils literal"><span class="pre">Properties</span></code> object is populated with configuration
parameters from <code class="docutils literal"><span class="pre">cdap-site.xml</span></code> with the prefix <code class="docutils literal"><span class="pre">security.authorization.extension.config</span></code>.</p>
<p><strong>Note:</strong> In the <code class="docutils literal"><span class="pre">Properties</span></code> object, these configuration parameters are available
with the <code class="docutils literal"><span class="pre">security.authorization.extension.config</span></code> prefix removed. For example:
<code class="docutils literal"><span class="pre">security.authorization.extension.config.example.property</span></code> in the <code class="docutils literal"><span class="pre">cdap-site.xml</span></code>
will be available as <code class="docutils literal"><span class="pre">example.property</span></code> in the <code class="docutils literal"><span class="pre">Properties</span></code> object.</p>
</li>
</ul>
<p>For an example of implementing an authorization extension, please refer to the
<a class="reference external" href="https://github.com/caskdata/cdap-security-extn/blob/release/0.2/cdap-sentry/cdap-sentry-extension/cdap-sentry-binding/src/main/java/co/cask/cdap/security/authorization/sentry/binding/SentryAuthorizer.java">Apache Sentry Authorization Extension</a>
as well as its documentation at <a class="reference external" href="../source/../../integrations/apache-sentry.html#apache-sentry" title="(in Cask Data Application Platform v3.5.2)"><span class="xref std std-ref">Integrations: Apache Sentry</span></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

  <div role="note" aria-label="manuals links">
    <h3><a href="../table-of-contents/../../index.html" rel="nofollow">CDAP Documentation v3.5.2</a></h3>
    
    <ul class="this-page-menu">
      <li><div class=""></div><a href="../table-of-contents/../../introduction/index.html" rel="nofollow">Introduction to CDAP</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../developers-manual/index.html" rel="nofollow">Developersâ€™ Manual</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../admin-manual/index.html" rel="nofollow">Administration Manual</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../integrations/index.html" rel="nofollow">Integrations</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../examples-manual/index.html" rel="nofollow">Examples, Guides, and Tutorials</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../reference-manual/index.html" rel="nofollow">Reference Manual</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../faqs/index.html" rel="nofollow">FAQs</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../reference-manual/release-notes.html" rel="nofollow">Release Notes</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../reference-manual/glossary.html" rel="nofollow">Glossary</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../search.html" rel="nofollow">Search</a></li>
    </ul>
    <h3 class="cdap-extensions">CDAP Extensions</h3>
    
    <ul class="this-page-menu">
      <li><div class=""></div><a href="../table-of-contents/../../hydrator-manual/index.html" rel="nofollow">Cask Hydrator</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../tracker-manual/index.html" rel="nofollow">Cask Tracker</a></li>
    </ul>
  </div>
    
  <h3 class="pagenavtitle"><a href="../table-of-contents.html">Developersâ€™ Manual: Table&nbsp;of&nbsp;Contents</a></h3>
    <nav class="pagenav">
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html"> Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/index.html"> Getting Started Developing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html"> Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../building-blocks/index.html"> Building Blocks</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html"> Security</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="client-authentication.html">Client Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="cdap-authentication-clients-java.html">CDAP Authentication Client for Java</a></li>
<li class="toctree-l2"><a class="reference internal" href="cdap-authentication-clients-python.html">CDAP Authentication Client for Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom-authentication.html">Custom Authentication</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Authorization Extensions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#writing-your-own-authorization-extension">Writing Your Own Authorization Extension</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../testing/index.html"> Testing and Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ingesting-tools/index.html"> Ingesting Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-exploration/index.html"> Data Exploration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/index.html"> Advanced Topics</a></li>
</ul>
 
    </nav>
  
<div id="searchbox" style="display: none" role="search">
  <h3>Quick Search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="downloads links">
    <h3>Downloads</h3>
    <ul class="this-page-menu">
      <li><a href="http://docs.cask.co/cdap/3.5.2/cdap-docs-3.5.2-web.zip"
            rel="nofollow">Zip Archive of CDAP Documentation</a></li>
    </ul>
   </div>
<div role="note" aria-label="other links">
    <h3><a href="http://docs.cask.co/" target="_blank">Documentation</a></h3>
    <ul class="this-page-menu">
        <li><a href="http://docs.cask.co/cdap/index.html" target="_blank">CDAP</a></li>
        <li><a href="http://docs.cask.co/coopr/index.html" target="_blank">Coopr</a></li>
        <li><a href="http://docs.cask.co/tigon/index.html" target="_blank">Tigon</a></li>
    </ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">

<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}
.tg td{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg th{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg .tg-s6z2{text-align:center;}
.tg .tg-0ord{text-align:right;}
.tg a{font-weight:bold;}
</style>
<table class="tg" width= 100%>

  <tr>
    <th class="tg-031e">Previous Topic: 
    <a title="Custom Authentication" href="custom-authentication.html" />Custom Authentication</a>&nbsp;&nbsp;
    </th>
    
    <th class="tg-s6z2">
        Copyright &copy; 2014-2016 Cask Data, Inc.
      &bull; Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </th>
    <th class="tg-0ord">&nbsp;&nbsp;Next Topic:
    <a title="Testing and Debugging" href="../testing/index.html" />Testing and Debugging</a>
    </th>

  </tr>
</table>

    </div>
  </body>
</html>