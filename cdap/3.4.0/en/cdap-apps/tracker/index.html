<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="robots" content="noindex, nofollow">

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="Cask Data, Inc." name="author" />
<meta content="Cask Tracker" name="description" />
<meta content="Copyright © 2016 Cask Data, Inc." name="copyright" />

    
    
    <meta name="git_release" content="3.4.0">
    <meta name="git_hash" content="c0022513cd549a0b8de5ca0596f74c17b3bcc3f1">
    <meta name="git_timestamp" content="2016-04-29 06:11:14 -0700">
    <title>Cask Tracker &mdash; Cask Data Application Platform 3.4.0 Documentation</title>
    
    <link rel="stylesheet" href="../_static/cdap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />


        <link rel="stylesheet" href="../_static/hide-toc.css" type="text/css" />

    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copy-to-clipboard.js"></script>
    <script type="text/javascript" src="../_static/tabbed-parsed-literal.js"></script>
   
    <!-- Google Tag Manager start -->
    <script>dataLayer = [];</script>
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PBZ3JL"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PBZ3JL');</script>
    <!-- Google Tag Manager end -->
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Cask Data Application Platform 3.4.0 Documentation" href="../index.html" />
    <link rel="next" title="Data Quality Application" href="../data-quality/index.html" />
    <link rel="prev" title="ETL Upgrade Procedure" href="../hydrator/upgrade.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="../data-quality/index.html" title="Data Quality Application"
             accesskey="N">Next</a> |</li>
        <li class="right" >
          <a href="../hydrator/upgrade.html" title="ETL Upgrade Procedure"
             accesskey="P">Previous</a> |</li>
        
        <script type="text/javascript" src="../_static/version-menu.js"></script>
        <script src="http://docs.cask.co/cdap/json-versions.js"/></script>
        <script>window.setVersion('3.4.0');</script>
       
        <li><a href="../table-of-contents.html">CDAP CDAP Applications</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="cask-tracker">
<span id="cdap-apps-tracker-index"></span><h1>Cask Tracker<a class="headerlink" href="#cask-tracker" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Cask Tracker (&#8220;Tracker&#8221;) is a self-service CDAP extension that automatically captures
<a class="reference external" href="../source/../../developers-manual/building-blocks/metadata-lineage.html#metadata-lineage" title="(in Cask Data Application Platform v3.4.0)"><span class="xref std std-ref">metadata</span></a> and lets you see how data is flowing into and out
of datasets, streams, and stream views.</p>
<p>It allows you to perform impact and root-cause analysis, and delivers an audit-trail for
auditability and compliance. Tracker furnishes access to structured information that
describes, explains, locates, and makes it easier to retrieve, use, and manage datasets.</p>
<p>Tracker also allows for the storage of metadata where it can be accessed and indexed. This
allows it to be is easily searched and provides consistent, high-quality metadata.</p>
<p>Tracker&#8217;s UI shows a graphical visualization of the <a class="reference external" href="../source/../../developers-manual/building-blocks/metadata-lineage.html#metadata-lineage-lineage" title="(in Cask Data Application Platform v3.4.0)"><span class="xref std std-ref">lineage</span></a> of an entity. A lineage shows—for a specified time range—all data access of the entity, and details of where that access originated from.</p>
<p><strong>Harvest, Index, and Track Datasets</strong></p>
<ul class="simple">
<li>Immediate, timely, and seamless capture of technical, business, and operational metadata,
enabling faster and better traceability of all datasets.</li>
<li>Tracker quickly, reliably, and accurately indexes technical, business, and operational metadata
to help locate datasets.</li>
<li>Through its use of lineage, it lets you understand the impact of changing a dataset on
other datasets, processes or queries.</li>
<li>Tracks the flow of data across enterprise systems and data lakes.</li>
<li>Provides trusted and complete metadata on datasets, enabling traceability to resolve
data issues and to improve data quality.</li>
</ul>
<p><strong>Supports Standardization, Governance, and Compliance Needs</strong></p>
<ul class="simple">
<li>Provide IT with the traceability needed in governing datasets and in applying compliance
rules through seamless integration with other extensions.</li>
<li>Tracker has consistent definitions of metadata-containing information about the data to reconcile
differences in terminologies.</li>
<li>It helps you in the understanding of the lineage of your business-critical data.</li>
</ul>
<p><strong>Blends Metadata Analytics and Integrations</strong></p>
<ul class="simple">
<li>See how your datasets are being created, accessed, and processed.</li>
<li>Extensible integrations are available with enterprise-grade MDM (master data management)
systems such as <a class="reference external" href="https://www.cloudera.com/products/cloudera-navigator.html">Cloudera Navigator</a>
for centralizing metadata repository and the delivery of complete, accurate, and correct
data.</li>
</ul>
<div class="section" id="example-use-case">
<h3>Example Use Case<a class="headerlink" href="#example-use-case" title="Permalink to this headline">¶</a></h3>
<p>An example use case describes how Tracker was employed in the <a class="reference external" href="http://customers.cask.co/rs/882-OYR-915/images/tracker-casestudy1.pdf">data cleansing and validating of
three billion records</a>.</p>
</div>
</div>
<div class="section" id="tracker-application">
<h2>Tracker Application<a class="headerlink" href="#tracker-application" title="Permalink to this headline">¶</a></h2>
<p>The Cask Tracker application consists of an application in CDAP with two programs and two datasets:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">_Tracker</span></code> application: names begins with an underscore</li>
<li><code class="docutils literal"><span class="pre">AuditLog</span></code> service: it exposes the Tracker audit log as an API</li>
<li><code class="docutils literal"><span class="pre">AuditLogFlow</span></code> flow: subscribes to Kafka audit messages and stores them in the <code class="docutils literal"><span class="pre">_auditLog</span></code>        dataset</li>
<li><code class="docutils literal"><span class="pre">_auditLog</span></code> custom dataset: type <code class="docutils literal"><span class="pre">co.cask.tracker.entity.AuditLogTable</span></code></li>
<li><code class="docutils literal"><span class="pre">_kafkaOffset</span></code> dataset: type key-value table</li>
</ul>
<p>The Tracker UI is shipped with CDAP, started automatically as part of the CDAP UI, and is available at:</p>
<blockquote>
<div><a class="reference external" href="http://localhost:9999/ns/default/tracker/home">http://localhost:9999/ns/default/tracker/home</a></div></blockquote>
<p>or (Distributed CDAP):</p>
<blockquote>
<div><a class="reference external" href="http://host:dashboard-bind-port/ns/default/tracker/home">http://host:dashboard-bind-port/ns/default/tracker/home</a></div></blockquote>
<p>Tracker is built from a system artifact included with CDAP, <code class="docutils literal"><span class="pre">tracker-0.1.0-SNAPSHOT.jar</span></code>.</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Cask Tracker is deployed from its system artifact included with CDAP. A CDAP administrator
does not need to build anything to add Cask Tracker to CDAP; they merely need to enable
the application after starting CDAP.</p>
<p>These two properties are used by Tracker for its audit log functionality:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="o">&lt;!--</span> <span class="n">Audit</span> <span class="n">Configuration</span> <span class="o">--&gt;</span>

<span class="o">&lt;</span><span class="n">property</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="n">audit</span><span class="o">.</span><span class="na">enabled</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="kc">true</span><span class="o">&lt;/</span><span class="n">value</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">description</span><span class="o">&gt;</span>
    <span class="n">Determines</span> <span class="n">whether</span> <span class="n">to</span> <span class="n">publish</span> <span class="n">audit</span> <span class="n">messages</span> <span class="n">to</span> <span class="n">Apache</span> <span class="n">Kafka</span>
  <span class="o">&lt;/</span><span class="n">description</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">property</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">property</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="n">audit</span><span class="o">.</span><span class="na">kafka</span><span class="o">.</span><span class="na">topic</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="n">audit</span><span class="o">&lt;/</span><span class="n">value</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">description</span><span class="o">&gt;</span>
    <span class="n">Apache</span> <span class="n">Kafka</span> <span class="n">topic</span> <span class="n">name</span> <span class="n">to</span> <span class="n">which</span> <span class="n">audit</span> <span class="n">messages</span> <span class="n">are</span> <span class="n">published</span>
  <span class="o">&lt;/</span><span class="n">description</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">property</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>As these are the default settings for these properties, they do not need to be included in the
<code class="docutils literal"><span class="pre">cdap-site.xml</span></code> file.</p>
<div class="section" id="enabling-tracker">
<h3>Enabling Tracker<a class="headerlink" href="#enabling-tracker" title="Permalink to this headline">¶</a></h3>
<p>To enable Tracker, go to the <strong>Tracker UI</strong> at
(in the SDK) <a class="reference external" href="http://localhost:9999/ns/default/tracker/home">http://localhost:9999/ns/default/tracker/home</a> or
(Distributed CDAP) <a class="reference external" href="http://host:dashboard-bind-port/ns/default/tracker/home">http://host:dashboard-bind-port/ns/default/tracker/home</a>
and press the <code class="docutils literal"><span class="pre">&quot;Enable</span> <span class="pre">Tracker&quot;</span></code> button to deploy and start Tracker.</p>
<p>Once pressed, the application will be deployed, the datasets created (if necessary), the flow and service
started, and search and audit logging will become available.</p>
<p>If you are enabling Tracker from outside the UI, you will, in addition to enabling auditing
in the <code class="docutils literal"><span class="pre">cdap-site.xml</span></code> as described above, need to follow these steps:</p>
<ul>
<li><p class="first">Using the CDAP CLI, load the artifact (<code class="docutils literal"><span class="pre">tracker-0.1.0-SNAPSHOT.jar</span></code>):</p>
<div class="highlight container">
<pre class="literal-block">
<span class="gp">cdap &gt;</span> load artifact target/tracker-0.1.0-SNAPSHOT.jar
</pre>
</div>
</li>
<li><p class="first">Create an application configuration file (<code class="docutils literal"><span class="pre">appconfig.txt</span></code>) that contains the Kafka
Audit Log reader configuration (the property <code class="docutils literal"><span class="pre">auditLogKafkaConfig</span></code>). It is the Kafka
Consumer Flowlet configuration information. For example:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="o">{</span>
  <span class="s">&quot;config&quot;</span><span class="o">:</span> <span class="o">{</span>
    <span class="s">&quot;auditLogKafkaConfig&quot;</span><span class="o">:</span> <span class="o">{</span>
      <span class="s">&quot;zookeeperString&quot;</span><span class="o">:</span> <span class="s">&quot;&lt;host&gt;:&lt;port&gt;/cdap/kafka&quot;</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>substituting for <code class="docutils literal"><span class="pre">&lt;host&gt;</span></code> and <code class="docutils literal"><span class="pre">&lt;port&gt;</span></code> with appropriate values.</p>
</li>
<li><p class="first">Create a CDAP application using the configuration file:</p>
<div class="highlight container">
<pre class="literal-block">
<span class="gp">cdap &gt;</span> create app TrackerApp tracker 0.1.0-SNAPSHOT USER appconfig.txt
</pre>
</div>
</li>
</ul>
<p><strong>Audit Log Kafka Config:</strong></p>
<p>This key contains a property map with:</p>
<ul>
<li><p class="first">Required Properties:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">zookeeperString</span></code>: Kafka Zookeeper string that can be used to subscribe to the CDAP audit log updates</li>
<li><code class="docutils literal"><span class="pre">brokerString</span></code>: Kafka Broker string to which CDAP audit log data is published</li>
</ul>
<p><em>Note:</em> Specify either the <code class="docutils literal"><span class="pre">zookeeperString</span></code> or the <code class="docutils literal"><span class="pre">brokerString</span></code>.</p>
</li>
<li><p class="first">Optional Properties:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">topic</span></code>: Kafka Topic to which CDAP audit updates are published; default is <code class="docutils literal"><span class="pre">audit</span></code> which
corresponds to the default topic used in CDAP for audit log updates</li>
<li><code class="docutils literal"><span class="pre">numPartitions</span></code>: Number of Kafka partitions; default is set to <code class="docutils literal"><span class="pre">10</span></code></li>
<li><code class="docutils literal"><span class="pre">offsetDataset</span></code>: Name of the dataset where Kafka offsets are stored; default is <code class="docutils literal"><span class="pre">_kafkaOffset</span></code></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="restarting-cdap">
<h3>Restarting CDAP<a class="headerlink" href="#restarting-cdap" title="Permalink to this headline">¶</a></h3>
<p>As Tracker is an application running inside CDAP, it does not start up automatically when
CDAP is restarted. Each time that you start CDAP, you will need to re-enable Tracker.
Re-enabling Tracker does not recreate the datasets; instead, the same datasets as were
used in previous runs are used.</p>
<p>If you are using the audit log feature of Tracker, it is best that Tracker be enabled
<strong>before</strong> you begin any other applications.</p>
<p>If the installation of CDAP is an upgrade from a previous version, all activity and
datasets prior to the enabling of Tracker will not be available or seen in the Tracker UI.</p>
</div>
<div class="section" id="disabling-and-removing-tracker">
<h3>Disabling and Removing Tracker<a class="headerlink" href="#disabling-and-removing-tracker" title="Permalink to this headline">¶</a></h3>
<p>If for some reason you need to disable or remove Tracker, you would need to:</p>
<ul class="simple">
<li>stop the Tracker flow</li>
<li>stop the Tracker service</li>
<li>delete the Tracker application</li>
<li>delete the Tracker datasets</li>
</ul>
</div>
</div>
<div class="section" id="tracker-and-its-ui">
<h2>Tracker and its UI<a class="headerlink" href="#tracker-and-its-ui" title="Permalink to this headline">¶</a></h2>
<div class="section" id="search">
<h3>Search<a class="headerlink" href="#search" title="Permalink to this headline">¶</a></h3>
<p>Searching in Tracker is provided by an interface similar to that of a popular search engine:</p>
<div class="figure align-center" style="width: 100%">
<a class="bordered-image reference internal image-reference" href="../_images/tracker-home-search.png"><img alt="../_images/tracker-home-search.png" class="bordered-image" src="../_images/tracker-home-search.png" style="width: 800px;" /></a>
</div>
<p>In the text box, you enter your search terms:</p>
<ul class="simple">
<li>Multiple search terms can be searched by separating them with a space character.</li>
<li>Search terms are case-insensitive.</li>
<li>Search the metadata of entities by using either a complete or partial name followed by
an asterisk <code class="docutils literal"><span class="pre">*</span></code>, as described in the <a class="reference external" href="../source/../../reference-manual/http-restful-api/metadata.html#http-restful-api-metadata-query-terms" title="(in Cask Data Application Platform v3.4.0)"><span class="xref std std-ref">Metadata HTTP RESTful API</span></a>.</li>
<li>Tracker searches tags, properties, and schema of CDAP datasets, streams, and stream views.</li>
</ul>
<p>For example, if you have just started CDAP and enabled Tracker, you could enter a search
term such as <code class="docutils literal"><span class="pre">a*</span> <span class="pre">k*</span></code>, which will find all entities that begin with the letter <code class="docutils literal"><span class="pre">a</span></code> or
<code class="docutils literal"><span class="pre">k</span></code>.</p>
<p>The results would appear similar to this:</p>
<div class="figure align-center" style="width: 100%">
<a class="bordered-image reference internal image-reference" href="../_images/tracker-first-search.png"><img alt="../_images/tracker-first-search.png" class="bordered-image" src="../_images/tracker-first-search.png" style="width: 800px;" /></a>
</div>
<p>In this example, Tracker has found two datasets that satisfy the condition. The search
used is shown in the upper-left, and the results show both the datasets found with
information and links for each.</p>
<p><strong>On the left side</strong> is the <strong>Filter</strong> pane, which provides information on what was found (the
entities and metadata types) with statistics of the number found for each category. A blue
checkbox allows you to filter based on these attributes. If you mouse over a category, an
<code class="docutils literal"><span class="pre">only</span></code> link will appear, which allows you to select <em>only</em> that category as a filter.</p>
<p>Note that the <em>entities</em> and <em>metadata</em> filters have an <code class="docutils literal"><span class="pre">and</span></code> relationship; at least one
selection must be made in each of <em>entities</em> and <em>metadata</em> for there to be any results
that appear.</p>
<p><strong>On the right side</strong> is a sortable list of results. It is sortable by <em>Create Date</em> or the entity
ID (name), either <em>A-Z</em> (alphabetical ascending), or <em>Z-A</em> (alphabetical descending).</p>
<p>Each entry in the list provides a summery of information about the entity, and its name is
a hyperlink to further details: metadata, lineage, and audit log.</p>
<p>The <strong>Jump</strong> button provides three actions: go to the selected entity in CDAP, or add it
to a new Cask Hydrator pipeline as a source or as a sink. Datasets can be added as sources or
sinks to batch pipelines, while streams can be sources in batch pipelines or sinks in
real-time pipelines.</p>
</div>
<div class="section" id="entity-details">
<h3>Entity Details<a class="headerlink" href="#entity-details" title="Permalink to this headline">¶</a></h3>
<p>Clicking on a name in the search results list will take you to details for a particular
entity. Details are provided on three separate tabs: <em>Metadata</em>, <em>Lineage</em>, and <em>Audit
Log</em>.</p>
<p><strong>Metadata</strong></p>
<p>The <em>Metadata</em> tab provides lists of the <em>System Tags</em>, <em>User Tags</em>, <em>Schema</em>, <em>User
Properties</em>, and <em>System Properties</em> that were found for the entity. The values shown will
vary depending on the type of entity and each individual entity. For instance, a stream
may have a schema attached, and if so, it will be displayed.</p>
<div class="figure align-center" style="width: 100%">
<a class="bordered-image reference internal image-reference" href="../_images/tracker-metadata.png"><img alt="../_images/tracker-metadata.png" class="bordered-image" src="../_images/tracker-metadata.png" style="width: 800px;" /></a>
</div>
<p><strong>Lineage</strong></p>
<p>The <em>Lineage</em> tab shows the relationship between an entity and the programs that are
interacting with it. As different lineage diagrams can be created for the same entity,
depending on the particular set of programs selected to construct the diagram, a green
button in the shape of an arrow is used to cycle through the different lineage digrams
that a particular entity participates in.</p>
<p>A date menu in the left side of the digram lets you control the time range that the
diagram displays. By default, the last seven days are used, though a custom range can be
specified, in addition to common time ranges (two weeks to one year).</p>
<div class="figure align-center" style="width: 100%">
<a class="bordered-image reference internal image-reference" href="../_images/tracker-lineage.png"><img alt="../_images/tracker-lineage.png" class="bordered-image" src="../_images/tracker-lineage.png" style="width: 800px;" /></a>
</div>
<p><strong>Audit Log</strong></p>
<p>The <em>Audit Log</em> tab shows each record in the <em>_auditLog</em> dataset that has been created for
that particular entity, displayed in reverse chronological order. Because of how datasets
work in CDAP, reading and writing from a flow or service to a dataset shows an access of
&#8220;UNKNOWN&#8221; rather than indicating if it was read or write access. This will be addressed in
a future release.</p>
<p>A date menu in the left side of the digram lets you control the time range that the
diagram displays. By default, the last seven days are used, though a custom range can be
specified, in addition to common time ranges (two weeks to one year).</p>
<div class="figure align-center" style="width: 100%">
<a class="bordered-image reference internal image-reference" href="../_images/tracker-audit-log.png"><img alt="../_images/tracker-audit-log.png" class="bordered-image" src="../_images/tracker-audit-log.png" style="width: 800px;" /></a>
</div>
</div>
<div class="section" id="integrations">
<h3>Integrations<a class="headerlink" href="#integrations" title="Permalink to this headline">¶</a></h3>
<p>Tracker allows for an easy integration with <a class="reference external" href="https://www.cloudera.com/products/cloudera-navigator.html">Cloudera Navigator</a>  by providing a UI to
connecting to a Navigator instance:</p>
<div class="figure align-center" style="width: 100%">
<a class="bordered-image reference internal image-reference" href="../_images/tracker-integration-configuration.png"><img alt="../_images/tracker-integration-configuration.png" class="bordered-image" src="../_images/tracker-integration-configuration.png" style="width: 800px;" /></a>
</div>
<p>Details on completing this form are described in CDAP&#8217;s documentation on
<a class="reference external" href="../source/../../integrations/partners/cloudera/navigator-integration.html#navigator-integration" title="(in Cask Data Application Platform v3.4.0)"><span class="xref std std-ref">Navigator Integration Application</span></a>.</p>
</div>
</div>
<div class="section" id="tracker-http-restful-api">
<h2>Tracker HTTP RESTful API<a class="headerlink" href="#tracker-http-restful-api" title="Permalink to this headline">¶</a></h2>
<p>Tracker supports searching of the <em>_auditLog</em> dataset through an HTTP RESTful API. To
search for audit log entries for a particular dataset, stream, or stream view, submit an
HTTP GET request:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">GET</span> <span class="o">&lt;</span><span class="n">base</span><span class="o">-</span><span class="n">url</span><span class="o">&gt;/</span><span class="n">namespaces</span><span class="o">/&lt;</span><span class="n">namespace</span><span class="o">&gt;/</span><span class="n">apps</span><span class="o">/</span><span class="n">_Tracker</span><span class="o">/</span><span class="n">services</span><span class="o">/</span><span class="n">AuditLog</span><span class="o">/</span><span class="n">methods</span><span class="o">/</span><span class="n">auditlog</span><span class="o">/&lt;</span><span class="n">entity</span><span class="o">-</span><span class="n">type</span><span class="o">&gt;/&lt;</span><span class="n">name</span><span class="o">&gt;</span>
  <span class="o">[?</span><span class="n">startTime</span><span class="o">=&lt;</span><span class="n">time</span><span class="o">&gt;][&amp;</span><span class="n">endTime</span><span class="o">=&lt;</span><span class="n">time</span><span class="o">&gt;][&amp;</span><span class="n">offset</span><span class="o">=&lt;</span><span class="n">offset</span><span class="o">&gt;][&amp;</span><span class="n">limit</span><span class="o">=&lt;</span><span class="n">limit</span><span class="o">&gt;]</span>
</pre></div>
</div>
<p>where:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;namespace&gt;</span></code></td>
<td>Namespace ID</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;entity-type&gt;</span></code></td>
<td>One of <code class="docutils literal"><span class="pre">dataset</span></code>, <code class="docutils literal"><span class="pre">stream</span></code>, or <code class="docutils literal"><span class="pre">stream_view</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;name&gt;</span></code></td>
<td>Name of the <code class="docutils literal"><span class="pre">&lt;entity-type&gt;</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;time&gt;</span></code> <em>(Optional)</em></td>
<td>Time range defined by start (<em>startTime</em>, default <code class="docutils literal"><span class="pre">0</span></code>) and end (<em>endTime</em>,
default <code class="docutils literal"><span class="pre">now</span></code>) times, where the times are either in milliseconds since the start of
the Epoch, or a relative time, using <code class="docutils literal"><span class="pre">now</span></code> and times added to it. You can apply
simple math, using <code class="docutils literal"><span class="pre">now</span></code> for the current time, <code class="docutils literal"><span class="pre">s</span></code> for seconds, <code class="docutils literal"><span class="pre">m</span></code> for
minutes, <code class="docutils literal"><span class="pre">h</span></code> for hours and <code class="docutils literal"><span class="pre">d</span></code> for days. For example: <code class="docutils literal"><span class="pre">now-5d-12h</span></code> is 5 days
and 12 hours ago.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;offset&gt;</span></code> <em>(Optional)</em></td>
<td>The offset to start the results at for paging; default is <code class="docutils literal"><span class="pre">0</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;limit&gt;</span></code> <em>(Optional)</em></td>
<td>The maximum number of results to return in the results; default is <code class="docutils literal"><span class="pre">10</span></code>.</td>
</tr>
</tbody>
</table>
<p>A successful query will return with the results as a field along with a count of the total
results available, plus the offset used for the set of results returned. This is to allow
for pagination through the results. Results are sorted so that the most recent audit event
in the time range is returned first.</p>
<p>If there are no results, an empty set of results will be returned (pretty-printed here for
display):</p>
<div class="highlight-java"><div class="highlight"><pre><span class="o">{</span>
  <span class="s">&quot;totalResults&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span>
  <span class="s">&quot;results&quot;</span><span class="o">:</span> <span class="o">[],</span>
  <span class="s">&quot;offset&quot;</span><span class="o">:</span> <span class="mi">0</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-java"><div class="highlight"><pre>curl -w&#39;\n&#39; -X GET &#39;http://localhost:10000/v3/namespaces/default/apps/_Tracker/services/AuditLog/methods/auditlog/stream/who?limit=1&amp;startTime=now-5d-12h&amp;endTime=now-12h&#39;
</pre></div>
</div>
<p>Results (reformatted for display):</p>
<div class="highlight-java"><div class="highlight"><pre><span class="o">{</span>
  <span class="s">&quot;totalResults&quot;</span><span class="o">:</span> <span class="mi">5</span><span class="o">,</span>
  <span class="s">&quot;results&quot;</span><span class="o">:</span> <span class="o">[</span>
    <span class="o">{</span>
      <span class="s">&quot;version&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="o">,</span>
      <span class="s">&quot;time&quot;</span><span class="o">:</span> <span class="mi">1461266805472</span><span class="o">,</span>
      <span class="s">&quot;entityId&quot;</span><span class="o">:</span> <span class="o">{</span>
        <span class="s">&quot;namespace&quot;</span><span class="o">:</span> <span class="s">&quot;default&quot;</span><span class="o">,</span>
        <span class="s">&quot;stream&quot;</span><span class="o">:</span> <span class="s">&quot;who&quot;</span><span class="o">,</span>
        <span class="s">&quot;entity&quot;</span><span class="o">:</span> <span class="s">&quot;STREAM&quot;</span>
      <span class="o">},</span>
      <span class="s">&quot;user&quot;</span><span class="o">:</span> <span class="s">&quot;unknown&quot;</span><span class="o">,</span>
      <span class="s">&quot;type&quot;</span><span class="o">:</span> <span class="s">&quot;METADATA_CHANGE&quot;</span><span class="o">,</span>
      <span class="s">&quot;payload&quot;</span><span class="o">:</span> <span class="o">{</span>
        <span class="s">&quot;previous&quot;</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">&quot;SYSTEM&quot;</span><span class="o">:</span> <span class="o">{</span>
            <span class="s">&quot;properties&quot;</span><span class="o">:</span> <span class="o">{</span>
              <span class="s">&quot;creation-time&quot;</span><span class="o">:</span> <span class="s">&quot;1461266804916&quot;</span><span class="o">,</span>
              <span class="s">&quot;ttl&quot;</span><span class="o">:</span> <span class="s">&quot;9223372036854775807&quot;</span>
            <span class="o">},</span>
            <span class="s">&quot;tags&quot;</span><span class="o">:</span> <span class="o">[</span>
              <span class="s">&quot;who&quot;</span>
            <span class="o">]</span>
          <span class="o">}</span>
        <span class="o">},</span>
        <span class="s">&quot;additions&quot;</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">&quot;SYSTEM&quot;</span><span class="o">:</span> <span class="o">{</span>
            <span class="s">&quot;properties&quot;</span><span class="o">:</span> <span class="o">{</span>
              <span class="s">&quot;schema&quot;</span><span class="o">:</span> <span class="s">&quot;{\&quot;type\&quot;:\&quot;record\&quot;,\&quot;name\&quot;:\&quot;stringBody\&quot;,\&quot;fields\&quot;:[{\&quot;name\&quot;:\&quot;body\&quot;,\&quot;type\&quot;:\&quot;string\&quot;}]}&quot;</span>
            <span class="o">},</span>
            <span class="s">&quot;tags&quot;</span><span class="o">:</span> <span class="o">[]</span>
          <span class="o">}</span>
        <span class="o">},</span>
        <span class="s">&quot;deletions&quot;</span><span class="o">:</span> <span class="o">{</span>
          <span class="s">&quot;SYSTEM&quot;</span><span class="o">:</span> <span class="o">{</span>
            <span class="s">&quot;properties&quot;</span><span class="o">:</span> <span class="o">{},</span>
            <span class="s">&quot;tags&quot;</span><span class="o">:</span> <span class="o">[]</span>
          <span class="o">}</span>
        <span class="o">}</span>
      <span class="o">}</span>
    <span class="o">},</span>

    <span class="o">.</span> <span class="o">.</span> <span class="o">.</span>

    <span class="o">{</span>
      <span class="s">&quot;version&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="o">,</span>
      <span class="s">&quot;time&quot;</span><span class="o">:</span> <span class="mi">1461266805404</span><span class="o">,</span>
      <span class="s">&quot;entityId&quot;</span><span class="o">:</span> <span class="o">{</span>
        <span class="s">&quot;namespace&quot;</span><span class="o">:</span> <span class="s">&quot;default&quot;</span><span class="o">,</span>
        <span class="s">&quot;stream&quot;</span><span class="o">:</span> <span class="s">&quot;who&quot;</span><span class="o">,</span>
        <span class="s">&quot;entity&quot;</span><span class="o">:</span> <span class="s">&quot;STREAM&quot;</span>
      <span class="o">},</span>
      <span class="s">&quot;user&quot;</span><span class="o">:</span> <span class="s">&quot;unknown&quot;</span><span class="o">,</span>
      <span class="s">&quot;type&quot;</span><span class="o">:</span> <span class="s">&quot;CREATE&quot;</span><span class="o">,</span>
      <span class="s">&quot;payload&quot;</span><span class="o">:</span> <span class="o">{}</span>
    <span class="o">}</span>
  <span class="o">],</span>
  <span class="s">&quot;offset&quot;</span><span class="o">:</span> <span class="mi">0</span>
<span class="o">}</span>
</pre></div>
</div>
<p class="rubric">HTTP Responses</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Status Codes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">200</span> <span class="pre">OK</span></code></td>
<td>Returns the audit log entries requested in the body of the response.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">400</span> <span class="pre">BAD</span> <span class="pre">REQUEST</span></code></td>
<td>Returned if the input values are invalid, such as an incorrect date format, negative
offsets or limits, or an invalid range. The response will include an appropriate error
message.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">500</span> <span class="pre">SERVER</span> <span class="pre">ERROR</span></code></td>
<td>Unknown server error.</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    
    
    
    
    
    
    
    
    
    
    
    
  <div role="note" aria-label="manuals links">
    <h3><a href="../table-of-contents/../../index.html" rel="nofollow">CDAP Documentation v3.4.0</a></h3>
    <ul class="this-page-menu">
      <li><div class=""></div><a href="../table-of-contents/../../index.html" rel="nofollow">Overview</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../introduction/index.html" rel="nofollow">Introduction to CDAP</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../developers-manual/index.html" rel="nofollow">Developers’ Manual</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../cdap-apps/index.html" rel="nofollow">CDAP Applications</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../admin-manual/index.html" rel="nofollow">Administration Manual</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../integrations/index.html" rel="nofollow">Integrations</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../examples-manual/index.html" rel="nofollow">Examples, Guides, and Tutorials</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../reference-manual/index.html" rel="nofollow">Reference Manual</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../faqs/index.html" rel="nofollow">FAQs</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../reference-manual/release-notes.html" rel="nofollow">Release Notes</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../reference-manual/glossary.html" rel="nofollow">Glossary</a></li>
      <li><div class=""></div><a href="../table-of-contents/../../search.html" rel="nofollow">Search</a></li>
    </ul>
  </div><!--
  Copyright © 2014-2015 Cask Data, Inc.

  Licensed under the Apache License, Version 2.0 (the "License"); you may not
  use this file except in compliance with the License. You may obtain a copy of
  the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  License for the specific language governing permissions and limitations under
  the License.
-->


    
  <h3 class="pagenavtitle"><a href="../table-of-contents.html">CDAP Applications: Table&nbsp;of&nbsp;Contents</a></h3>
    <nav class="pagenav">
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html"> Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hydrator/index.html"> Cask Hydrator and ETL</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href=""> Cask Tracker</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example-use-case">Example Use Case</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tracker-application">Tracker Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#enabling-tracker">Enabling Tracker</a></li>
<li class="toctree-l3"><a class="reference internal" href="#restarting-cdap">Restarting CDAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#disabling-and-removing-tracker">Disabling and Removing Tracker</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tracker-and-its-ui">Tracker and its UI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#search">Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="#entity-details">Entity Details</a></li>
<li class="toctree-l3"><a class="reference internal" href="#integrations">Integrations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tracker-http-restful-api">Tracker HTTP RESTful API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../data-quality/index.html"> Data Quality Application</a></li>
</ul>
 
    </nav>
  <h4>Topics</h4>
  <ul>
  <li class="topless"><i>Previous:</i> <a href="../hydrator/upgrade.html"
                        title="Previous Topic">ETL Upgrade Procedure</a></li>
  <li class="topless"><i>Next:</i> <a href="../data-quality/index.html"
                        title="Next Topic">Data Quality Application</a></li>
  </ul>
  <div role="note" aria-label="downloads links">
    <h3>Downloads</h3>
    <ul class="this-page-menu">
      <li><a href="http://docs.cask.co/cdap/3.4.0/cdap-docs-3.4.0-web.zip"
            rel="nofollow">Zip Archive of CDAP Documentation</a></li>
    </ul>
   </div>
  
<div id="searchbox" style="display: none" role="search">
  <h3>Quick Search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<div role="note" aria-label="other links">
    <h3><a href="http://docs.cask.co/" target="_blank">Documentation</a></h3>
    <ul class="this-page-menu">
        <li><a href="http://docs.cask.co/cdap/index.html" target="_blank">CDAP</a></li>
        <li><a href="http://docs.cask.co/coopr/index.html" target="_blank">Coopr</a></li>
        <li><a href="http://docs.cask.co/tephra/index.html" target="_blank">Tephra</em></a></li>
        <li><a href="http://docs.cask.co/tigon/index.html" target="_blank">Tigon</a></li>
    </ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">

<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}
.tg td{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg th{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg .tg-s6z2{text-align:center;}
.tg .tg-0ord{text-align:right;}
.tg a{font-weight:bold;}
</style>
<table class="tg" width= 100%>
  <tr>
    <th class="tg-031e">Previous Topic: 
    <a title="ETL Upgrade Procedure" href="../hydrator/upgrade.html" />ETL Upgrade Procedure</a>&nbsp;&nbsp;
    
    </th>
    <th class="tg-s6z2">
        Copyright &copy; 2014-2016 Cask Data, Inc.
    
    </th>
    <th class="tg-0ord">&nbsp;&nbsp;Next Topic:
    <a title="Data Quality Application" href="../data-quality/index.html" />Data Quality Application</a>
    
    </th>
  </tr>
</table>

    </div>
  </body>
</html>