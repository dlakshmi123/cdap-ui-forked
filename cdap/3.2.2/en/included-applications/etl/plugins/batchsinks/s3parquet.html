<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="robots" content="noindex, nofollow">

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="Cask Data, Inc." name="author" />
<meta content="Copyright © 2015 Cask Data, Inc." name="copyright" />
<script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-55081520-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    
    <meta name="git_release" content="3.2.2">
    <meta name="git_hash" content="b267c80c25df10a57efd94370dbfb7a46ca69387">
    <meta name="git_timestamp" content="2015-12-10 18:14:18 -0800">
    <title>Batch Sinks: S3Parquet &mdash; Cask Data Application Platform 3.2.2 Documentation</title>
    
    <link rel="stylesheet" href="../../../_static/cdap.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    



    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '3.2.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    
    <!-- Amazon SQS Page Usage Logging start-->
    <script type="text/javascript" src="https://sdk.amazonaws.com/js/aws-sdk-2.1.35.min.js"></script>
    <script type="text/javascript" src="http://docs.cask.co/resources/scripts/aws-sqs-1.0.0.js"></script>
    <!-- Amazon SQS Page Usage Logging end-->
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Cask Data Application Platform 3.2.2 Documentation" href="../../../index.html" />
    <link rel="up" title="Batch Sinks" href="index.html" />
    <link rel="next" title="Batch Sinks: SnapshotAvro" href="snapshotavro.html" />
    <link rel="prev" title="Batch Sinks: S3Avro" href="s3avro.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="snapshotavro.html" title="Batch Sinks: SnapshotAvro"
             accesskey="N">Next</a> |</li>
        <li class="right" >
          <a href="s3avro.html" title="Batch Sinks: S3Avro"
             accesskey="P">Previous</a> |</li>
        
        <script type="text/javascript" src="../../../_static/version-menu.js"></script>
        <script src="http://docs.cask.co/cdap/json-versions.js"/></script>
        <script>window.setVersion('3.2.2');</script>
       
        <li><a href="../../../table-of-contents.html">CDAP Included Applications</a> &raquo;</li>
          <li><a href="../index.html" >ETL Plugins</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Batch Sinks</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="batch-sinks-s3parquet">
<span id="included-apps-etl-plugins-batch-sinks-s3parquet"></span><h1>Batch Sinks: S3Parquet<a class="headerlink" href="#batch-sinks-s3parquet" title="Permalink to this headline">¶</a></h1>
<p class="rubric">Description</p>
<p>A batch sink to write to S3 in Parquet format.</p>
<p class="rubric">Use Case</p>
<p>This source is used whenever you need to write to Amazon S3 in Parquet format. For example,
you might want to create daily snapshots of a database by reading the entire contents of a
table, writing to this sink, and then other programs can analyze the contents of the
specified file. The output of the run will be stored in a directory with suffix
&#8216;yyyy-MM-dd-HH-mm&#8217; from the base path provided.</p>
<p class="rubric">Properties</p>
<p><strong>accessID:</strong> Access ID of the Amazon S3 instance to connect to.</p>
<p><strong>accessKey:</strong> Access Key of the Amazon S3 instance to connect to.</p>
<p><strong>basePath:</strong> The S3 path where the data is stored. Example: &#8216;s3n://logs&#8217;.</p>
<p><strong>pathFormat:</strong> The format for the path that will be suffixed to the basePath; for
example: the format <code class="docutils literal"><span class="pre">'yyyy-MM-dd-HH-mm'</span></code> will create a file path ending in
<code class="docutils literal"><span class="pre">'2015-01-01-20-42'</span></code>. Default format used is <code class="docutils literal"><span class="pre">'yyyy-MM-dd-HH-mm'</span></code>.</p>
<p><strong>schema:</strong> The Parquet schema of the record being written to the sink as a JSON object.</p>
<p class="rubric">Example</p>
<div class="highlight-xml"><div class="highlight"><pre>{
  &quot;name&quot;: &quot;S3Parquet&quot;,
  &quot;properties&quot;: {
    &quot;accessKey&quot;: &quot;key&quot;,
    &quot;accessID&quot;: &quot;ID&quot;,
    &quot;basePath&quot;: &quot;s3n://logs&quot;,
    &quot;pathFormat&quot;: &quot;yyyy-MM-dd-HH-mm&quot;,
    &quot;schema&quot;: &quot;{
      \&quot;type\&quot;:\&quot;record\&quot;,
      \&quot;name\&quot;:\&quot;user\&quot;,
      \&quot;fields\&quot;:[
        {\&quot;name\&quot;:\&quot;id\&quot;,\&quot;type\&quot;:\&quot;long\&quot;},
        {\&quot;name\&quot;:\&quot;name\&quot;,\&quot;type\&quot;:\&quot;string\&quot;},
        {\&quot;name\&quot;:\&quot;birthyear\&quot;,\&quot;type\&quot;:\&quot;int\&quot;}
      ]
    }&quot;
  }
}
</pre></div>
</div>
<p>This example will connect to Amazon S3 and write files following the pattern
&#8216;yyyy-MM-dd-HH-mm&#8217;. It will write data in Parquet format using the given schema. Every
time the pipeline runs, the most recent run will be stored in S3 under the directory
&#8216;logs&#8217;.</p>
<p>This example will write to an S3 output located at <code class="docutils literal"><span class="pre">s3n://logs</span></code>. It will write data in
Parquet format using the given schema. Every time the pipeline runs, a new output directory
from the base path (<code class="docutils literal"><span class="pre">s3n://logs</span></code>) will be created which will have the directory name
corresponding to the start time in <code class="docutils literal"><span class="pre">yyyy-MM-dd-HH-mm</span></code> format.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div role="note" aria-label="manuals links">
    <h3><a href="../../../table-of-contents/../../index.html"
        rel="nofollow">CDAP Documentation v3.2.2</a></h3>
    <ul class="this-page-menu">
      <li><div class=""></div><a href="../../../table-of-contents/../../index.html"
            rel="nofollow">Overview</a></li>
            
      <li><div class=""></div><a href="../../../table-of-contents/../../introduction/index.html"
            rel="nofollow">Introduction to CDAP</a></li>
            
      <li><div class=""></div><a href="../../../table-of-contents/../../developers-manual/index.html"
            rel="nofollow">Developers’ Manual</a></li>
            
      <li><div class=""></div><b><a href="../../../table-of-contents/../../included-applications/index.html"
            rel="nofollow">Included Applications</a></b></li>
            
      <li><div class=""></div><a href="../../../table-of-contents/../../admin-manual/index.html"
            rel="nofollow">Administration Manual</a></li>
            
      <li><div class=""></div><a href="../../../table-of-contents/../../integrations/index.html"
            rel="nofollow">Integrations</a></li>
            
      <li><div class=""></div><a href="../../../table-of-contents/../../examples-manual/index.html"
            rel="nofollow">Examples, Guides, and Tutorials</a></li>
            
      <li><div class=""></div><a href="../../../table-of-contents/../../reference-manual/index.html"
            rel="nofollow">Reference Manual</a></li>
            
      <li><div class=""></div><a href="../../../table-of-contents/../../faqs/index.html"
            rel="nofollow">FAQs</a></li>
            
      <li><div class=""></div><a href="../../../table-of-contents/../../reference-manual/release-notes.html"
            rel="nofollow">Release Notes</a></li>
            
      <li><div class=""></div><a href="../../../table-of-contents/../../reference-manual/glossary.html"
            rel="nofollow">Glossary</a></li>
            
      <li><div class=""></div><a href="../../../table-of-contents/../../search.html"
            rel="nofollow">Search</a></li>
    </ul>
   </div><!--
  Copyright © 2014-2015 Cask Data, Inc.

  Licensed under the Apache License, Version 2.0 (the "License"); you may not
  use this file except in compliance with the License. You may obtain a copy of
  the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  License for the specific language governing permissions and limitations under
  the License.
-->


    
<h3 class="pagenavtitle"><a href="../../../table-of-contents.html">Included Applications:<br> Table&nbsp;of&nbsp;Contents</a></h3>
<nav class="pagenav">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html"> Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index.html"> ETL Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../creating.html"> Creating an ETL Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../custom.html"> Creating Custom ETL Plugins</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html"> ETL Plugins</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../batchsources/index.html"> Batch Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../realtimesources/index.html"> Real-time Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transforms/index.html"> Transformations</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html"> Batch Sinks</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="cube.html"> Cube</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html"> Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="kvtable.html"> KVTable</a></li>
<li class="toctree-l3"><a class="reference internal" href="s3avro.html"> S3Avro</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href=""> S3Parquet</a></li>
<li class="toctree-l3"><a class="reference internal" href="snapshotavro.html"> SnapshotAvro</a></li>
<li class="toctree-l3"><a class="reference internal" href="snapshotparquet.html"> SnapshotParquet</a></li>
<li class="toctree-l3"><a class="reference internal" href="table.html"> Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="tpfsavro.html"> TPFSAvro</a></li>
<li class="toctree-l3"><a class="reference internal" href="tpfsparquet.html"> TPFSParquet</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../realtimesinks/index.html"> Real-time Sinks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shared-plugins/index.html"> Shared Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../third-party.html"> Third-Party Jars</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../third-party.html"> Using Third-Party JARs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../data-quality/index.html"> Data Quality Application</a></li>
</ul>
 
</nav>
  <h4>Previous Topic</h4>
  <p class="topless"><a href="s3avro.html"
                        title="Previous Chapter">Batch Sinks: S3Avro</a></p>
  <h4>Next Topic</h4>
  <p class="topless"><a href="snapshotavro.html"
                        title="Next Chapter">Batch Sinks: SnapshotAvro</a></p>
  <div role="note" aria-label="downloads links">
    <h3>Downloads</h3>
    <ul class="this-page-menu">
      <li><a href="http://docs.cask.co/cdap/3.2.2/cdap-docs-3.2.2-web.zip"
            rel="nofollow">Zip Archive of CDAP Documentation</a></li>
    </ul>
   </div>
  
<div id="searchbox" style="display: none" role="search">
  <h3>Quick Search</h3>
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<div role="note" aria-label="other links">
    <h3><a href="http://docs.cask.co/" target="_blank">Documentation</a></h3>
    <ul class="this-page-menu">
        <li><a href="http://docs.cask.co/cdap/index.html" target="_blank">CDAP</a></li>
        <li><a href="http://docs.cask.co/coopr/index.html" target="_blank">Coopr</a></li>
        <li><a href="http://docs.cask.co/tephra/index.html" target="_blank">Tephra</em></a></li>
        <li><a href="http://docs.cask.co/tigon/index.html" target="_blank">Tigon</a></li>
    </ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">

<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}
.tg td{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg th{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg .tg-s6z2{text-align:center;}
.tg .tg-0ord{text-align:right;}
.tg a{font-weight:bold;}
</style>
<table class="tg" width= 100%>
  <tr>
    <th class="tg-031e">Previous Topic: 
    <a title="Batch Sinks: S3Avro" href="s3avro.html" />Batch Sinks: S3Avro</a>&nbsp;&nbsp;
    
    </th>
    <th class="tg-s6z2">
        Copyright &copy; 2014-2015 Cask Data, Inc.
    
    </th>
    <th class="tg-0ord">&nbsp;&nbsp;Next Topic:
    <a title="Batch Sinks: SnapshotAvro" href="snapshotavro.html" />Batch Sinks: SnapshotAvro</a>
    
    </th>
  </tr>
</table>

    </div>
  </body>
</html>