<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="robots" content="noindex, nofollow">

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="Cask Data, Inc." name="author" />
<meta content="Copyright © 2015 Cask Data, Inc." name="copyright" />
<script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-55081520-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    
    <meta name="git_release" content="3.2.0">
    <meta name="git_hash" content="1107c0b599ab647e741c9b5a3defeca2ae42be83">
    <meta name="git_timestamp" content="2015-10-01 20:54:13 -0700">
    <title>Troubleshooting a CDAP Application &mdash; Cask Data Application Platform 3.2.0 Documentation</title>
    
    <link rel="stylesheet" href="../_static/cdap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    



    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <!-- Amazon SQS Page Usage Logging start-->
    <script type="text/javascript" src="https://sdk.amazonaws.com/js/aws-sdk-2.1.35.min.js"></script>
    <script type="text/javascript" src="http://docs.cask.co/resources/scripts/aws-sqs-1.0.0.js"></script>
    <!-- Amazon SQS Page Usage Logging end-->
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Cask Data Application Platform 3.2.0 Documentation" href="../index.html" />
    <link rel="up" title="Testing and Debugging" href="index.html" />
    <link rel="next" title="Ingesting Data into CDAP" href="../ingesting-tools/index.html" />
    <link rel="prev" title="Debugging a CDAP Application" href="debugging.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="../ingesting-tools/index.html" title="Ingesting Data into CDAP"
             accesskey="N">Next</a> |</li>
        <li class="right" >
          <a href="debugging.html" title="Debugging a CDAP Application"
             accesskey="P">Previous</a> |</li>
        
        <script type="text/javascript" src="../_static/version-menu.js"></script>
        <script src="http://docs.cask.co/cdap/json-versions.js"/></script>
        <script>window.setVersion('3.2.0');</script>
       
        <li><a href="../table-of-contents.html">CDAP Developers’ Manual</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Testing and Debugging</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="troubleshooting-a-cdap-application">
<span id="development-troubleshooting"></span><h1>Troubleshooting a CDAP Application<a class="headerlink" href="#troubleshooting-a-cdap-application" title="Permalink to this headline">¶</a></h1>
<p>A collection of tips and hints on solving problems encountered during development.</p>
<p class="rubric">Using Sequence Files in Programs</p>
<p><strong>Question:</strong></p>
<blockquote>
<div><p>I am trying to read a sequence file in a flowlet from HDFS with a custom type in value.
The same code works when I run it in a Java app with proper classpaths but while using
the same reader code in a flowlet, getting a <code class="docutils literal"><span class="pre">&quot;custom</span> <span class="pre">object</span> <span class="pre">not</span> <span class="pre">found&quot;</span></code> error. I
checked in the fat jar which is uploaded to CDAP by <code class="docutils literal"><span class="pre">jar</span> <span class="pre">-tvf</span></code> and the custom object
occurs in the fat jar. But I am seeing the following error in the flowlet:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Caused</span> <span class="n">by</span><span class="o">:</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">ClassNotFoundException</span><span class="o">:</span> <span class="n">Class</span> <span class="n">com</span><span class="o">.</span><span class="na">example</span><span class="o">.</span><span class="na">MyObject</span> <span class="n">not</span> <span class="n">found</span>
<span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">apache</span><span class="o">.</span><span class="na">hadoop</span><span class="o">.</span><span class="na">conf</span><span class="o">.</span><span class="na">Configuration</span><span class="o">.</span><span class="na">getClassByName</span><span class="o">(</span><span class="n">Configuration</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">1953</span><span class="o">)</span>
<span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">apache</span><span class="o">.</span><span class="na">hadoop</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">WritableName</span><span class="o">.</span><span class="na">getClass</span><span class="o">(</span><span class="n">WritableName</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">75</span><span class="o">)</span>
<span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">apache</span><span class="o">.</span><span class="na">hadoop</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">SequenceFile$Reader</span><span class="o">.</span><span class="na">getValueClass</span><span class="o">(</span><span class="n">SequenceFile</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">2028</span><span class="o">)</span>
<span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">apache</span><span class="o">.</span><span class="na">hadoop</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">SequenceFile$Reader</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">SequenceFile</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">1960</span><span class="o">)</span>
<span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">apache</span><span class="o">.</span><span class="na">hadoop</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">SequenceFile$Reader</span><span class="o">.</span><span class="na">initialize</span><span class="o">(</span><span class="n">SequenceFile</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">1810</span><span class="o">)</span>
<span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">apache</span><span class="o">.</span><span class="na">hadoop</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">SequenceFile$Reader</span><span class="o">.&lt;</span><span class="n">init</span><span class="o">&gt;(</span><span class="n">SequenceFile</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">1759</span><span class="o">)</span>
<span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">apache</span><span class="o">.</span><span class="na">hadoop</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">SequenceFile$Reader</span><span class="o">.&lt;</span><span class="n">init</span><span class="o">&gt;(</span><span class="n">SequenceFile</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">1773</span><span class="o">)</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Answer:</strong></p>
<blockquote>
<div><p>You need to set the classLoader for the <code class="docutils literal"><span class="pre">Configuration</span></code> object; otherwise,
<code class="docutils literal"><span class="pre">SequenceFile</span></code> cannot load custom classes.</p>
<p>Try using:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">config</span><span class="o">.</span><span class="na">setClassLoader</span><span class="o">(</span><span class="n">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">getContextClassLoader</span><span class="o">());</span>
</pre></div>
</div>
<p>before passing it (<code class="docutils literal"><span class="pre">config</span></code>) to the SequenceFile.Reader constructor.</p>
</div></blockquote>
<p class="rubric" id="development-troubleshooting-spark">Spark&#8217;s MLlib Dependencies</p>
<p>Spark&#8217;s MLlib (Machine Learning Library) has various dependencies; please make sure you
have the appropriate dependencies according to your installation:</p>
<ul class="simple">
<li>Spark 1.2: <a class="reference external" href="https://spark.apache.org/docs/1.2.0/mllib-guide.html#dependencies">https://spark.apache.org/docs/1.2.0/mllib-guide.html#dependencies</a></li>
<li>Spark 1.3: <a class="reference external" href="https://spark.apache.org/docs/1.3.0/mllib-guide.html#dependencies">https://spark.apache.org/docs/1.3.0/mllib-guide.html#dependencies</a></li>
<li>Spark 1.4: <a class="reference external" href="https://spark.apache.org/docs/1.4.0/mllib-guide.html#dependencies">https://spark.apache.org/docs/1.4.0/mllib-guide.html#dependencies</a></li>
</ul>
<p class="rubric">Spark and IDEs Unable to Resolve Methods Imported Implicitly</p>
<p>Your IDE might fail to resolve methods which are imported implicitly while writing Spark
programs. The method <code class="docutils literal"><span class="pre">reduceByKey</span></code> in the class <code class="docutils literal"><span class="pre">PairRDDFunctions</span></code> is an example of
such a method. If you are using either Spark 1.2 or 1.3 to write your application, you can
resolve this issue by adding an explicit import:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">org.apache.spark.SparkContext</span>
</pre></div>
</div>
<p><strong>Note:</strong> This issue has been resolved in Spark 1.4; in that version and later you will
not need this explicit import.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div role="note" aria-label="manuals links">
    <h3><a href="../table-of-contents/../../index.html"
        rel="nofollow">CDAP Documentation v3.2.0</a></h3>
    <ul class="this-page-menu">
      <li><div class=""></div><a href="../table-of-contents/../../index.html"
            rel="nofollow">Overview</a></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../introduction/index.html"
            rel="nofollow">Introduction to CDAP</a></li>
            
      <li><div class=""></div><b><a href="../table-of-contents/../../developers-manual/index.html"
            rel="nofollow">Developers’ Manual</a></b></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../included-applications/index.html"
            rel="nofollow">Included Applications</a></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../admin-manual/index.html"
            rel="nofollow">Administration Manual</a></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../integrations/index.html"
            rel="nofollow">Integrations</a></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../examples-manual/index.html"
            rel="nofollow">Examples, Guides, and Tutorials</a></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../reference-manual/index.html"
            rel="nofollow">Reference Manual</a></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../reference-manual/release-notes.html"
            rel="nofollow">Release Notes</a></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../reference-manual/glossary.html"
            rel="nofollow">Glossary</a></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../reference-manual/faq.html"
            rel="nofollow">FAQ</a></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../search.html"
            rel="nofollow">Search</a></li>
    </ul>
   </div><!--
  Copyright © 2014-2015 Cask Data, Inc.

  Licensed under the Apache License, Version 2.0 (the "License"); you may not
  use this file except in compliance with the License. You may obtain a copy of
  the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  License for the specific language governing permissions and limitations under
  the License.
-->


    
<h3 class="pagenavtitle"><a href="../table-of-contents.html">Developers’ Manual: Table&nbsp;of&nbsp;Contents</a></h3>
<nav class="pagenav">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html"> Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/index.html"> Getting Started Developing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html"> Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../building-blocks/index.html"> Building Blocks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/index.html"> Security</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html"> Testing and Debugging</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="testing.html"> Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html"> Debugging</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href=""> Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ingesting-tools/index.html"> Ingesting Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-exploration/index.html"> Data Exploration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/index.html"> Advanced Topics</a></li>
</ul>

</nav>
  <h4>Previous Topic</h4>
  <p class="topless"><a href="debugging.html"
                        title="Previous Chapter">Debugging a CDAP Application</a></p>
  <h4>Next Topic</h4>
  <p class="topless"><a href="../ingesting-tools/index.html"
                        title="Next Chapter">Ingesting Data into CDAP</a></p>
  <div role="note" aria-label="downloads links">
    <h3>Downloads</h3>
    <ul class="this-page-menu">
      <li><a href="http://docs.cask.co/cdap/3.2.0/cdap-docs-3.2.0-web.zip"
            rel="nofollow">Zip Archive of CDAP Documentation</a></li>
    </ul>
   </div>
  
<div id="searchbox" style="display: none" role="search">
  <h3>Quick Search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<div role="note" aria-label="other links">
    <h3><a href="http://docs.cask.co/" target="_blank">Documentation</a></h3>
    <ul class="this-page-menu">
        <li><a href="http://docs.cask.co/cdap/index.html" target="_blank">CDAP</a></li>
        <li><a href="http://docs.cask.co/coopr/index.html" target="_blank">Coopr</a></li>
        <li><a href="http://docs.cask.co/tephra/index.html" target="_blank">Tephra</em></a></li>
        <li><a href="http://docs.cask.co/tigon/index.html" target="_blank">Tigon</a></li>
    </ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">

<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}
.tg td{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg th{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg .tg-s6z2{text-align:center;}
.tg .tg-0ord{text-align:right;}
.tg a{font-weight:bold;}
</style>
<table class="tg" width= 100%>
  <tr>
    <th class="tg-031e">Previous Topic: 
    <a title="Debugging a CDAP Application" href="debugging.html" />Debugging a CDAP Application</a>&nbsp;&nbsp;
    
    </th>
    <th class="tg-s6z2">
        Copyright &copy; 2014-2015 Cask Data, Inc.
    
    </th>
    <th class="tg-0ord">&nbsp;&nbsp;Next Topic:
    <a title="Ingesting Data into CDAP" href="../ingesting-tools/index.html" />Ingesting Data into CDAP</a>
    
    </th>
  </tr>
</table>

    </div>
  </body>
</html>