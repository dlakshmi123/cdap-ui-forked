<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    
    
    <meta name="git_release" content="3.6.0">
    <meta name="git_hash" content="03bd802f7bc5781fec707fd5e091333e84f24799">
    <meta name="git_timestamp" content="2016-10-06 16:55:20 -0700">
    <title>Row Denormalizer &mdash; Cask Data Application Platform 3.6.0 Documentation</title>

    <link rel="canonical" href="http://docs.cask.co/cdap/3.6.0/en/hydrator-manual/plugins/analytics/rowdenormalizer-batchaggregator.html">

    
    <link rel="stylesheet" href="../../_static/cdap.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/annotator.min.css" type="text/css" />



    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.6.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/copy-to-clipboard.js"></script>
    <script type="text/javascript" src="../../_static/tabbed-parsed-literal.js"></script>
    <!-- Annotator -->
<!-- 
    <script type="text/javascript" src="../../_static/cdap-annotator-full.js"></script>
    <!~~ annotator.min.css_t included in css files ~~>
    <script type="text/javascript" src="../../_static/cdap-annotator.js"></script>
 -->
    <!-- Annotator end -->
    <!-- Google Tag Manager start -->
    <script>dataLayer = [];</script>
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PBZ3JL"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PBZ3JL');</script>
    <!-- Google Tag Manager end -->
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Cask Data Application Platform 3.6.0 Documentation" href="../../index.html" />
    <link rel="up" title="Analytic Plugins" href="index.html" />
    <link rel="next" title="Naive Bayes Trainer" href="DPB-naivebayestrainer-sparksink.html" />
    <link rel="prev" title="Naive Bayes Classifier" href="naivebayesclassifier-sparkcompute.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="DPB-naivebayestrainer-sparksink.html" title="Naive Bayes Trainer"
             accesskey="N">Next</a> |</li>
        <li class="right" >
          <a href="naivebayesclassifier-sparkcompute.html" title="Naive Bayes Classifier"
             accesskey="P">Previous</a> |</li>
        
        <script type="text/javascript" src="../../_static/version-menu.js"></script>
        <script src="http://docs.cask.co/cdap/json-versions.js"/></script>
        <script>window.setVersion('3.6.0');</script>
       
        <li><a href="../../table-of-contents.html">Cask Hydrator</a> &raquo;</li>
          <li><a href="../index.html" >Plugin Reference</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Analytic Plugins</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div id="documentwrapper" class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="row-denormalizer">
<span id="row-denormalizer"></span><h1><a class="headerlink" href="#row-denormalizer" title="Perma-link to this heading">ðŸ”—</a>Row Denormalizer</h1>
<div class="section" id="description">
<span id="description"></span><h2><a class="headerlink" href="#description" title="Perma-link to this heading">ðŸ”—</a>Description</h2>
<p>Converts raw data into denormalized data based on a key column. User is able to specify the list of fields that should be used in the denormalized record, with an option to use an alias for the output field name. For example, 'ADDRESS' in the input is mapped to 'addr' in the output schema.</p>
</div>
<div class="section" id="use-case">
<span id="use-case"></span><h2><a class="headerlink" href="#use-case" title="Perma-link to this heading">ðŸ”—</a>Use Case</h2>
<p>The transform takes input record that stores a variable set of custom attributes for an entity, denormalizes it on the basis of the key field, and then returns a denormalized table according to the output schema specified by the user.
The denormalized data is easier to query.</p>
</div>
<div class="section" id="properties">
<span id="properties"></span><h2><a class="headerlink" href="#properties" title="Perma-link to this heading">ðŸ”—</a>Properties</h2>
<p><strong>keyField:</strong> Name of the column in the input record which will be used to group the raw data. For Example, id.</p>
<p><strong>nameField:</strong> Name of the column in the input record which contains the names of output schema columns. For example,
input records have columns 'id', 'attribute', 'value' and the 'attribute' column contains 'FirstName', 'LastName',
'Address'.
&quot;So the output record will have column names as 'FirstName', 'LastName', 'Address'.</p>
<p><strong>valueField:</strong> Name of the column in the input record which contains the values for output schema columns. For
example, input records have columns 'id', 'attribute', 'value' and the 'value' column contains 'John',
'Wagh', 'NE Lakeside'. So the output record will have values for columns 'FirstName', 'LastName', 'Address' as 'John', 'Wagh', 'NE Lakeside' respectively.</p>
<p><strong>outputFields:</strong> List of the output fields to be included in denormalized output.</p>
<p><strong>fieldAliases:</strong> List of the output fields to rename. The key specifies the name of the field to rename, with its corresponding value specifying the new name for that field.</p>
<p><strong>numPartitions:</strong> Number of partitions to use when grouping data. If not specified, the execution framework will
decide on the number to use.</p>
</div>
<div class="section" id="conditions">
<span id="conditions"></span><h2><a class="headerlink" href="#conditions" title="Perma-link to this heading">ðŸ”—</a>Conditions</h2>
<p>In case a field value is not present, then it will be considered as NULL.</p>
<p>For Example,</p>
<p>If keyfield('id') in the input record is NULL, then that particular record will be filtered out.</p>
<p>If namefield('attribute') or valuefield('value') is not present for a particular keyfield('id') value, then the
denormalized output value for that namefield will be NULL.</p>
<p>If user provides output field which is not present in the input record, then it will be considered as NULL.</p>
</div>
<div class="section" id="example">
<span id="example"></span><h2><a class="headerlink" href="#example" title="Perma-link to this heading">ðŸ”—</a>Example</h2>
<p>The transform takes input records that have columns id, attribute, value, denormalizes it on the basis of
id, and then returns a denormalized table according to the output schema specified by the user.</p>
<pre class="literal-block">
{
  &quot;name&quot;: &quot;RowDenormalizer&quot;,
  &quot;type&quot;: &quot;batchaggregator&quot;,
  &quot;properties&quot;: {
     &quot;outputFields&quot;: &quot;Firstname,Lastname,Address&quot;,
     &quot;fieldAliases&quot;: &quot;Address:Office Address&quot;,
     &quot;keyField&quot;: &quot;id&quot;,
     &quot;nameField&quot;: &quot;attribute&quot;,
     &quot;valueField&quot;: &quot;value&quot;
   }
}
</pre>
<p>For example, suppose the aggregator receives the input record:</p>
<pre class="literal-block">
+======================================+
| id        | attribute   | value      |
+======================================+
| joltie    | Firstname   | John       |
| joltie    | Lastname    | Wagh       |
| joltie    | Address     | NE Lakeside|
+======================================+
</pre>
<p>Output records will contain all the output fields specified by user:</p>
<pre class="literal-block">
+=========================================================+
| id        | Firstname   | Lastname   |  Office Address  |
+=========================================================+
| joltie    | John        | Wagh       |  NE Lakeside     |
+=========================================================+
</pre>
<p>Now, let's suppose the aggregator receives the input record with NULL values:</p>
<pre class="literal-block">
+======================================+
| id        | attribute   | value      |
+======================================+
| joltie    | Firstname   | John       |
| joltie    | Lastname    | Wagh       |
| joltie    | Address     | NE Lakeside|
| brett     | Firstname   | Brett      |
|           | Lastname    | Lee        |
| brett     | Address     | SE Lakeside|
| bob       | Firstname   | Bob        |
| bob       |             | Smith      |
| bob       | Address     |            |
+======================================+
</pre>
<p>Output records will contain all the output fields specified by user:</p>
<pre class="literal-block">
+=========================================================+
| id        | Firstname   | Lastname   |  Office Address  |
+=========================================================+
| joltie    | John        | Wagh       |  NE Lakeside     |
| brett     | Brett       |            |  SE Lakeside     |
| bob       | Bob         |            |                  |
+=========================================================+
</pre>
<hr class="docutils" />
<ul class="simple">
<li>Hydrator Plugin Type: batchaggregator</li>
<li>Hydrator Version: 1.4.1</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

  <div role="note" aria-label="manuals links">
    <h3><a href="../../table-of-contents/../../index.html" rel="nofollow">CDAP Documentation v3.6.0</a></h3>
    
    <ul class="this-page-menu">
      <li><div class=""></div><a href="../../table-of-contents/../../introduction/index.html" rel="nofollow">Introduction to CDAP</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../developers-manual/index.html" rel="nofollow">Developersâ€™ Manual</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../admin-manual/index.html" rel="nofollow">Administration Manual</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../integrations/index.html" rel="nofollow">Integrations</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../examples-manual/index.html" rel="nofollow">Examples, Guides, and Tutorials</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../reference-manual/index.html" rel="nofollow">Reference Manual</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../faqs/index.html" rel="nofollow">FAQs</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../reference-manual/release-notes.html" rel="nofollow">Release Notes</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../reference-manual/glossary.html" rel="nofollow">Glossary</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../search.html" rel="nofollow">Search</a></li>
    </ul>
    <h3 class="cdap-extensions">CDAP Extensions</h3>
    
    <ul class="this-page-menu">
      <li><div class=""></div><a href="../../table-of-contents/../../hydrator-manual/index.html" rel="nofollow">Cask Hydrator</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../tracker-manual/index.html" rel="nofollow">Cask Tracker</a></li>
    </ul>
  </div>
    
  <h3 class="pagenavtitle"><a href="../../table-of-contents.html">Cask Hydrator: Table&nbsp;of&nbsp;Contents</a></h3>
    <nav class="pagenav">
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html"> Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts-design.html"> Concepts and Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started.html"> Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../studio.html"> Hydrator Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../creating-pipelines.html"> Creating Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../running-pipelines.html"> Running Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plugin-management.html"> Plugin Management</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html"> Plugin Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../actions/index.html"> Action Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sources/index.html"> Source Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transforms/index.html"> Transform Plugins</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html"> Analytic Plugins</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="deduplicate-batchaggregator.html">Deduplicate</a></li>
<li class="toctree-l3"><a class="reference internal" href="distinct-batchaggregator.html">Distinct Aggregator</a></li>
<li class="toctree-l3"><a class="reference internal" href="groupbyaggregate-batchaggregator.html">GroupBy Aggregate</a></li>
<li class="toctree-l3"><a class="reference internal" href="joiner-batchjoiner.html">Joiner</a></li>
<li class="toctree-l3"><a class="reference internal" href="naivebayesclassifier-sparkcompute.html">Naive Bayes Classifier</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">Row Denormalizer</a></li>
<li class="toctree-l3"><a class="reference internal" href="DPB-naivebayestrainer-sparksink.html">Naive Bayes Trainer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../sinks/index.html"> Sink Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shared-plugins/index.html"> Shared Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../post-run-plugins/index.html"> Post-run Plugins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developing-pipelines.html"> Developing Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developing-plugins/index.html"> Developing Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how-hydrator-works.html"> How Hydrator Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faqs.html"> FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html"> Glossary</a></li>
</ul>
 
    </nav>
  
<div id="searchbox" style="display: none" role="search">
  <h3>Quick Search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="downloads links">
    <h3>Downloads</h3>
    <ul class="this-page-menu">
      <li><a href="http://docs.cask.co/cdap/3.6.0/cdap-docs-3.6.0-web.zip"
            rel="nofollow">Zip Archive of CDAP Documentation</a></li>
    </ul>
   </div>
<div role="note" aria-label="other links">
    <h3><a href="http://docs.cask.co/" target="_blank">Documentation</a></h3>
    <ul class="this-page-menu">
        <li><a href="http://docs.cask.co/cdap/index.html" target="_blank">CDAP</a></li>
        <li><a href="http://docs.cask.co/coopr/index.html" target="_blank">Coopr</a></li>
        <li><a href="http://docs.cask.co/tigon/index.html" target="_blank">Tigon</a></li>
    </ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">

<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}
.tg td{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg th{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg .tg-s6z2{text-align:center;}
.tg .tg-0ord{text-align:right;}
.tg a{font-weight:bold;}
</style>
<table class="tg" width= 100%>

  <tr>
    <th class="tg-031e">Previous Topic: 
    <a title="Naive Bayes Classifier" href="naivebayesclassifier-sparkcompute.html" />Naive Bayes Classifier</a>&nbsp;&nbsp;
    </th>
    
    <th class="tg-s6z2">
        Copyright &copy; 2014-2016 Cask Data, Inc.
      &bull; Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </th>
    <th class="tg-0ord">&nbsp;&nbsp;Next Topic:
    <a title="Naive Bayes Trainer" href="DPB-naivebayestrainer-sparksink.html" />Naive Bayes Trainer</a>
    </th>

  </tr>
</table>

    </div>
  </body>
</html>