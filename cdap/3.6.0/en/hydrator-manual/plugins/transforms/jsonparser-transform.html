<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    
    
    <meta name="git_release" content="3.6.0">
    <meta name="git_hash" content="03bd802f7bc5781fec707fd5e091333e84f24799">
    <meta name="git_timestamp" content="2016-10-06 16:55:20 -0700">
    <title>JSON Parser &mdash; Cask Data Application Platform 3.6.0 Documentation</title>

    <link rel="canonical" href="http://docs.cask.co/cdap/3.6.0/en/hydrator-manual/plugins/transforms/jsonparser-transform.html">

    
    <link rel="stylesheet" href="../../_static/cdap.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/annotator.min.css" type="text/css" />



    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.6.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/copy-to-clipboard.js"></script>
    <script type="text/javascript" src="../../_static/tabbed-parsed-literal.js"></script>
    <!-- Annotator -->
<!-- 
    <script type="text/javascript" src="../../_static/cdap-annotator-full.js"></script>
    <!~~ annotator.min.css_t included in css files ~~>
    <script type="text/javascript" src="../../_static/cdap-annotator.js"></script>
 -->
    <!-- Annotator end -->
    <!-- Google Tag Manager start -->
    <script>dataLayer = [];</script>
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PBZ3JL"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PBZ3JL');</script>
    <!-- Google Tag Manager end -->
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Cask Data Application Platform 3.6.0 Documentation" href="../../index.html" />
    <link rel="up" title="Transformation Plugins" href="index.html" />
    <link rel="next" title="Log Parser" href="logparser-transform.html" />
    <link rel="prev" title="JSON Formatter" href="jsonformatter-transform.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="logparser-transform.html" title="Log Parser"
             accesskey="N">Next</a> |</li>
        <li class="right" >
          <a href="jsonformatter-transform.html" title="JSON Formatter"
             accesskey="P">Previous</a> |</li>
        
        <script type="text/javascript" src="../../_static/version-menu.js"></script>
        <script src="http://docs.cask.co/cdap/json-versions.js"/></script>
        <script>window.setVersion('3.6.0');</script>
       
        <li><a href="../../table-of-contents.html">Cask Hydrator</a> &raquo;</li>
          <li><a href="../index.html" >Plugin Reference</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Transformation Plugins</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div id="documentwrapper" class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="json-parser">
<span id="json-parser"></span><h1><a class="headerlink" href="#json-parser" title="Perma-link to this heading">ðŸ”—</a>JSON Parser</h1>
<div class="section" id="description">
<span id="description"></span><h2><a class="headerlink" href="#description" title="Perma-link to this heading">ðŸ”—</a>Description</h2>
<p>Parses input JSON event into a record. The input JSON event could be either a map of
string field to values or it could be a complex nested JSON structure. Plugin allows one
to express JSON paths for extracting fields from complex nested input JSON.</p>
</div>
<div class="section" id="parsing-simple-json">
<span id="parsing-simple-json"></span><h2><a class="headerlink" href="#parsing-simple-json" title="Perma-link to this heading">ðŸ”—</a>Parsing Simple JSON</h2>
<p>Simple JSON (which is simply defined as a mapping from key to value) parsing is achieved
by specifying the just the output schema fields. The field name in the output schema
should be the same as the key in the input JSON. The type of the field should also be the
same as the input value. No implicit conversions are perform on the JSON values.</p>
<p>Following is an example of event that is mapped to the output schema:</p>
<pre class="literal-block">
{
   &quot;id&quot; : 1000,
   &quot;first&quot; : &quot;Joltie&quot;,
   &quot;last&quot; : &quot;Neutrino&quot;,
   &quot;email_id&quot; : &quot;joltie.neutrino&#64;gmail.com&quot;,
   &quot;address&quot; : &quot;666 Mars Street&quot;,
   &quot;city&quot; : &quot;Marshfield&quot;,
   &quot;state&quot; : &quot;MR&quot;,
   &quot;country&quot; : &quot;Marshyland&quot;,
   &quot;zip&quot; : 34553423,
   &quot;planet&quot; : &quot;Earth&quot;
}
</pre>
<p>So, when output schema is specified it should be specified as follows</p>
<pre class="literal-block">
+==========================+
| Field    | Type   | Null |
|----------|--------|------|
| id       | int    |      |
| first    | string |      |
| last     | string |      |
| email_id | string |      |
| address  | string |      |
| city     | string |      |
| state    | string |      |
| country  | string |      |
| zip      | long   |      |
+==========================+
</pre>
<p><strong>Note:</strong> The field &quot;planet&quot; has been excluded from the output schema meaning that the
field would be ignored and not processed when the JSON event is mapped.</p>
</div>
<div class="section" id="nested-json">
<span id="nested-json"></span><h2><a class="headerlink" href="#nested-json" title="Perma-link to this heading">ðŸ”—</a>Nested JSON</h2>
<p>Parser also allows extracting fields from a complex nested JSON. In order to extract
fields it uses JSON paths similar to XPath expression for XML. To extract fields using
expression in JSON, this plugin uses 'JsonPath' library. Plugin allows one to define a
mapping from output field name to JSON path expression that should be applied on input to
extract value from the JSON event. For example, let's say you have this JSON:</p>
<pre class="literal-block">
{
  &quot;employee&quot; : {
    &quot;name&quot; : {
      &quot;first&quot; : &quot;Joltie&quot;,
      &quot;last&quot; : &quot;Neutrino&quot;
    },
    &quot;email&quot; : &quot;joltie.neutrino&#64;gmail.com&quot;,
    &quot;address&quot; :  {
      &quot;street1&quot; : &quot;666, Mars Street&quot;,
      &quot;street2&quot; : &quot;&quot;,
      &quot;apt&quot; : &quot;&quot;,
      &quot;city&quot; : &quot;Marshfield&quot;,
      &quot;state&quot; : &quot;MR&quot;,
      &quot;zip&quot; : 34553423,
      &quot;country&quot; : &quot;Marshyland&quot;
    }
  }
}
</pre>
<p>then one can specify the mapping for extracting these fields from the input JSON event:</p>
<ol class="simple">
<li>first</li>
<li>last</li>
<li>email</li>
<li>street1</li>
<li>city</li>
<li>state</li>
<li>zip</li>
<li>country</li>
</ol>
<p>The mappings in the plugin will be:</p>
<pre class="literal-block">
+================================================+
| Output Field Name | Input JSON Path Expression |
|-------------------|----------------------------|
| first             | $.employee.name.first      |
| last              | $.employee.name.last       |
| email             | $.employee.email           |
| street            | $.employee.address.street1 |
| city              | $.employee.address.city    |
| state             | $.employee.address.state   |
| zip               | $.employee.address.zip     |
| country           | $.employee.address.country |
+================================================+
</pre>
<div class="section" id="expression">
<span id="expression"></span><h3><a class="headerlink" href="#expression" title="Perma-link to this heading">ðŸ”—</a>Expression</h3>
<p>The &quot;root member object&quot; for parsing any JSON is referred to as <code class="docutils literal"><span class="pre">$</span></code> regardless of
whether it's an array or an object. It also uses dot notation or bracket notation for
defining the levels of parsing. For example: <code class="docutils literal"><span class="pre">$.employee.name</span></code> or
<code class="docutils literal"><span class="pre">$[employee][name]</span></code></p>
<div class="section" id="supported-operators">
<span id="supported-operators"></span><h4><a class="headerlink" href="#supported-operators" title="Perma-link to this heading">ðŸ”—</a>Supported Operators</h4>
<pre class="literal-block">
+========================================================================+
| Operator          | Description                                        |
|-------------------|----------------------------------------------------|
| $                 | The root element of the query                      |
| *                 | Wildcard                                           |
| ..                | Deep scan                                          |
| .&lt;name&gt;           | Dot notation representing child                    |
| [?(&lt;expression&gt;)] | Filter expression, should be boolean result always |
+========================================================================+
</pre>
</div>
<div class="section" id="supported-functions">
<span id="supported-functions"></span><h4><a class="headerlink" href="#supported-functions" title="Perma-link to this heading">ðŸ”—</a>Supported Functions</h4>
<p>The functions perform aggregations at the tail end of the path. The functions take the
output of the expression as input for performing aggregations. The aggregation function
can be only be applied where the expression results in an array.</p>
<pre class="literal-block">
+==================================================================+ 
| Function | Type   | Description                                  |
|----------|--------|----------------------------------------------|
| min      | double | Minimum value of array of numbers            |
| max      | double | Maximum value of array of numbers            |
| avg      | double | Average value of array of numbers            |
| stddev   | double | Standard deviation value of array of numbers |
| length   | int    | Length of the array                          |
+==================================================================+ 
</pre>
</div>
<div class="section" id="configuration">
<span id="configuration"></span><h4><a class="headerlink" href="#configuration" title="Perma-link to this heading">ðŸ”—</a>Configuration</h4>
<pre class="literal-block">
+============================================================================================+ 
| Config  | Description                                                                      |
|---------|----------------------------------------------------------------------------------|
| field   | Specifies the input field that should be parsed as a CSV Record                  |
| mapping | Mapping specifying output field name to input JSON path for extracting the field |
| schema  | Specifies the output schema for the JSON Record                                  |
+============================================================================================+ 
</pre>
<hr class="docutils" />
<ul class="simple">
<li>Hydrator Plugin Type: transform</li>
<li>Hydrator Version: 1.4.1</li>
</ul>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

  <div role="note" aria-label="manuals links">
    <h3><a href="../../table-of-contents/../../index.html" rel="nofollow">CDAP Documentation v3.6.0</a></h3>
    
    <ul class="this-page-menu">
      <li><div class=""></div><a href="../../table-of-contents/../../introduction/index.html" rel="nofollow">Introduction to CDAP</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../developers-manual/index.html" rel="nofollow">Developersâ€™ Manual</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../admin-manual/index.html" rel="nofollow">Administration Manual</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../integrations/index.html" rel="nofollow">Integrations</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../examples-manual/index.html" rel="nofollow">Examples, Guides, and Tutorials</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../reference-manual/index.html" rel="nofollow">Reference Manual</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../faqs/index.html" rel="nofollow">FAQs</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../reference-manual/release-notes.html" rel="nofollow">Release Notes</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../reference-manual/glossary.html" rel="nofollow">Glossary</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../search.html" rel="nofollow">Search</a></li>
    </ul>
    <h3 class="cdap-extensions">CDAP Extensions</h3>
    
    <ul class="this-page-menu">
      <li><div class=""></div><a href="../../table-of-contents/../../hydrator-manual/index.html" rel="nofollow">Cask Hydrator</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../tracker-manual/index.html" rel="nofollow">Cask Tracker</a></li>
    </ul>
  </div>
    
  <h3 class="pagenavtitle"><a href="../../table-of-contents.html">Cask Hydrator: Table&nbsp;of&nbsp;Contents</a></h3>
    <nav class="pagenav">
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html"> Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts-design.html"> Concepts and Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started.html"> Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../studio.html"> Hydrator Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../creating-pipelines.html"> Creating Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../running-pipelines.html"> Running Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plugin-management.html"> Plugin Management</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html"> Plugin Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../actions/index.html"> Action Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sources/index.html"> Source Plugins</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html"> Transform Plugins</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="clonerecord-transform.html">Clone Record</a></li>
<li class="toctree-l3"><a class="reference internal" href="compressor-transform.html">Compressor</a></li>
<li class="toctree-l3"><a class="reference internal" href="csvformatter-transform.html">CSV Formatter</a></li>
<li class="toctree-l3"><a class="reference internal" href="csvparser-transform.html">CSV Parser</a></li>
<li class="toctree-l3"><a class="reference internal" href="decoder-transform.html">Decoder</a></li>
<li class="toctree-l3"><a class="reference internal" href="decompressor-transform.html">Decompressor</a></li>
<li class="toctree-l3"><a class="reference internal" href="decryptor-transform.html">Decryptor</a></li>
<li class="toctree-l3"><a class="reference internal" href="encoder-transform.html">Encoder</a></li>
<li class="toctree-l3"><a class="reference internal" href="encryptor-transform.html">Encryptor</a></li>
<li class="toctree-l3"><a class="reference internal" href="hasher-transform.html">Hasher</a></li>
<li class="toctree-l3"><a class="reference internal" href="javascript-transform.html">JavaScript</a></li>
<li class="toctree-l3"><a class="reference internal" href="jsonformatter-transform.html">JSON Formatter</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">JSON Parser</a></li>
<li class="toctree-l3"><a class="reference internal" href="logparser-transform.html">Log Parser</a></li>
<li class="toctree-l3"><a class="reference internal" href="normalize-transform.html">Normalize</a></li>
<li class="toctree-l3"><a class="reference internal" href="projection-transform.html">Projection</a></li>
<li class="toctree-l3"><a class="reference internal" href="pythonevaluator-transform.html">Python Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="scriptfilter-transform.html">Script Filter</a></li>
<li class="toctree-l3"><a class="reference internal" href="streamformatter-transform.html">Stream Formatter</a></li>
<li class="toctree-l3"><a class="reference internal" href="structuredrecordtogenericrecord-transform.html">StructuredRecord To GenericRecord</a></li>
<li class="toctree-l3"><a class="reference internal" href="validator-transform.html">Validator</a></li>
<li class="toctree-l3"><a class="reference internal" href="valuemapper-transform.html">Value Mapper</a></li>
<li class="toctree-l3"><a class="reference internal" href="window-windower.html">Window Plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="xmlparser-transform.html">XML Parser</a></li>
<li class="toctree-l3"><a class="reference internal" href="xmltojson-transform.html">XML String to JSON String Converter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../analytics/index.html"> Analytic Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sinks/index.html"> Sink Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shared-plugins/index.html"> Shared Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../post-run-plugins/index.html"> Post-run Plugins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developing-pipelines.html"> Developing Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developing-plugins/index.html"> Developing Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how-hydrator-works.html"> How Hydrator Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faqs.html"> FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html"> Glossary</a></li>
</ul>
 
    </nav>
  
<div id="searchbox" style="display: none" role="search">
  <h3>Quick Search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="downloads links">
    <h3>Downloads</h3>
    <ul class="this-page-menu">
      <li><a href="http://docs.cask.co/cdap/3.6.0/cdap-docs-3.6.0-web.zip"
            rel="nofollow">Zip Archive of CDAP Documentation</a></li>
    </ul>
   </div>
<div role="note" aria-label="other links">
    <h3><a href="http://docs.cask.co/" target="_blank">Documentation</a></h3>
    <ul class="this-page-menu">
        <li><a href="http://docs.cask.co/cdap/index.html" target="_blank">CDAP</a></li>
        <li><a href="http://docs.cask.co/coopr/index.html" target="_blank">Coopr</a></li>
        <li><a href="http://docs.cask.co/tigon/index.html" target="_blank">Tigon</a></li>
    </ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">

<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}
.tg td{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg th{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg .tg-s6z2{text-align:center;}
.tg .tg-0ord{text-align:right;}
.tg a{font-weight:bold;}
</style>
<table class="tg" width= 100%>

  <tr>
    <th class="tg-031e">Previous Topic: 
    <a title="JSON Formatter" href="jsonformatter-transform.html" />JSON Formatter</a>&nbsp;&nbsp;
    </th>
    
    <th class="tg-s6z2">
        Copyright &copy; 2014-2016 Cask Data, Inc.
      &bull; Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </th>
    <th class="tg-0ord">&nbsp;&nbsp;Next Topic:
    <a title="Log Parser" href="logparser-transform.html" />Log Parser</a>
    </th>

  </tr>
</table>

    </div>
  </body>
</html>