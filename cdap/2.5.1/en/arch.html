<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="robots" content="noindex, nofollow">

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-55081520-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <title>Cask Data Application Platform Concepts and Architecture &mdash; Cask Data Application Platform 2.5.1 Documentation</title>
    
    <link rel="stylesheet" href="_static/cdap.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.5.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Cask Data Application Platform 2.5.1 Documentation" href="index.html" />
    <link rel="next" title="Cask Data Application Platform Programming Guide" href="dev-guide.html" />
    <link rel="prev" title="CDAP Application Case Study" href="case_study.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="dev-guide.html" title="Cask Data Application Platform Programming Guide"
             accesskey="N">Next</a> |</li>
        <li class="right" >
          <a href="case_study.html" title="CDAP Application Case Study"
             accesskey="P">Previous</a> |</li>
        <li><a href="index.html">Cask Data Application Platform 2.5.1 Documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="cask-data-application-platform-concepts-and-architecture">
<h1>Cask Data Application Platform Concepts and Architecture<a class="headerlink" href="#cask-data-application-platform-concepts-and-architecture" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p><strong>Cask Data Application Platform (CDAP)</strong> is a developer-centric middleware for developing and running
Big Data applications. Before you learn how to develop and operate applications, this chapter will
explain the concepts and architecture of CDAP.</p>
</div>
<div class="section" id="virtualization">
<h2>Virtualization<a class="headerlink" href="#virtualization" title="Permalink to this headline">¶</a></h2>
<p>CDAP lets you virtualize your data and applications by injecting abstraction layers over various components
of the Hadoop ecosystem. To access and manipulate data, you use CDAP&#8217;s Datasets rather than actual
storage engines such as HDFS or HBase. Similarly, you write your applications using CDAP&#8217;s developer interface
and run them inside application containers. These containers are a logical abstraction that can be realized
differently in several runtime environments, such as in-memory, standalone, or distributed cluster.
You can deploy and run in different environments without the need to change a single line of application
code.</p>
<a class="reference internal image-reference" href="_images/arch_logical_view.png"><img alt="_images/arch_logical_view.png" class="align-center" src="_images/arch_logical_view.png" style="width: 5in;" /></a>
<div class="section" id="data-virtualization">
<h3>Data Virtualization<a class="headerlink" href="#data-virtualization" title="Permalink to this headline">¶</a></h3>
<p>In CDAP applications, you interact with data through Datasets. Datasets provide virtualization through:</p>
<ul class="simple">
<li>Abstraction of the actual representation of data in storage. You can write your code or queries without
having to know where and how your data is stored—be it in HBase, LevelDB or a relational database.</li>
<li>Encapsulation of data access patterns and business logic as reusable, managed Java code.</li>
<li>Consistency of your data under highly concurrent access using Cask&#8217;s
<a class="reference external" href="https://github.com/caskdata/tephra/">Tephra transaction system.</a></li>
<li>Injection of datasets into different programming paradigms and runtimes. As soon as your data is in a
dataset, you can immediately use it: in real-time programs; in batch processing applications such as Map/Reduce
and Spark; in ad-hoc SQL queries.</li>
</ul>
</div>
<div class="section" id="application-virtualization">
<h3>Application Virtualization<a class="headerlink" href="#application-virtualization" title="Permalink to this headline">¶</a></h3>
<p>CDAP&#8217;s programming interfaces have multiple implementations in different runtime environments. You build
your applications against the CDAP Developer API. The API hides the low-level details of individual
programming paradigms and execution environments. It enriches the infrastructure with numerous useful
services that are typically needed by Big Data applications, such as service discovery, log and metrics
collection, and configuration. The environment-specific implementations of these services are injected
by CDAP into the program containers in which the application is run—the application itself does not
need to change based on the environment. This allows you to develop applications in one environment—on
your laptop using a Standalone CDAP for testing—and then seamlessly deploy them in the different
environment of a distributed staging cluster.</p>
<p>Deployment of an application as well as its lifecycle management, monitoring and scaling are done
through CDAP&#8217;s Client API. Similarly to the Developer API, it is the same in every environment. The
experience of managing your application does not change when moving from one environment to another.</p>
</div>
<div class="section" id="developer-focus">
<h3>Developer Focus<a class="headerlink" href="#developer-focus" title="Permalink to this headline">¶</a></h3>
<p>CDAP supports developers through the entire application development lifecycle:
development, debugging, testing, continuous integration and production. Using familiar
development tools such as <em>IntelliJ</em> and <em>Eclipse</em>, you can build, test and debug your
application right on your laptop with a <em>Standalone CDAP</em>. Utilize the application unit
test framework (which embeds an <em>In-Memory CDAP</em>) for continuous integration. Deploy
to a development cloud or production cloud (<em>Distributed CDAP</em>) with a push of a button.
No matter which environment you are in, the experience of managing the application remains
largely the same.</p>
</div>
</div>
<div class="section" id="cdap-programming-interfaces">
<h2>CDAP Programming Interfaces<a class="headerlink" href="#cdap-programming-interfaces" title="Permalink to this headline">¶</a></h2>
<p>We distinguish between the Developer Interface and the Client Interface.</p>
<ul class="simple">
<li>The Developer Interface is used to build applications and exposes various Java APIs that are only available to
code that runs inside application containers. Examples are the Dataset and Transaction APIs as well as the
various supported programming paradigms.</li>
<li>The Client interface is a RESTful API and the only way that external clients can interact with CDAP and
applications. It includes APIs that are not accessible from inside containers, such as application
lifecycle management and monitoring. As an alternative to HTTP, clients can also use the client libraries
provided for different programming languages, which include Java, JavaScript, and Python.</li>
</ul>
<a class="reference internal image-reference" href="_images/arch_interfaces.png"><img alt="_images/arch_interfaces.png" class="align-center" src="_images/arch_interfaces.png" style="width: 5in;" /></a>
<p>Note that certain interfaces are included in both the Developer and the Client APIs; examples are Service Discovery
and Dataset Administration.</p>
</div>
<div class="section" id="components-of-cdap-and-their-interactions">
<h2>Components of CDAP and their Interactions<a class="headerlink" href="#components-of-cdap-and-their-interactions" title="Permalink to this headline">¶</a></h2>
<p>This diagram illustrates the components that comprise Distributed CDAP and show some of their interactions:</p>
<a class="reference internal image-reference" href="_images/arch_components_view.png"><img alt="_images/arch_components_view.png" class="align-center" src="_images/arch_components_view.png" style="width: 6in;" /></a>
<p>CDAP consists chiefly of these components:</p>
<ul class="simple">
<li>The Router is the only public access point into CDAP for external clients. It forwards client requests to
the appropriate system service or application. In a secure setup, the router also performs authentication;
it is then complemented by an authentication service that allows clients to obtain access tokens for CDAP.</li>
<li>The Master controls and manages all services and applications.</li>
<li>System Services provide vital platform features such datasets, transactions, service discovery logging,
and metrics collection. System services run in application containers.</li>
<li>Application containers provide virtualization and isolation for execution of application code (and, as a
special case, system services). Application containers scale linearly and elastically with the underlying
infrastructure.</li>
</ul>
<p>In a Hadoop Environment, application containers are implemented as YARN containers and datasets use HBase and
HDFS for actual storage. In other environments, the implementation can be different. For example, in Standalone
CDAP, all services run in a single JVM, application containers are implemented as threads, and data is stored in
the local file system.</p>
</div>
<div class="section" id="anatomy-of-a-big-data-application">
<h2>Anatomy of a Big Data Application<a class="headerlink" href="#anatomy-of-a-big-data-application" title="Permalink to this headline">¶</a></h2>
<p>As an application developer building a Big Data application, you are primarily concerned with four areas:</p>
<ul>
<li><p class="first"><strong>Data Collection:</strong> A method of getting data into the system so that it can be processed.
We distinguish these types of data collecting:</p>
<ul class="simple">
<li>A system or application service may poll an external source for available data and then retrieve it (&#8220;pull&#8221;),
or external clients may send data to a public endpoint of the platform (&#8220;push&#8221;).</li>
<li>Data can come steadily, one event at a time (&#8220;realtime&#8221;), or many events at once in bulk (&#8220;batch&#8221;).</li>
<li>Data can be acquired with a fixed schedule (&#8220;periodic&#8221;), or whenever new data is available (&#8220;on-demand&#8221;).</li>
</ul>
<p>CDAP provides streams as a means to push events into the platform in real-time. It also provides tools that
pull data in batch, be it periodic or on-demand, from external sources.</p>
<p>Streams are a special type of datasets that are exposed as a push endpoint for external clients. They support
ingesting events in realtime at massive scale. Events in the stream can then be consumed by applications in
real-time or batch.</p>
</li>
<li><p class="first"><strong>Data Exploration:</strong> One of the most powerful paradigms of Big Data is &#8220;schema-on-write&#8221;. This means the ability
to collect and store data without knowing details about its schema or structure. These details are only needed
at processing time. An important step between collecting the data and processing it is exploration; that is,
examining data with ad-hoc queries to learn about its structure and nature.</p>
</li>
</ul>
<ul>
<li><p class="first"><strong>Data Processing:</strong> After data is collected, we need to process it in various ways. For example:</p>
<ul class="simple">
<li>Raw events are filtered and transformed into a canonical form, to ensure quality of input data for
down-stream processing.</li>
<li>Events (or certain dimensions of the events) are counted or aggregated.</li>
<li>Events are annotated and used by an iterative algorithm to train a machine-learned model.</li>
<li>Events from different sources are joined to find associations, correlations or other views across
multiple sources.</li>
<li>. . .</li>
</ul>
<p>Processing can happen in realtime, where a stream processor consumes events immediately after they are collected.
Realtime processing provides less expressive power than other processing paradigms, but it provides insights into the
data in a very timely manner. CDAP offers Flows as the realtime processing framework.</p>
<p>Processing can also happen in batch, where many events are processed at the same time to analyze an entire data
corpus at once. Batch processing is more powerful than realtime processing, but due its very nature is always
time-lagging and thus often performed over historical data. In CDAP, batch processing can be done via
Map/Reduce or Spark, and it can also be scheduled on a periodic basis as part of a workflow.</p>
</li>
<li><p class="first"><strong>Data Storage:</strong> The results of processing data must be stored in a persistent and durable way that allows other
programs or applications to further process or analyze the data. In CDAP, data is stored in datasets.</p>
</li>
<li><p class="first"><strong>Data Serving:</strong> The ultimate purpose of processing data is not to store the results, but to make these results
available to other applications. For example, a web analytics application may find ways to optimize the traffic
on a website. However, these insights are worthless without a way to feed them back to the actual web application.
CDAP allows serving datasets to external clients through procedures and services.</p>
</li>
</ul>
<p>A CDAP application consists of combinations of these components:</p>
<ul class="simple">
<li><a class="reference external" href="dev-guide.html#streams">Streams</a> for real-time data collection;</li>
<li>Programs—<a class="reference external" href="dev-guide.html#flows">Flows</a>, <a class="reference external" href="dev-guide.html#mapreduce">MapReduce</a>,
<a class="reference external" href="dev-guide.html#spark">Spark</a>—for data processing in realtime or in batch;</li>
<li><a class="reference external" href="dev-guide.html#datasets">Datasets</a> for virtualized data storage; and</li>
<li><a class="reference external" href="dev-guide.html#procedures">Procedures</a> and <a class="reference external" href="dev-guide.html#services">Services</a>
for data serving to external clients.</li>
</ul>
<p>This diagram illustrates a typical Big Data application:</p>
<a class="reference internal image-reference" href="_images/app_unified_batch_realtime.png"><img alt="_images/app_unified_batch_realtime.png" class="align-center" src="_images/app_unified_batch_realtime.png" style="width: 8in;" /></a>
<p>It illustrates the power of data virtualization in CDAP: a stream is not just a means to collect data; it can
be consumed by realtime and batch processing at the same time. Similarly, datasets allow sharing of data between
programs of different paradigms, be they realtime or batch, without compromising the consistency of the data,
because all data access happens under ACID (Atomicity, Consistency, Isolation, and Durability) guarantees.</p>
</div>
<div class="section" id="where-to-go-next">
<h2>Where to Go Next<a class="headerlink" href="#where-to-go-next" title="Permalink to this headline">¶</a></h2>
<p>Now that you understand the concepts and the architecture of CDAP, you are ready to write an application:</p>
<ul class="simple">
<li><a class="reference external" href="dev-guide.html">Cask Data Application Platform Developer Guide</a>,
which guides you through the development and the components of an application.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><!--
  Copyright © 2014 Cask Data, Inc.

  Licensed under the Apache License, Version 2.0 (the "License"); you may not
  use this file except in compliance with the License. You may obtain a copy of
  the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  License for the specific language governing permissions and limitations under
  the License.
-->

<h3><a href="index.html">Table of Contents</a></h3>
<nav>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="getstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="case_study.html">Case Study</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Concepts and Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#virtualization">Virtualization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#data-virtualization">Data Virtualization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#application-virtualization">Application Virtualization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#developer-focus">Developer Focus</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cdap-programming-interfaces">CDAP Programming Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="#components-of-cdap-and-their-interactions">Components of CDAP and their Interactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#anatomy-of-a-big-data-application">Anatomy of a Big Data Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#where-to-go-next">Where to Go Next</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dev-guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="apps-packs.html">Apps and Packs</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">APIs and Clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="javadocs/index.html">Javadocs</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="admin.html">Administration and Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="licenses/index.html">Licenses and Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="releasenotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq/index.html">FAQ</a></li>
</ul>

</nav>
  <h4>Previous Topic</h4>
  <p class="topless"><a href="case_study.html"
                        title="Previous Chapter">CDAP Application Case Study</a></p>
  <h4>Next Topic</h4>
  <p class="topless"><a href="dev-guide.html"
                        title="Next Chapter">Cask Data Application Platform Programming Guide</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick Search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014 Cask Data, Inc.
    </div>
  </body>
</html>