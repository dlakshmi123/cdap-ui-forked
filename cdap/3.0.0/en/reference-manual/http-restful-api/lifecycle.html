<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="robots" content="noindex, nofollow">

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="Cask Data, Inc." name="author" />
<meta content="HTTP RESTful Interface to the Cask Data Application Platform" name="description" />
<meta content="Copyright © 2014-2015 Cask Data, Inc." name="copyright" />
<script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-55081520-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <title>Lifecycle HTTP RESTful API &mdash; Cask Data Application Platform 3.0.0 Documentation</title>
    
    <link rel="stylesheet" href="../_static/cdap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    



    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Cask Data Application Platform 3.0.0 Documentation" href="../index.html" />
    <link rel="up" title="CDAP HTTP RESTful API v3" href="index.html" />
    <link rel="next" title="Configuration HTTP RESTful API" href="configuration.html" />
    <link rel="prev" title="Namespace HTTP RESTful API" href="namespace.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="configuration.html" title="Configuration HTTP RESTful API"
             accesskey="N">Next</a> |</li>
        <li class="right" >
          <a href="namespace.html" title="Namespace HTTP RESTful API"
             accesskey="P">Previous</a> |</li>
        
        <script type="text/javascript" src="../_static/version-menu.js"></script>
        <script src="http://docs.cask.co/cdap/json-versions.js"/></script>
        <script>window.setVersion('3.0.0');</script>
       
        <li><a href="../table-of-contents.html">CDAP Reference Manual</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">CDAP HTTP RESTful API v3</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="lifecycle-http-restful-api">
<span id="http-restful-api-lifecycle"></span><h1>Lifecycle HTTP RESTful API<a class="headerlink" href="#lifecycle-http-restful-api" title="Permalink to this headline">¶</a></h1>
<p>Use the CDAP Lifecycle HTTP API to deploy or delete Applications and manage the lifecycle of
Flows, MapReduce programs, Workflows, Workers, and Custom Services.</p>
<div class="section" id="deploy-an-application">
<h2>Deploy an Application<a class="headerlink" href="#deploy-an-application" title="Permalink to this headline">¶</a></h2>
<p>To deploy an Application from your local file system into the namespace <em>&lt;namespace&gt;</em>,
submit an HTTP POST request:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">POST &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps</span>
</pre></div>
</div>
<p>with the name of the JAR file as a header:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">X-Archive-Name: &lt;JAR filename&gt;</span>
</pre></div>
</div>
<p>and its content as the body of the request:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">&lt;JAR binary content&gt;</span>
</pre></div>
</div>
<p>Invoke the same command to update an Application to a newer version.
However, be sure to stop all of its Flows, Spark and MapReduce programs before updating the Application.</p>
</div>
<div class="section" id="deployed-applications">
<h2>Deployed Applications<a class="headerlink" href="#deployed-applications" title="Permalink to this headline">¶</a></h2>
<p>To list all of the deployed applications in the namespace <em>&lt;namespace&gt;</em>, issue an HTTP
GET request:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">GET &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps</span>
</pre></div>
</div>
<p>This will return a JSON String map that lists each Application with its name and description.</p>
</div>
<div class="section" id="details-of-a-deployed-application">
<h2>Details of a Deployed Application<a class="headerlink" href="#details-of-a-deployed-application" title="Permalink to this headline">¶</a></h2>
<p>For detailed information on an application that has been deployed in the namespace
<em>&lt;namespace&gt;</em>, use:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">GET &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;</span>
</pre></div>
</div>
<p>The information will be returned in the body of the response. It includes the name and description
of the application, the streams and datasets it uses, and all of its programs.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;namespace&gt;</span></code></td>
<td>Namespace ID</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;app-id&gt;</span></code></td>
<td>Name of the Application</td>
</tr>
</tbody>
</table>
<p class="rubric">HTTP Responses</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Status Codes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">200</span> <span class="pre">OK</span></code></td>
<td>The event successfully called the method, and the body contains the results</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="delete-an-application">
<h2>Delete an Application<a class="headerlink" href="#delete-an-application" title="Permalink to this headline">¶</a></h2>
<p>To delete an Application—together with all of its Flows, MapReduce or Spark
programs, Services, Workflows, Schedules—submit an HTTP DELETE:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">DELETE &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;application-name&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;namespace&gt;</span></code></td>
<td>Namespace ID</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;application-name&gt;</span></code></td>
<td>Name of the Application to be deleted</td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> The <code class="docutils literal"><span class="pre">&lt;application-name&gt;</span></code> in this URL is the name of the Application
as configured by the Application Specification,
and not necessarily the same as the name of the JAR file that was used to deploy the Application.
This does not delete the Streams and Datasets associated with the Application
because they belong to the namespace, not the Application.</p>
</div>
<div class="section" id="start-stop-status-and-runtime-arguments">
<h2>Start, Stop, Status, and Runtime Arguments<a class="headerlink" href="#start-stop-status-and-runtime-arguments" title="Permalink to this headline">¶</a></h2>
<p>After an Application is deployed, you can start and stop its Flows, MapReduce
programs, Workflows, Workers, and Custom Services, and query for their status using HTTP POST and GET methods:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">POST &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/&lt;program-type&gt;/&lt;program-id&gt;/&lt;operation&gt;</span>
<span class="go">GET &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/&lt;program-type&gt;/&lt;program-id&gt;/status</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;namespace&gt;</span></code></td>
<td>Namespace ID</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;app-id&gt;</span></code></td>
<td>Name of the Application being called</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;program-type&gt;</span></code></td>
<td>One of <code class="docutils literal"><span class="pre">flows</span></code>, <code class="docutils literal"><span class="pre">mapreduce</span></code>, <code class="docutils literal"><span class="pre">spark</span></code>, <code class="docutils literal"><span class="pre">workflows</span></code>, <code class="docutils literal"><span class="pre">workers</span></code>, or <code class="docutils literal"><span class="pre">services</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;program-id&gt;</span></code></td>
<td>Name of the <em>Flow</em>, <em>MapReduce</em>, <em>Spark</em>, <em>Workflow</em>, or <em>Custom Service</em>
being called</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;operation&gt;</span></code></td>
<td>One of <code class="docutils literal"><span class="pre">start</span></code> or <code class="docutils literal"><span class="pre">stop</span></code></td>
</tr>
</tbody>
</table>
<p>You can retrieve the status of multiple programs from different applications and program types
using an HTTP POST method:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">POST &lt;base-url&gt;/namespaces/&lt;namespace&gt;/status</span>
</pre></div>
</div>
<p>with a JSON array in the request body consisting of multiple JSON objects with these parameters:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;namespace&gt;</span></code></td>
<td>Namespace ID</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&quot;appId&quot;</span></code></td>
<td>Name of the Application being called</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&quot;programType&quot;</span></code></td>
<td>One of <code class="docutils literal"><span class="pre">flow</span></code>, <code class="docutils literal"><span class="pre">mapreduce</span></code>, <code class="docutils literal"><span class="pre">spark</span></code>, <code class="docutils literal"><span class="pre">workflow</span></code> or <code class="docutils literal"><span class="pre">service</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&quot;programId&quot;</span></code></td>
<td>Name of the <em>Flow</em>, <em>MapReduce</em>, <em>Spark</em>, <em>Workflow</em>, or <em>Custom Service</em>
being called</td>
</tr>
</tbody>
</table>
<p>The response will be the same JSON array with additional parameters for each of the underlying JSON objects:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&quot;status&quot;</span></code></td>
<td>Maps to the status of an individual JSON object&#8217;s queried program
if the query is valid and the program was found.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&quot;statusCode&quot;</span></code></td>
<td>The status code from retrieving the status of an individual JSON object.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&quot;error&quot;</span></code></td>
<td>If an error, a description of why the status was not retrieved (the specified program was not found, etc.)</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">status</span></code> and <code class="docutils literal"><span class="pre">error</span></code> fields are mutually exclusive meaning if there is an error,
then there will never be a status and vice versa.</p>
<p class="rubric">Examples</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><th class="stub">HTTP Method</th>
<td><code class="docutils literal"><span class="pre">POST</span> <span class="pre">&lt;base-url&gt;/namespaces/default/apps/HelloWorld/flows/WhoFlow/start</span></code></td>
</tr>
<tr class="row-even"><th class="stub">Description</th>
<td>Start a Flow <em>WhoFlow</em> in the Application <em>HelloWorld</em> in the namespace <em>default</em></td>
</tr>
<tr class="row-odd"><th class="stub">&nbsp;</th>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><th class="stub">HTTP Method</th>
<td><code class="docutils literal"><span class="pre">POST</span> <span class="pre">&lt;base-url&gt;/namespaces/default/apps/Count/services/GetCounts/stop</span></code></td>
</tr>
<tr class="row-odd"><th class="stub">Description</th>
<td>Stop the Service <em>GetCounts</em> in the Application <em>Count</em> in the namespace <em>default</em></td>
</tr>
<tr class="row-even"><th class="stub">&nbsp;</th>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><th class="stub">HTTP Method</th>
<td><code class="docutils literal"><span class="pre">GET</span> <span class="pre">&lt;base-url&gt;/namespaces/default/apps/HelloWorld/flows/WhoFlow/status</span></code></td>
</tr>
<tr class="row-even"><th class="stub">Description</th>
<td>Get the status of the Flow <em>WhoFlow</em> in the Application <em>HelloWorld</em> in the namespace <em>default</em></td>
</tr>
<tr class="row-odd"><th class="stub">&nbsp;</th>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><th class="stub">HTTP Method</th>
<td><code class="docutils literal"><span class="pre">POST</span> <span class="pre">&lt;base-url&gt;/namespaces/default/status</span></code></td>
</tr>
<tr class="row-odd"><th class="stub">HTTP Body</th>
<td><code class="docutils literal"><span class="pre">[{&quot;appId&quot;:</span> <span class="pre">&quot;MyApp&quot;,</span> <span class="pre">&quot;programType&quot;:</span> <span class="pre">&quot;flow&quot;,</span> <span class="pre">&quot;programId&quot;:</span> <span class="pre">&quot;MyFlow&quot;},</span></code>
<code class="docutils literal"><span class="pre">{&quot;appId&quot;:</span> <span class="pre">&quot;MyApp2&quot;,</span> <span class="pre">&quot;programType&quot;:</span> <span class="pre">&quot;service&quot;,</span> <span class="pre">&quot;programId&quot;:</span> <span class="pre">&quot;MyService&quot;}]</span></code></td>
</tr>
<tr class="row-even"><th class="stub">HTTP Response</th>
<td><code class="docutils literal"><span class="pre">[{&quot;appId&quot;:&quot;MyApp&quot;,</span> <span class="pre">&quot;programType&quot;:&quot;flow&quot;,</span> <span class="pre">&quot;programId&quot;:&quot;MyFlow&quot;,</span> <span class="pre">&quot;status&quot;:&quot;RUNNING&quot;,</span> <span class="pre">&quot;statusCode&quot;:200},</span></code>
<code class="docutils literal"><span class="pre">{&quot;appId&quot;:&quot;MyApp2&quot;,</span> <span class="pre">&quot;programType&quot;:&quot;service&quot;,</span> <span class="pre">&quot;programId&quot;:&quot;MyService&quot;,</span></code>
<code class="docutils literal"><span class="pre">&quot;error&quot;:&quot;Program</span> <span class="pre">not</span> <span class="pre">found&quot;,</span> <span class="pre">&quot;statusCode&quot;:404}]</span></code></td>
</tr>
<tr class="row-odd"><th class="stub">Description</th>
<td>Attempt to get the status of the Flow <em>MyFlow</em> in the Application <em>MyApp</em> and of the Service <em>MyService</em>
in the Application <em>MyApp2</em> in the namespace <em>default</em></td>
</tr>
</tbody>
</table>
<p>When starting an program, you can optionally specify runtime arguments as a JSON map in the request body:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">POST &lt;base-url&gt;/namespaces/default/apps/HelloWorld/flows/WhoFlow/start</span>
</pre></div>
</div>
<p>with the arguments as a JSON string in the body:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">{&quot;foo&quot;:&quot;bar&quot;,&quot;this&quot;:&quot;that&quot;}</span>
</pre></div>
</div>
<p>CDAP will use these these runtime arguments only for this single invocation of the
program.</p>
<div class="topic">
<p class="topic-title first"><strong>Note: Runtime Arguments RESTful API Deprecated</strong></p>
<p>As of <em>CDAP v2.8.0</em>, <em>Runtime Arguments RESTful API</em> have been deprecated, pending removal in a later version.
Replace all use of <em>Runtime Arguments RESTful API</em> with <a class="reference internal" href="preferences.html#http-restful-api-v3-preferences"><span>Preferences RESTful API</span></a>.
<em>Preferences RESTful API</em> will have feature-parity with <em>Runtime Arguments RESTful API</em> as of the version in which
<em>Runtime Arguments RESTful API</em> are removed.</p>
</div>
<p>To save the runtime arguments so that CDAP will use them every time you start the program,
issue an HTTP PUT with the parameter <code class="docutils literal"><span class="pre">runtimeargs</span></code>:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">PUT &lt;base-url&gt;/namespaces/default/apps/HelloWorld/flows/WhoFlow/runtimeargs</span>
</pre></div>
</div>
<p>with the arguments as a JSON string in the body:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">{&quot;foo&quot;:&quot;bar&quot;,&quot;this&quot;:&quot;that&quot;}</span>
</pre></div>
</div>
<p>To retrieve the runtime arguments saved for an Application&#8217;s program, issue an HTTP GET
request to the program&#8217;s URL using the same parameter <code class="docutils literal"><span class="pre">runtimeargs</span></code>:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">GET &lt;base-url&gt;/namespaces/default/apps/HelloWorld/flows/WhoFlow/runtimeargs</span>
</pre></div>
</div>
<p>This will return the saved runtime arguments in JSON format.</p>
</div>
<div class="section" id="container-information">
<h2>Container Information<a class="headerlink" href="#container-information" title="Permalink to this headline">¶</a></h2>
<p>To find out the address of an program&#8217;s container host and the container’s debug port, you can query
CDAP for a Flow or Service’s live info via an HTTP GET method:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">GET &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/&lt;program-type&gt;/&lt;program-id&gt;/live-info</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;namespace&gt;</span></code></td>
<td>Namespace ID</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;app-id&gt;</span></code></td>
<td>Name of the Application being called</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;program-type&gt;</span></code></td>
<td>One of <code class="docutils literal"><span class="pre">flows</span></code>, <code class="docutils literal"><span class="pre">workers</span></code>, or <code class="docutils literal"><span class="pre">services</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;program-id&gt;</span></code></td>
<td>Name of the program (<em>Flow</em> or <em>Custom Service</em>)</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">GET &lt;base-url&gt;/namespaces/default/apps/WordCount/flows/WordCounter/live-info</span>
</pre></div>
</div>
<p>The response is formatted in JSON; an example of this is shown in
<a class="reference external" href="../source/../../developers-manual/testing/debugging.html#debugging-distributed" title="(in Cask Data Application Platform v3.0.0)"><span class="xref std std-ref">CDAP Testing and Debugging.</span></a></p>
</div>
<div class="section" id="scaling">
<span id="http-restful-api-lifecycle-scale"></span><h2>Scaling<a class="headerlink" href="#scaling" title="Permalink to this headline">¶</a></h2>
<p>You can retrieve the instance count executing different components from various applications and
different program types using an HTTP POST method:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">POST &lt;base-url&gt;/namespaces/&lt;namespace&gt;/instances</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;namespace&gt;</span></code></td>
<td>Namespace ID</td>
</tr>
</tbody>
</table>
<p>with a JSON array in the request body consisting of multiple JSON objects with these parameters:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&quot;appId&quot;</span></code></td>
<td>Name of the Application being called</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&quot;programType&quot;</span></code></td>
<td>One of <code class="docutils literal"><span class="pre">flow</span></code>, <code class="docutils literal"><span class="pre">service</span></code>, or <code class="docutils literal"><span class="pre">worker</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&quot;programId&quot;</span></code></td>
<td>Name of the program (<em>Flow</em>, <em>Service</em>, or <em>Worker</em>) being called</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&quot;runnableId&quot;</span></code></td>
<td>Name of the <em>Flowlet</em>, only required if the program type is <code class="docutils literal"><span class="pre">flow</span></code></td>
</tr>
</tbody>
</table>
<p>The response will be the same JSON array with additional parameters for each of the underlying JSON objects:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&quot;requested&quot;</span></code></td>
<td>Number of instances the user requested for the program defined by the individual JSON object&#8217;s parameters</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&quot;provisioned&quot;</span></code></td>
<td>Number of instances that are actually running for the program defined by the individual JSON object&#8217;s parameters.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&quot;statusCode&quot;</span></code></td>
<td>The status code from retrieving the instance count of an individual JSON object.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&quot;error&quot;</span></code></td>
<td>If an error, a description of why the status was not retrieved (the specified program was not found,
the requested JSON object was missing a parameter, etc.)</td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> The <code class="docutils literal"><span class="pre">requested</span></code> and <code class="docutils literal"><span class="pre">provisioned</span></code> fields are mutually exclusive of the <code class="docutils literal"><span class="pre">error</span></code> field.</p>
<p class="rubric">Example</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><th class="stub">HTTP Method</th>
<td><code class="docutils literal"><span class="pre">POST</span> <span class="pre">&lt;base-url&gt;/namespaces/default/instances</span></code></td>
</tr>
<tr class="row-even"><th class="stub">HTTP Body</th>
<td><code class="docutils literal"><span class="pre">[{&quot;appId&quot;:&quot;MyApp1&quot;,&quot;programType&quot;:&quot;Flow&quot;,&quot;programId&quot;:&quot;MyFlow1&quot;,&quot;runnableId&quot;:&quot;MyFlowlet5&quot;},</span></code>
<code class="docutils literal"><span class="pre">{&quot;appId&quot;:&quot;MyApp3&quot;,&quot;programType&quot;:&quot;Service&quot;,&quot;programId&quot;:&quot;MySvc1,&quot;runnableId&quot;:&quot;MyHandler1&quot;}]</span></code></td>
</tr>
<tr class="row-odd"><th class="stub">HTTP Response</th>
<td><code class="docutils literal"><span class="pre">[{&quot;appId&quot;:&quot;MyApp1&quot;,&quot;programType&quot;:&quot;Flow&quot;,&quot;programId&quot;:&quot;MyFlow1&quot;,</span></code>
<code class="docutils literal"><span class="pre">&quot;runnableId&quot;:&quot;MyFlowlet5&quot;,&quot;provisioned&quot;:2,&quot;requested&quot;:2,&quot;statusCode&quot;:200},</span></code>
<code class="docutils literal"><span class="pre">{&quot;appId&quot;:&quot;MyApp3&quot;,&quot;programType&quot;:&quot;Service&quot;,&quot;programId&quot;:&quot;MySvc1,</span></code>
<code class="docutils literal"><span class="pre">&quot;runnableId&quot;:&quot;MyHandler1&quot;,&quot;statusCode&quot;:404,&quot;error&quot;:&quot;Runnable:</span> <span class="pre">MyHandler1</span> <span class="pre">not</span> <span class="pre">found&quot;}]</span></code></td>
</tr>
<tr class="row-even"><th class="stub">Description</th>
<td>Try to get the instances of the Flowlet <em>MyFlowlet5</em> in the Flow <em>MyFlow1</em> in the
Application <em>MyApp1</em>, and the Service Handler <em>MyHandler1</em> in the User Service
<em>MySvc1</em> in the Application <em>MyApp3</em>, all in the namespace <em>default</em></td>
</tr>
</tbody>
</table>
<div class="section" id="scaling-flowlets">
<span id="rest-scaling-flowlets"></span><h3>Scaling Flowlets<a class="headerlink" href="#scaling-flowlets" title="Permalink to this headline">¶</a></h3>
<p>You can query and set the number of instances executing a given Flowlet
by using the <code class="docutils literal"><span class="pre">instances</span></code> parameter with HTTP GET and PUT methods:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">GET &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/flows/&lt;flow-id&gt;/flowlets/&lt;flowlet-id&gt;/instances</span>
<span class="go">PUT &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/flows/&lt;flow-id&gt;/flowlets/&lt;flowlet-id&gt;/instances</span>
</pre></div>
</div>
<p>with the arguments as a JSON string in the body:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">{ &quot;instances&quot; : &lt;quantity&gt; }</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;namespace&gt;</span></code></td>
<td>Namespace ID</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;app-id&gt;</span></code></td>
<td>Name of the Application being called</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;flow-id&gt;</span></code></td>
<td>Name of the Flow</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;flowlet-id&gt;</span></code></td>
<td>Name of the Flowlet</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;quantity&gt;</span></code></td>
<td>Number of instances to be used</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><th class="stub">HTTP Method</th>
<td><code class="docutils literal"><span class="pre">GET</span> <span class="pre">&lt;base-url&gt;/namespaces/default/apps/HelloWorld/flows/WhoFlow/flowlets/saver/</span></code>
<code class="docutils literal"><span class="pre">instances</span></code></td>
</tr>
<tr class="row-even"><th class="stub">Description</th>
<td>Find out the number of instances of the Flowlet <em>saver</em>
in the Flow <em>WhoFlow</em> of the Application <em>HelloWorld</em> in the namespace <em>default</em></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><th class="stub">HTTP Method</th>
<td><p class="first"><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">&lt;base-url&gt;/namespaces/default/apps/HelloWorld/flows/WhoFlow/flowlets/saver/</span></code>
<code class="docutils literal"><span class="pre">instances</span></code></p>
<p>with the arguments as a JSON string in the body:</p>
<div class="last highlight-console"><div class="highlight"><pre><span class="go">{ &quot;instances&quot; : 2 }</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><th class="stub">Description</th>
<td>Change the number of instances of the Flowlet <em>saver</em> in the Flow <em>WhoFlow</em> of the
Application <em>HelloWorld</em> in the namespace <em>default</em></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scaling-services">
<h3>Scaling Services<a class="headerlink" href="#scaling-services" title="Permalink to this headline">¶</a></h3>
<p>You can query or change the number of instances of a Service
by using the <code class="docutils literal"><span class="pre">instances</span></code> parameter with HTTP GET or PUT methods:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">GET &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/services/&lt;service-id&gt;/instances</span>
<span class="go">PUT &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/services/&lt;service-id&gt;/instances</span>
</pre></div>
</div>
<p>with the arguments as a JSON string in the body:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">{ &quot;instances&quot; : &lt;quantity&gt; }</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;namespace&gt;</span></code></td>
<td>Namespace ID</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;app-id&gt;</span></code></td>
<td>Name of the Application</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;service-id&gt;</span></code></td>
<td>Name of the Service</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;quantity&gt;</span></code></td>
<td>Number of instances to be used</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><th class="stub">HTTP Method</th>
<td><code class="docutils literal"><span class="pre">GET</span> <span class="pre">&lt;base-url&gt;/namespaces/default/apps/PurchaseHistory/services/CatalogLookup/instances</span></code></td>
</tr>
<tr class="row-even"><th class="stub">Description</th>
<td>Retrieve the number of instances of the Service <em>CatalogLookup</em> in the application
<em>PurchaseHistory</em> in the namespace <em>default</em></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scaling-workers">
<h3>Scaling Workers<a class="headerlink" href="#scaling-workers" title="Permalink to this headline">¶</a></h3>
<p>You can query or change the number of instances of a Worker by using the <code class="docutils literal"><span class="pre">instances</span></code>
parameter with HTTP GET or PUT methods:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">GET &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/workers/&lt;worker-id&gt;/instances</span>
<span class="go">PUT &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/workers/&lt;worker-id&gt;/instances</span>
</pre></div>
</div>
<p>with the arguments as a JSON string in the body:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">{ &quot;instances&quot; : &lt;quantity&gt; }</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;namespace&gt;</span></code></td>
<td>Namespace ID</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;app-id&gt;</span></code></td>
<td>Name of the Application</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;worker-id&gt;</span></code></td>
<td>Name of the Worker</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;quantity&gt;</span></code></td>
<td>Number of instances to be used</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><th class="stub">HTTP Method</th>
<td><code class="docutils literal"><span class="pre">GET</span> <span class="pre">&lt;base-url&gt;/namespaces/default/apps/HelloWorld/workers/DataWorker/instances</span></code>
<code class="docutils literal"><span class="pre">instances</span></code></td>
</tr>
<tr class="row-even"><th class="stub">Description</th>
<td>Retrieve the number of instances of the Worker <em>DataWorker</em>
in the Application <em>HelloWorld</em> in the namespace <em>default</em></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="run-records-and-schedules">
<span id="rest-program-runs"></span><h2>Run Records and Schedules<a class="headerlink" href="#run-records-and-schedules" title="Permalink to this headline">¶</a></h2>
<p>To see all the runs of a selected program (Flows, MapReduce programs, Spark programs, Workflows, and
Services), issue an HTTP GET to the program’s URL with the <code class="docutils literal"><span class="pre">runs</span></code> parameter.
This will return a JSON list of all runs for the program, each with a start time,
end time and program status:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">GET &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/&lt;program-type&gt;/&lt;program-id&gt;/runs</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;namespace&gt;</span></code></td>
<td>Namespace ID</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;app-id&gt;</span></code></td>
<td>Name of the Application</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;program-type&gt;</span></code></td>
<td>One of <code class="docutils literal"><span class="pre">flows</span></code>, <code class="docutils literal"><span class="pre">mapreduce</span></code>, <code class="docutils literal"><span class="pre">spark</span></code>, <code class="docutils literal"><span class="pre">workflows</span></code> or <code class="docutils literal"><span class="pre">services</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;program-id&gt;</span></code></td>
<td>Name of the program</td>
</tr>
</tbody>
</table>
<p>You can filter the runs by the status of a program, the start and end times,
and can limit the number of returned records:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Query Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;status&gt;</span></code></td>
<td>running/completed/failed</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;start&gt;</span></code></td>
<td>start timestamp</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;end&gt;</span></code></td>
<td>end timestamp</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;limit&gt;</span></code></td>
<td>maximum number of returned records</td>
</tr>
</tbody>
</table>
<p>The result returned will include the <em>runid</em> field, a UUID that uniquely identifies a run within CDAP,
with the start and end times in seconds since the start of the Epoch (midnight 1/1/1970).
Use that runid in subsequent calls to obtain additional information.</p>
<div class="table-block-example container">
<table border="1" class="docutils">
<colgroup>
<col width="99%" />
<col width="1%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><th class="stub">Example: Retrieving Run Records</th>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<table border="1" class="triple-table docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Description</td>
<td>Retrieve the run records of the Flow <em>WhoFlow</em> of the Application <em>HelloWorld</em></td>
</tr>
<tr class="row-even"><td>HTTP Method</td>
<td><code class="docutils literal"><span class="pre">GET</span> <span class="pre">&lt;base-url&gt;/namespaces/default/apps/HelloWorld/flows/WhoFlow/runs</span></code></td>
</tr>
<tr class="row-odd"><td>Returns</td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">{&quot;runid&quot;:&quot;...&quot;,&quot;start&quot;:1382567598,&quot;status&quot;:&quot;RUNNING&quot;},</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">{&quot;runid&quot;:&quot;...&quot;,&quot;start&quot;:1382567447,&quot;end&quot;:1382567492,&quot;status&quot;:&quot;STOPPED&quot;},</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">{&quot;runid&quot;:&quot;...&quot;,&quot;start&quot;:1382567383,&quot;end&quot;:1382567397,&quot;status&quot;:&quot;STOPPED&quot;}</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="retrieving-specific-run-information">
<h3>Retrieving Specific Run Information<a class="headerlink" href="#retrieving-specific-run-information" title="Permalink to this headline">¶</a></h3>
<p>To fetch the run record for a particular run of a program, use:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">GET &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/&lt;program-type&gt;/&lt;program-id&gt;/runs/&lt;run-id&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;namespace&gt;</span></code></td>
<td>Namespace ID</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;app-id&gt;</span></code></td>
<td>Name of the Application</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;program-type&gt;</span></code></td>
<td>One of <code class="docutils literal"><span class="pre">flows</span></code>, <code class="docutils literal"><span class="pre">mapreduce</span></code>, <code class="docutils literal"><span class="pre">spark</span></code>, <code class="docutils literal"><span class="pre">workflows</span></code> or <code class="docutils literal"><span class="pre">services</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;program-id&gt;</span></code></td>
<td>Name of the program</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;run-id&gt;</span></code></td>
<td>Run id of the run</td>
</tr>
</tbody>
</table>
<div class="table-block-example container">
<table border="1" class="docutils">
<colgroup>
<col width="99%" />
<col width="1%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><th class="stub">Example: Retrieving A Particular Run Record</th>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<table border="1" class="triple-table docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Description</td>
<td>Retrieve the run record of the Flow <em>WhoFlow</em> of the Application <em>HelloWorld</em> for run <em>b78d0091-da42-11e4-878c-2217c18f435d</em></td>
</tr>
<tr class="row-even"><td>HTTP Method</td>
<td><code class="docutils literal"><span class="pre">GET</span> <span class="pre">&lt;base-url&gt;/namespaces/default/apps/HelloWorld/flows/WhoFlow/runs/b78d0091-da42-11e4-878c-2217c18f435d</span></code></td>
</tr>
<tr class="row-odd"><td>Returns</td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">{&quot;runid&quot;:&quot;...&quot;,&quot;start&quot;:1382567598,&quot;status&quot;:&quot;RUNNING&quot;}</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<p>For Services, you can retrieve:</p>
<ul>
<li><p class="first">the history of successfully completed Twill Service runs using:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">GET &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/services/&lt;service-id&gt;/runs?status=completed</span>
</pre></div>
</div>
</li>
</ul>
<p>For Workflows, you can retrieve:</p>
<ul>
<li><p class="first">the information about the specific run currently running:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">GET &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/workflows/&lt;workflow-id&gt;/&lt;run-id&gt;/current</span>
</pre></div>
</div>
</li>
<li><p class="first">the schedules defined for a workflow (using the parameter <code class="docutils literal"><span class="pre">schedules</span></code>):</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">GET &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/workflows/&lt;workflow-id&gt;/schedules</span>
</pre></div>
</div>
</li>
<li><p class="first">the next time that the workflow is scheduled to run (using the parameter <code class="docutils literal"><span class="pre">nextruntime</span></code>):</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">GET &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/workflows/&lt;workflow-id&gt;/nextruntime</span>
</pre></div>
</div>
</li>
</ul>
<p class="rubric">Examples</p>
<div class="table-block-example container">
<table border="1" class="docutils">
<colgroup>
<col width="99%" />
<col width="1%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><th class="stub">Example: Retrieving The Most Recent Run</th>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<table border="1" class="triple-table docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Description</td>
<td>Retrieve the most recent successful completed run of the Service <em>CatalogLookup</em> of the Application <em>PurchaseHistory</em></td>
</tr>
<tr class="row-even"><td>HTTP Method</td>
<td><code class="docutils literal"><span class="pre">GET</span> <span class="pre">&lt;base-url&gt;/namespaces/default/apps/PurchaseHistory/services/CatalogLookup/runs?status=completed&amp;limit=1</span></code></td>
</tr>
<tr class="row-odd"><td>Returns</td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">[{&quot;runid&quot;:&quot;cad83d45-ecfb-4bf8-8cdb-4928a5601b0e&quot;,&quot;start&quot;:1415051892,&quot;end&quot;:1415057103,&quot;status&quot;:&quot;STOPPED&quot;}]</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="table-block-example container">
<table border="1" class="docutils">
<colgroup>
<col width="99%" />
<col width="1%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><th class="stub">Example: Retrieving A Schedule</th>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<table border="1" class="triple-table docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Description</td>
<td>Retrieves the schedules of the Workflow <em>PurchaseHistoryWorkflow</em> of the Application <em>PurchaseHistory</em></td>
</tr>
<tr class="row-even"><td>HTTP Method</td>
<td><code class="docutils literal"><span class="pre">GET</span> <span class="pre">&lt;base-url&gt;/namespaces/default/apps/PurchaseHistory/workflows/PurchaseHistoryWorkflow/schedules</span></code></td>
</tr>
<tr class="row-odd"><td>Returns</td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">[{&quot;schedule&quot;:{&quot;name&quot;:&quot;DailySchedule&quot;,&quot;description&quot;:&quot;DailySchedule</span> <span class="pre">with</span> <span class="pre">crontab</span> <span class="pre">0</span> <span class="pre">4</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">*&quot;,&quot;cronEntry&quot;:&quot;0</span> <span class="pre">4</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">*&quot;},</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">&nbsp;&quot;program&quot;:{&quot;programName&quot;:&quot;PurchaseHistoryWorkflow&quot;,&quot;programType&quot;:&quot;WORKFLOW&quot;},&quot;properties&quot;:{}}]</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="table-block-example container">
<table border="1" class="docutils">
<colgroup>
<col width="99%" />
<col width="1%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><th class="stub">Example: Retrieving The Next Runtime</th>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<table border="1" class="triple-table docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Description</td>
<td>Retrieves the next runtime of the Workflow <em>PurchaseHistoryWorkflow</em> of the Application <em>PurchaseHistory</em></td>
</tr>
<tr class="row-even"><td>HTTP Method</td>
<td><code class="docutils literal"><span class="pre">GET</span> <span class="pre">&lt;base-url&gt;/namespaces/default/apps/PurchaseHistory/workflows/PurchaseHistoryWorkflow/nextruntime</span></code></td>
</tr>
<tr class="row-odd"><td>Returns</td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">[{&quot;id&quot;:&quot;DEFAULT.WORKFLOW:developer:PurchaseHistory:PurchaseHistoryWorkflow:0:DailySchedule&quot;,&quot;time&quot;:1415102400000}]</span></code></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="schedules-suspend-and-resume">
<h3>Schedules: Suspend and Resume<a class="headerlink" href="#schedules-suspend-and-resume" title="Permalink to this headline">¶</a></h3>
<p>For Schedules, you can suspend and resume them using the RESTful API.</p>
<p>To <em>suspend</em> a Schedule means that the program associated with that schedule will not
trigger again until the Schedule is resumed.</p>
<p>To <em>resume</em> a Schedule means that the trigger is reset, and the program associated will
run again at the next scheduled time.</p>
<p>To suspend or resume a Schedule use:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">POST &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/schedules/&lt;schedule-name&gt;/suspend</span>
<span class="go">POST &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/schedules/&lt;schedule-name&gt;/resume</span>
</pre></div>
</div>
<p>where:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;namespace&gt;</span></code></td>
<td>Namespace ID</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;app-id&gt;</span></code></td>
<td>Name of the Application</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;schedule-name&gt;</span></code></td>
<td>Name of the Schedule</td>
</tr>
</tbody>
</table>
<div class="table-block-example container">
<table border="1" class="docutils">
<colgroup>
<col width="99%" />
<col width="1%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><th class="stub">Example: Suspending A Schedule</th>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<table border="1" class="triple-table docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Description</td>
<td>Suspends the Schedule <em>DailySchedule</em> of the Application <em>PurchaseHistory</em></td>
</tr>
<tr class="row-even"><td>HTTP Method</td>
<td><code class="docutils literal"><span class="pre">POST</span> <span class="pre">&lt;base-url&gt;/namespaces/default/apps/PurchaseHistory/schedules/DailySchedule/suspend</span></code></td>
</tr>
<tr class="row-odd"><td>Returns</td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">OK</span></code> if successfully set as suspended</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="workflows-suspend-and-resume">
<h3>Workflows: Suspend and Resume<a class="headerlink" href="#workflows-suspend-and-resume" title="Permalink to this headline">¶</a></h3>
<p>For Workflows, you can suspend and resume them using the RESTful API.</p>
<p>To <em>suspend</em> means that the current activity will be taken to completion, but no further
programs will be initiated. Programs will not be left partially uncompleted, barring any errors.</p>
<p>In the case of a Workflow with multiple MapReduce programs, if one of them is running (first of
three perhaps) and you suspend the Workflow, that first MapReduce will be completed but the
following two will not be started.</p>
<p>To <em>resume</em> means that activity will start up where it was left off, beginning with the start
of the next program in the sequence.</p>
<p>In the case of the Workflow mentioned above, resuming it after suspension would start up with the
second of the three MapReduce programs, which is where it would have left off when it was suspended.</p>
<p>With Workflows, <em>suspend</em> and <em>resume</em> require a <em>run-id</em> as the action takes place on
either a currently running or suspended Workflow.</p>
<p>To suspend or resume a Workflow, use:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">POST &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/workflows/&lt;workflow-name&gt;/runs/&lt;run-id&gt;/suspend</span>
<span class="go">POST &lt;base-url&gt;/namespaces/&lt;namespace&gt;/apps/&lt;app-id&gt;/workflows/&lt;workflow-name&gt;/runs/&lt;run-id&gt;/resume</span>
</pre></div>
</div>
<p>where:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;namespace&gt;</span></code></td>
<td>Namespace ID</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;app-id&gt;</span></code></td>
<td>Name of the Application</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&lt;workflow-name&gt;</span></code></td>
<td>Name of the Workflow</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">&lt;run-id&gt;</span></code></td>
<td>UUID of the Workflow run</td>
</tr>
</tbody>
</table>
<div class="table-block-example container">
<table border="1" class="docutils">
<colgroup>
<col width="99%" />
<col width="1%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><th class="stub">Example: Suspending A Workflow</th>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<table border="1" class="triple-table docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Description</td>
<td>Suspends the run <code class="docutils literal"><span class="pre">0ce13912-e980-11e4-a7d7-8cae4cfd0e64</span></code> of the Workflow
<em>PurchaseHistoryWorkflow</em> of the Application <em>PurchaseHistory</em></td>
</tr>
<tr class="row-even"><td>HTTP Method</td>
<td><code class="docutils literal"><span class="pre">POST</span> <span class="pre">&lt;base-url&gt;/namespaces/default/apps/PurchaseHistory/workflows/PurchaseHistoryWorkflow/runs/0ce13912-e980-11e4-a7d7-8cae4cfd0e64/suspend</span></code></td>
</tr>
<tr class="row-odd"><td>Returns</td>
<td><div class="first last line-block">
<div class="line"><code class="docutils literal"><span class="pre">Program</span> <span class="pre">run</span> <span class="pre">suspended.</span></code> if successfully set as suspended</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div role="note" aria-label="manuals links">
    <h3><a href="../table-of-contents/../../index.html"
        rel="nofollow">CDAP Documentation v3.0.0</a></h3>
    <ul class="this-page-menu">
      <li><div class=""></div><a href="../table-of-contents/../../index.html"
            rel="nofollow">Overview</a></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../introduction/index.html"
            rel="nofollow">Introduction to CDAP</a></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../developers-manual/index.html"
            rel="nofollow">Developers’ Manual</a></li>
            
      <li><div class="new-icon"></div><a href="../table-of-contents/../../application-templates/index.html"
            rel="nofollow">Application Templates</a></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../admin-manual/index.html"
            rel="nofollow">Administration Manual</a></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../integrations/index.html"
            rel="nofollow">Integrations</a></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../examples-manual/index.html"
            rel="nofollow">Examples, Guides, and Tutorials</a></li>
            
      <li><div class=""></div><b><a href="../table-of-contents/../../reference-manual/index.html"
            rel="nofollow">Reference Manual</a></b></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../reference-manual/release-notes.html"
            rel="nofollow">Release Notes</a></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../reference-manual/glossary.html"
            rel="nofollow">Glossary</a></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../reference-manual/faq.html"
            rel="nofollow">FAQ</a></li>
            
      <li><div class=""></div><a href="../table-of-contents/../../search.html"
            rel="nofollow">Search</a></li>
    </ul>
   </div><!--
  Copyright © 2014-2015 Cask Data, Inc.

  Licensed under the Apache License, Version 2.0 (the "License"); you may not
  use this file except in compliance with the License. You may obtain a copy of
  the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  License for the specific language governing permissions and limitations under
  the License.
-->


    
<h3 class="pagenavtitle"><a href="../table-of-contents.html">Reference Manual: Table&nbsp;of&nbsp;Contents</a></h3>
<nav class="pagenav">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html"> Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../characters.html"> Supported Characters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli-api.html"> Command Line Interface API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html"> HTTP RESTful API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespace.html">Namespace</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Lifecycle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#deploy-an-application">Deploy an Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deployed-applications">Deployed Applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="#details-of-a-deployed-application">Details of a Deployed Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="#delete-an-application">Delete an Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="#start-stop-status-and-runtime-arguments">Start, Stop, Status, and Runtime Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#container-information">Container Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scaling">Scaling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#scaling-flowlets">Scaling Flowlets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scaling-services">Scaling Services</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scaling-workers">Scaling Workers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#run-records-and-schedules">Run Records and Schedules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#retrieving-specific-run-information">Retrieving Specific Run Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#schedules-suspend-and-resume">Schedules: Suspend and Resume</a></li>
<li class="toctree-l4"><a class="reference internal" href="#workflows-suspend-and-resume">Workflows: Suspend and Resume</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="preferences.html">Preferences</a></li>
<li class="toctree-l2"><a class="reference internal" href="apptemplates.html">Application Templates and Adapters</a></li>
<li class="toctree-l2"><a class="reference internal" href="stream.html">Stream</a></li>
<li class="toctree-l2"><a class="reference internal" href="dataset.html">Dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="query.html">Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="service.html">Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html">Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="monitor.html">Monitor</a></li>
<li class="toctree-l2"><a class="reference internal" href="transactions.html">Transactions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../java-client-api.html"> Java Client API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../javadocs/index.html"> Javadocs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../licenses/index.html"> Trademarks, Licenses, and Dependencies</a></li>
</ul>

</nav>
  <h4>Previous Topic</h4>
  <p class="topless"><a href="namespace.html"
                        title="Previous Chapter">Namespace HTTP RESTful API</a></p>
  <h4>Next Topic</h4>
  <p class="topless"><a href="configuration.html"
                        title="Next Chapter">Configuration HTTP RESTful API</a></p>
  <div role="note" aria-label="downloads links">
    <h3>Downloads</h3>
    <ul class="this-page-menu">
      <li><a href="http://docs.cask.co/cdap/3.0.0/cdap-docs-3.0.0-web.zip"
            rel="nofollow">Zip Archive of CDAP Documentation</a></li>
    </ul>
   </div>
  
<div id="searchbox" style="display: none" role="search">
  <h3>Quick Search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<div role="note" aria-label="other links">
    <h3><a href="http://docs.cask.co/" target="_blank">Documentation</a></h3>
    <ul class="this-page-menu">
        <li><a href="http://docs.cask.co/cdap/index.html" target="_blank">CDAP</a></li>
        <li><a href="http://docs.cask.co/coopr/index.html" target="_blank">Coopr</a></li>
        <li><a href="http://docs.cask.co/tephra/index.html" target="_blank">Tephra</em></a></li>
        <li><a href="http://docs.cask.co/tigon/index.html" target="_blank">Tigon</a></li>
    </ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">

<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}
.tg td{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg th{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg .tg-s6z2{text-align:center;}
.tg .tg-0ord{text-align:right;}
.tg a{font-weight:bold;}
</style>
<table class="tg" width= 100%>
  <tr>
    <th class="tg-031e">Previous Topic: 
    <a title="Namespace HTTP RESTful API" href="namespace.html" />Namespace HTTP RESTful API</a>&nbsp;&nbsp;
    
    </th>
    <th class="tg-s6z2">
        Copyright &copy; 2014-2015 Cask Data, Inc.
    
    </th>
    <th class="tg-0ord">&nbsp;&nbsp;Next Topic:
    <a title="Configuration HTTP RESTful API" href="configuration.html" />Configuration HTTP RESTful API</a>
    
    </th>
  </tr>
</table>

    </div>
  </body>
</html>