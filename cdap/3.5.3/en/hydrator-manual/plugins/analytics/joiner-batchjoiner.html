<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KWLFGH');</script>
    <!-- End Google Tag Manager -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    
    
    <meta name="git_release" content="3.5.3">
    <meta name="git_hash" content="df76fc573ba695366c529aad811217c43a173769">
    <meta name="git_timestamp" content="2017-01-21 16:09:27 -0800">
    <title>Joiner &mdash; Cask Data Application Platform 3.5.3 Documentation</title>

    <link rel="canonical" href="http://docs.cask.co/cdap/3.5.3/en/hydrator-manual/plugins/analytics/joiner-batchjoiner.html">

    
    <link rel="stylesheet" href="../../_static/cdap.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/annotator.min.css" type="text/css" />



    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.5.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/copy-to-clipboard.js"></script>
    <script type="text/javascript" src="../../_static/tabbed-parsed-literal.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Cask Data Application Platform 3.5.3 Documentation" href="../../index.html" />
    <link rel="up" title="Analytic Plugins" href="index.html" />
    <link rel="next" title="Naive Bayes Classifier" href="naivebayesclassifier-sparkcompute.html" />
    <link rel="prev" title="GroupBy Aggregate" href="groupbyaggregate-batchaggregator.html" /> 
  </head>
  <body role="document">

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KWLFGH"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="naivebayesclassifier-sparkcompute.html" title="Naive Bayes Classifier"
             accesskey="N">Next</a> |</li>
        <li class="right" >
          <a href="groupbyaggregate-batchaggregator.html" title="GroupBy Aggregate"
             accesskey="P">Previous</a> |</li>
        
        <script type="text/javascript" src="../../_static/version-menu.js"></script>
        <script src="http://docs.cask.co/cdap/json-versions.js"/></script>
        <script>window.setVersion('3.5.3');</script>
       
        <li><a href="../../table-of-contents.html">Cask Hydrator</a> &raquo;</li>
          <li><a href="../index.html" >Plugin Reference</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Analytic Plugins</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div id="documentwrapper" class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="joiner">
<span id="joiner"></span><h1><a class="headerlink" href="#joiner" title="Perma-link to this heading">ðŸ”—</a>Joiner</h1>
<div class="section" id="description">
<span id="description"></span><h2><a class="headerlink" href="#description" title="Perma-link to this heading">ðŸ”—</a>Description</h2>
<p>Joins records from one or more input based on join keys. Supports <code class="docutils literal"><span class="pre">inner</span></code> and <code class="docutils literal"><span class="pre">outer</span></code> joins, selection and renaming of output fields.</p>
</div>
<div class="section" id="use-case">
<span id="use-case"></span><h2><a class="headerlink" href="#use-case" title="Perma-link to this heading">ðŸ”—</a>Use Case</h2>
<p>The transform is used when you want to combine fields from one or more input, similar to the joins in SQL.</p>
</div>
<div class="section" id="properties">
<span id="properties"></span><h2><a class="headerlink" href="#properties" title="Perma-link to this heading">ðŸ”—</a>Properties</h2>
<p><strong>joinKeys:</strong> List of keys to perform the join operation. The list is separated by <code class="docutils literal"><span class="pre">&amp;</span></code>.
Join key from each input stage will be prefixed with <code class="docutils literal"><span class="pre">&lt;stageName&gt;.</span></code> and the relation among join keys from different inputs is represented by <code class="docutils literal"><span class="pre">=</span></code>.
For example: customers.customer_id=items.c_id&amp;customers.customer_name=items.c_name means the join key is a composite key
of customer id and customer name from customers and items input stages and join will be performed on equality
of the join keys. This transform only supports equality for joins.</p>
<p><strong>selectedFields:</strong> Comma-separated list of fields to be selected and renamed in join output from each input stage.
Each selected field that should be present in the output must be prefixed with '&lt;input_stage_name&gt;'.
The syntax for specifying alias for each selected field is similar to sql.
For example: customers.id as customer_id, customer.name as customer_name, item.id as item_id, <stageName>.inputFieldName as alias.
The output will have same order of fields as selected in selectedFields. There must not be any duplicate fields in output.</p>
<p><strong>requiredInputs:</strong> Comma-separated list of stages. Required input stages decide the type of the join.
If all the input stages are present in required inputs, inner join will be performed.
Otherwise, outer join will be performed considering non-required inputs as optional.</p>
<p><strong>numPartitions:</strong> Number of partitions to use when grouping fields. If not specified, the execution
framework will decide on the number to use.</p>
</div>
<div class="section" id="example">
<span id="example"></span><h2><a class="headerlink" href="#example" title="Perma-link to this heading">ðŸ”—</a>Example</h2>
<p>This example inner joins records from <code class="docutils literal"><span class="pre">customers</span></code> and <code class="docutils literal"><span class="pre">purchases</span></code> inputs on customer id and selects customer_id, name, item and price fields.</p>
<pre class="literal-block">
{
    &quot;name&quot;: &quot;Joiner&quot;,
    &quot;type&quot;: &quot;batchjoiner&quot;,
    &quot;properties&quot;: {
        &quot;selectedFields&quot;: &quot;customers.id as customer_id,customers.first_name as name,purchases.item,purchases.price&quot;,
        &quot;requiredInputs&quot;: &quot;customers, purchases&quot;,
        &quot;joinKeys&quot;: &quot;customers.id = purchases.customer_id&quot;
    }
}
</pre>
<p>For example, suppose the joiner receives input records from customers and purchases as below:</p>
<pre class="literal-block">
+=================================================================================================+
| id | first_name | last_name |  street_address      |   city    | state | zipcode | phone number |  
+=================================================================================================+
| 1  | Douglas    | Williams  | 1, Vista Montana     | San Jose  | CA    | 95134   | 408-777-3214 |
| 2  | David      | Johnson   | 3, Baypointe Parkway | Houston   | TX    | 78970   | 804-777-2341 |
| 3  | Hugh       | Jackman   | 5, Cool Way          | Manhattan | NY    | 67263   | 708-234-2168 |
| 4  | Walter     | White     | 3828, Piermont Dr    | Orlando   | FL    | 73498   | 201-734-7315 |
| 5  | Frank      | Underwood | 1609 Far St.         | San Diego | CA    | 29770   | 201-506-8756 |
| 6  | Serena     | Woods     | 123 Far St.          | Las Vegas | Nv    | 45334   | 888-605-3479 |
+=================================================================================================+

+==============================+
| customer_id | item   | price |      
+==============================+
| 1           | donut  | 0.80  |
| 1           | coffee | 2.05  |
| 2           | donut  | 1.50  |
| 2           | plate  | 0.50  |
| 3           | tea    | 1.99  |
| 5           | cookie | 0.50  |
+==============================+
</pre>
<p>Output records will contain inner join on customer id:</p>
<pre class="literal-block">
+========================================+
| customer_id | name    | item   | price |
+========================================+
| 1           | Douglas | donut  | 0.80  |
| 1           | Douglas | coffee | 2.05  |
| 2           | David   | donut  | 1.50  |
| 2           | David   | plate  | 0.50  |
| 3           | Hugh    | tea    | 1.99  |
| 5           | Frank   | cookie | 0.50  |
+========================================+
</pre>
<hr class="docutils" />
<ul class="simple">
<li>Hydrator Plugin Type: batchjoiner</li>
<li>Hydrator Version: 1.4.1</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

  <div role="note" aria-label="manuals links">
    <h3><a href="../../table-of-contents/../../index.html" rel="nofollow">CDAP Documentation v3.5.3</a></h3>
    
    <ul class="this-page-menu">
      <li><div class=""></div><a href="../../table-of-contents/../../introduction/index.html" rel="nofollow">Introduction to CDAP</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../developers-manual/index.html" rel="nofollow">Developersâ€™ Manual</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../admin-manual/index.html" rel="nofollow">Administration Manual</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../integrations/index.html" rel="nofollow">Integrations</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../examples-manual/index.html" rel="nofollow">Examples, Guides, and Tutorials</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../reference-manual/index.html" rel="nofollow">Reference Manual</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../faqs/index.html" rel="nofollow">FAQs</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../reference-manual/release-notes.html" rel="nofollow">Release Notes</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../reference-manual/glossary.html" rel="nofollow">Glossary</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../search.html" rel="nofollow">Search</a></li>
    </ul>
    <h3 class="cdap-extensions">CDAP Extensions</h3>
    
    <ul class="this-page-menu">
      <li><div class=""></div><a href="../../table-of-contents/../../hydrator-manual/index.html" rel="nofollow">Cask Hydrator</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../tracker-manual/index.html" rel="nofollow">Cask Tracker</a></li>
    </ul>
  </div>
    
  <h3 class="pagenavtitle"><a href="../../table-of-contents.html">Cask Hydrator: Table&nbsp;of&nbsp;Contents</a></h3>
    <nav class="pagenav">
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html"> Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts-design.html"> Concepts and Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started.html"> Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../studio.html"> Hydrator Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../creating-pipelines.html"> Creating Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../running-pipelines.html"> Running Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plugin-management.html"> Plugin Management</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html"> Plugin Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../actions/index.html"> Action Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sources/index.html"> Source Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transforms/index.html"> Transform Plugins</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html"> Analytic Plugins</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="deduplicate-batchaggregator.html">Deduplicate</a></li>
<li class="toctree-l3"><a class="reference internal" href="distinct-batchaggregator.html">Distinct Aggregator</a></li>
<li class="toctree-l3"><a class="reference internal" href="groupbyaggregate-batchaggregator.html">GroupBy Aggregate</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">Joiner</a></li>
<li class="toctree-l3"><a class="reference internal" href="naivebayesclassifier-sparkcompute.html">Naive Bayes Classifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="rowdenormalizer-batchaggregator.html">Row Denormalizer</a></li>
<li class="toctree-l3"><a class="reference internal" href="DPB-naivebayestrainer-sparksink.html">Naive Bayes Trainer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../sinks/index.html"> Sink Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shared-plugins/index.html"> Shared Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../post-run-plugins/index.html"> Post-run Plugins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developing-pipelines.html"> Developing Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developing-plugins/index.html"> Developing Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how-hydrator-works.html"> How Hydrator Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faqs.html"> FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html"> Glossary</a></li>
</ul>
 
    </nav>
  
<div id="searchbox" style="display: none" role="search">
  <h3>Quick Search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="downloads links">
    <h3>Downloads</h3>
    <ul class="this-page-menu">
      <li><a href="http://docs.cask.co/cdap/3.5.3/cdap-docs-3.5.3-web.zip"
            rel="nofollow">Zip Archive of CDAP Documentation</a></li>
    </ul>
   </div>
<div role="note" aria-label="other links">
    <h3><a href="http://docs.cask.co/" target="_blank">Documentation</a></h3>
    <ul class="this-page-menu">
        <li><a href="http://docs.cask.co/cdap/index.html" target="_blank">CDAP</a></li>
        <li><a href="http://docs.cask.co/coopr/index.html" target="_blank">Coopr</a></li>
        <li><a href="http://docs.cask.co/tigon/index.html" target="_blank">Tigon</a></li>
    </ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">

<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}
.tg td{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg th{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg .tg-s6z2{text-align:center;}
.tg .tg-0ord{text-align:right;}
.tg a{font-weight:bold;}
</style>
<table class="tg" width= 100%>

  <tr>
    <th class="tg-031e">Previous Topic: 
    <a title="GroupBy Aggregate" href="groupbyaggregate-batchaggregator.html" />GroupBy Aggregate</a>&nbsp;&nbsp;
    </th>
    
    <th class="tg-s6z2">
        Copyright &copy; 2014-2017 Cask Data, Inc.
      &bull; Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </th>
    <th class="tg-0ord">&nbsp;&nbsp;Next Topic:
    <a title="Naive Bayes Classifier" href="naivebayesclassifier-sparkcompute.html" />Naive Bayes Classifier</a>
    </th>

  </tr>
</table>

    </div>
  </body>
</html>