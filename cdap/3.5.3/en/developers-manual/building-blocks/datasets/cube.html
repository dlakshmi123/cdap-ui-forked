<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KWLFGH');</script>
    <!-- End Google Tag Manager -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="Cask Data, Inc." name="author" />
<meta content="Copyright Â© 2015 Cask Data, Inc." name="copyright" />

    
    
    <meta name="git_release" content="3.5.3">
    <meta name="git_hash" content="df76fc573ba695366c529aad811217c43a173769">
    <meta name="git_timestamp" content="2017-01-21 16:09:27 -0800">
    <title>Cube Dataset &mdash; Cask Data Application Platform 3.5.3 Documentation</title>

    <link rel="canonical" href="http://docs.cask.co/cdap/3.5.3/en/developers-manual/building-blocks/datasets/cube.html">

    
    <link rel="stylesheet" href="../../_static/cdap.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/annotator.min.css" type="text/css" />



    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.5.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/copy-to-clipboard.js"></script>
    <script type="text/javascript" src="../../_static/tabbed-parsed-literal.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Cask Data Application Platform 3.5.3 Documentation" href="../../index.html" />
    <link rel="up" title="Datasets" href="index.html" />
    <link rel="next" title="Views" href="../views.html" />
    <link rel="prev" title="System and Custom Datasets" href="system-custom.html" /> 
  </head>
  <body role="document">

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KWLFGH"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="../views.html" title="Views"
             accesskey="N">Next</a> |</li>
        <li class="right" >
          <a href="system-custom.html" title="System and Custom Datasets"
             accesskey="P">Previous</a> |</li>
        
        <script type="text/javascript" src="../../_static/version-menu.js"></script>
        <script src="http://docs.cask.co/cdap/json-versions.js"/></script>
        <script>window.setVersion('3.5.3');</script>
       
        <li><a href="../../table-of-contents.html">Developersâ€™ Manual</a> &raquo;</li>
          <li><a href="../index.html" >Building Blocks</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Datasets</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div id="documentwrapper" class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="cube-dataset">
<span id="datasets-cube"></span><h1><a class="headerlink" href="#cube-dataset" title="Perma-link to this heading">ðŸ”—</a>Cube Dataset</h1>
<div class="section" id="overview">
<h2><a class="headerlink" href="#overview" title="Perma-link to this heading">ðŸ”—</a>Overview</h2>
<p>A <a class="reference external" href="../../../reference-manual/javadocs/co/cask/cdap/api/dataset/lib/cube/package-summary.html">Cube dataset</a>
is an implementation of an <a class="reference external" href="http://en.wikipedia.org/wiki/OLAP_cube">OLAP Cube</a> that is
pre-packaged with CDAP. Cube datasets store multidimensional facts and provide a querying
interface for the retrieval of the data. Additionally, Cube datasets allows for
exploring of the data stored in the Cube.</p>
</div>
<div class="section" id="storing-data">
<h2><a class="headerlink" href="#storing-data" title="Perma-link to this heading">ðŸ”—</a>Storing Data</h2>
<p>A Cube dataset stores multidimensional <code class="docutils literal"><span class="pre">CubeFacts</span></code> that contain dimension values,
measurements, and an associated timestamp:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CubeFact</span> <span class="o">{</span>
 <span class="kd">public</span> <span class="nf">CubeFact</span><span class="o">(</span><span class="kt">long</span> <span class="n">timestamp</span><span class="o">)</span> <span class="o">{...}</span>
 <span class="kd">public</span> <span class="n">CubeFact</span> <span class="nf">addDimensionValue</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="n">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{...}</span>
 <span class="kd">public</span> <span class="n">CubeFact</span> <span class="nf">addMeasurement</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="n">MeasureType</span> <span class="n">type</span><span class="o">,</span> <span class="kt">long</span> <span class="n">value</span><span class="o">)</span> <span class="o">{...}</span>
 <span class="c1">// ...</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">timestamp</span></code> is an epoch in seconds</li>
<li>Dimension values are key-value pairs of a dimension <code class="docutils literal"><span class="pre">name</span></code> and <code class="docutils literal"><span class="pre">value</span></code></li>
<li>Measurements have a <code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">type</span></code>, and <code class="docutils literal"><span class="pre">value</span></code></li>
</ul>
<p>An example of a fact could be data collected by a OS monitoring tool from a server at a
specific time:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">timestamp=1429929000</span></code> <em>(equivalent to Sat, 25 Apr 2015 02:29:59 GMT)</em></li>
<li><code class="docutils literal"><span class="pre">dimensions</span></code><ul>
<li><code class="docutils literal"><span class="pre">rackId=&quot;rack1&quot;</span></code></li>
<li><code class="docutils literal"><span class="pre">serverId=&quot;server0002&quot;</span></code></li>
</ul>
</li>
<li><code class="docutils literal"><span class="pre">measurements</span></code><ul>
<li><code class="docutils literal"><span class="pre">cpu.used(gauge)=60</span></code></li>
<li><code class="docutils literal"><span class="pre">disk.reads(counter)=23244</span></code></li>
</ul>
</li>
</ul>
<p>Currently, two types of measurements are supported: gauge and counter.</p>
</div>
<div class="section" id="writing-data">
<h2><a class="headerlink" href="#writing-data" title="Perma-link to this heading">ðŸ”—</a>Writing Data</h2>
<p>The Cube Dataset API provides methods to write either a single fact or multiple facts at once:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Cube</span> <span class="kd">extends</span> <span class="n">Dataset</span><span class="o">,</span> <span class="n">BatchWritable</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">,</span> <span class="n">CubeFact</span><span class="o">&gt;</span> <span class="o">{</span>
 <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="n">CubeFact</span> <span class="n">fact</span><span class="o">);</span>
 <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="n">Collection</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">CubeFact</span><span class="o">&gt;</span> <span class="n">facts</span><span class="o">);</span>
 <span class="c1">// ...</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="cube-configuration">
<h2><a class="headerlink" href="#cube-configuration" title="Perma-link to this heading">ðŸ”—</a>Cube Configuration</h2>
<p>A Cube dataset allows for querying a pre-aggregated view of the data. That view needs to
be configured before any data is written to the Cube. Currently, a view is configured with
a list of dimensions and list of required dimensions using the <a class="reference internal" href="system-custom.html#custom-datasets-properties"><span>Dataset properties</span></a>.</p>
<p>A Cube can have multiple views configured. They can be altered by updating the dataset
properties using the <a class="reference external" href="../../source/../../reference-manual/http-restful-api/dataset.html#http-restful-api-dataset-updating" title="(in Cask Data Application Platform v3.5.3)"><span class="xref std std-ref">Dataset RESTful API</span></a>.</p>
<p>Here's an example of configuring a pre-aggregated view via the dataset properties:</p>
<a class="reference internal image-reference" href="../../_images/cube-example.png"><img alt="../../_images/cube-example.png" class="align-center" src="../../_images/cube-example.png" style="width: 642px;" /></a>
<p>On the bottom are two Cube dataset properties that correspond to a logical view
(aggregation) that can be defined with the SQL-like statement on the top.</p>
<p>In this example, the view is configured with two dimensions: <code class="docutils literal"><span class="pre">rack</span></code> and <code class="docutils literal"><span class="pre">server</span></code>.
Values for both are required: the data of a CubeFact is aggregated in this view only if a
CubeFact has non-null values for both dimensions.</p>
<p>In addition to configuring aggregation views, a Cube can be configured to aggregate
for multiple time resolutions based on the <code class="docutils literal"><span class="pre">dataset.cube.resolutions</span></code> property, which
takes a comma-separated list of resolution values in seconds, such as <code class="docutils literal"><span class="pre">1,60,3600</span></code>
(corresponding to 1 second, 1 minute, or 1 hour resolutions):</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">dataset.cube.resolutions=1,60,3600</span>
</pre></div>
</div>
<p>By default, if no <code class="docutils literal"><span class="pre">dataset.cube.resolutions</span></code> property is provided, a resolution of 1
second is used.</p>
</div>
<div class="section" id="querying-data">
<h2><a class="headerlink" href="#querying-data" title="Perma-link to this heading">ðŸ”—</a>Querying Data</h2>
<p>Querying data in Cube dataset is the most useful part of it. One can slice, dice and
drill down into the data of the Cube. Use these methods of the API to perform queries:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Cube</span> <span class="kd">extends</span> <span class="n">Dataset</span><span class="o">,</span> <span class="n">BatchWritable</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">,</span> <span class="n">CubeFact</span><span class="o">&gt;</span> <span class="o">{</span>
 <span class="n">Collection</span><span class="o">&lt;</span><span class="n">TimeSeries</span><span class="o">&gt;</span> <span class="nf">query</span><span class="o">(</span><span class="n">CubeQuery</span> <span class="n">query</span><span class="o">);</span>
 <span class="c1">// ...</span>
<span class="o">}</span>
</pre></div>
</div>
<p>To understand the <code class="docutils literal"><span class="pre">CubeQuery</span></code> interface, let's look at an example:</p>
<a class="reference internal image-reference" href="../../_images/cube-example2.png"><img alt="../../_images/cube-example2.png" class="align-center" src="../../_images/cube-example2.png" style="width: 908px;" /></a>
<p>On the right is an example of how to build a Java <code class="docutils literal"><span class="pre">CubeQuery</span></code> corresponding to the
SQL-like statement shown on the left.</p>
<p>In this example, we query two measurements: <code class="docutils literal"><span class="pre">cpu.used</span></code> and <code class="docutils literal"><span class="pre">disk.reads</span></code> and use max
and sum functions to perform aggregation if needed. The query is performed on
<code class="docutils literal"><span class="pre">rack+server</span></code> aggregated view at 1 minute resolution. The data is selected for those
records that have a rack dimension value of <code class="docutils literal"><span class="pre">rack1</span></code> and for the given time range. The data is
grouped by <code class="docutils literal"><span class="pre">server</span></code> values and each resulting time series is limited to 100 data points.</p>
<p>The result of the query is a collection of <code class="docutils literal"><span class="pre">TimeSeries</span></code>. Each timeseries corresponds to
a specific measurement and a combination of dimension values of those specified in the <code class="docutils literal"><span class="pre">groupBy</span></code>
part:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">TimeSeries</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">measureName</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">dimensionValues</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">TimeValue</span><span class="o">&gt;</span> <span class="n">timeValues</span><span class="o">;</span>
  <span class="c1">// ...</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="exploring-data">
<h2><a class="headerlink" href="#exploring-data" title="Perma-link to this heading">ðŸ”—</a>Exploring Data</h2>
<p>Many times, in order to construct a useful query, you have to explore and discover what
data is available in the Cube. For that, Cube provides exploration APIs to search for
available dimension values and measurements in specific selection of the Cube data:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Cube</span> <span class="kd">extends</span> <span class="n">Dataset</span><span class="o">,</span> <span class="n">BatchWritable</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">,</span> <span class="n">CubeFact</span><span class="o">&gt;</span> <span class="o">{</span>
 <span class="n">Collection</span><span class="o">&lt;</span><span class="n">DimensionValue</span><span class="o">&gt;</span> <span class="nf">findDimensionValues</span><span class="o">(</span><span class="n">CubeExploreQuery</span> <span class="n">query</span><span class="o">);</span>
 <span class="n">Collection</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">findMeasureNames</span><span class="o">(</span><span class="n">CubeExploreQuery</span> <span class="n">query</span><span class="o">);</span>
 <span class="c1">// ...</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">findDimensionValues</span></code> method finds all dimension values that the data selection
defined by <code class="docutils literal"><span class="pre">CubeExploreQuery</span></code> has, in addition to those specified in the
<code class="docutils literal"><span class="pre">CubeExploreQuery</span></code> itself. Each returned value can be added to the original
<code class="docutils literal"><span class="pre">CubeExploreQuery</span></code> to further drill down into the Cube data.</p>
<p>The <code class="docutils literal"><span class="pre">findMeasureNames</span></code> method finds all measurements that exist in the data selection specified
within a <code class="docutils literal"><span class="pre">CubeExploreQuery</span></code>.</p>
<p><code class="docutils literal"><span class="pre">CubeExploreQuery</span></code> is performed across all aggregation views and allows you to configure
time range, resolution, dimension values to filter by, and limit the returned results
count:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">CubeExploreQuery</span> <span class="n">exploreQuery</span> <span class="o">=</span> <span class="n">CubeExploreQuery</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">from</span><span class="o">()</span>
    <span class="o">.</span><span class="na">resolution</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">TimeUnit</span><span class="o">.</span><span class="na">MINUTES</span><span class="o">)</span>
  <span class="o">.</span><span class="na">where</span><span class="o">()</span>
    <span class="o">.</span><span class="na">dimension</span><span class="o">(</span><span class="s">&quot;rack&quot;</span><span class="o">,</span> <span class="s">&quot;rack1&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">timeRange</span><span class="o">(</span><span class="mi">1423370200</span><span class="o">,</span> <span class="mi">1423398198</span><span class="o">)</span>
  <span class="o">.</span><span class="na">limit</span><span class="o">(</span><span class="mi">100</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</pre></div>
</div>
<p>This query defines the data selection as 1 minute resolution aggregations that have rack
dimension with value <code class="docutils literal"><span class="pre">rack1</span></code> and the specified time range. It limits the number of
results to 100.</p>
</div>
<div class="section" id="abstractcubehttphandler">
<h2><a class="headerlink" href="#abstractcubehttphandler" title="Perma-link to this heading">ðŸ”—</a>AbstractCubeHttpHandler</h2>
<p>CDAP comes with an AbstractCubeHttpHandler that can be used to quickly add a Service in
your application that provides a RESTful API on top of your Cube dataset. It is an abstract
class with only a single method to be implemented by its subclass that returns the Cube dataset
to query in:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">protected</span> <span class="kd">abstract</span> <span class="n">Cube</span> <span class="nf">getCube</span><span class="o">();</span>
</pre></div>
</div>
<p>Hereâ€™s an example of an application with a Cube dataset and an HTTP Service that provides
RESTful access to it:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AppWithCube</span> <span class="kd">extends</span> <span class="n">AbstractApplication</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CUBE_NAME</span> <span class="o">=</span> <span class="s">&quot;cube&quot;</span><span class="o">;</span>
  <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">SERVICE_NAME</span> <span class="o">=</span> <span class="s">&quot;service&quot;</span><span class="o">;</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">configure</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">DatasetProperties</span> <span class="n">props</span> <span class="o">=</span> <span class="n">DatasetProperties</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
      <span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&quot;dataset.cube.resolutions&quot;</span><span class="o">,</span> <span class="s">&quot;1,60&quot;</span><span class="o">)</span>
      <span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&quot;dataset.cube.aggregation.agg1.dimensions&quot;</span><span class="o">,</span> <span class="s">&quot;user,action&quot;</span><span class="o">)</span>
      <span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&quot;dataset.cube.aggregation.agg1.requiredDimensions&quot;</span><span class="o">,</span> <span class="s">&quot;user,action&quot;</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
    <span class="n">createDataset</span><span class="o">(</span><span class="n">CUBE_NAME</span><span class="o">,</span> <span class="n">Cube</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">props</span><span class="o">);</span>

    <span class="n">addService</span><span class="o">(</span><span class="n">SERVICE_NAME</span><span class="o">,</span> <span class="k">new</span> <span class="n">CubeHandler</span><span class="o">());</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">CubeHandler</span> <span class="kd">extends</span> <span class="n">AbstractCubeHttpHandler</span> <span class="o">{</span>
    <span class="nd">@UseDataSet</span><span class="o">(</span><span class="n">CUBE_NAME</span><span class="o">)</span>
    <span class="kd">private</span> <span class="n">Cube</span> <span class="n">cube</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="n">Cube</span> <span class="nf">getCube</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">cube</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Example of the query in JSON format:</p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span>
    <span class="nt">&quot;aggregation&quot;</span><span class="p">:</span> <span class="s2">&quot;rack+server&quot;</span><span class="p">,</span>
    <span class="nt">&quot;startTs&quot;</span><span class="p">:</span> <span class="mi">1423370200</span><span class="p">,</span>
    <span class="nt">&quot;endTs&quot;</span><span class="p">:</span>   <span class="mi">1423398198</span><span class="p">,</span>
    <span class="nt">&quot;measurements&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;cpu.used&quot;</span><span class="p">:</span> <span class="s2">&quot;MAX&quot;</span><span class="p">,</span> <span class="nt">&quot;disk.reads&quot;</span><span class="p">:</span> <span class="s2">&quot;SUM&quot;</span><span class="p">},</span>
    <span class="nt">&quot;resolution&quot;</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
    <span class="nt">&quot;dimensionValues&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;rack&quot;</span><span class="p">:</span> <span class="s2">&quot;rack1&quot;</span><span class="p">},</span>
    <span class="nt">&quot;groupByDimensions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;server&quot;</span><span class="p">],</span>
    <span class="nt">&quot;limit&quot;</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example of the response in JSON format (pretty-printed to fit):</p>
<div class="highlight-json"><div class="highlight"><pre><span class="p">[</span>
    <span class="p">{</span>
        <span class="nt">&quot;measureName&quot;</span><span class="p">:</span> <span class="s2">&quot;disk.reads&quot;</span><span class="p">,</span>
        <span class="nt">&quot;dimensionValues&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;server&quot;</span><span class="p">:</span> <span class="s2">&quot;server1&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;timeValues&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="mi">1423370200</span><span class="p">,</span>
                <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="mi">969</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="mi">1423370260</span><span class="p">,</span>
                <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="mi">360</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="nt">&quot;measureName&quot;</span><span class="p">:</span> <span class="s2">&quot;disk.reads&quot;</span><span class="p">,</span>
        <span class="nt">&quot;dimensionValues&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;server&quot;</span><span class="p">:</span> <span class="s2">&quot;server2&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;timeValues&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="mi">1423370200</span><span class="p">,</span>
                <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="mi">23</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="mi">1423370260</span><span class="p">,</span>
                <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="mi">444</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="nt">&quot;measureName&quot;</span><span class="p">:</span> <span class="s2">&quot;cpu.used&quot;</span><span class="p">,</span>
        <span class="nt">&quot;dimensionValues&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;server&quot;</span><span class="p">:</span> <span class="s2">&quot;server1&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;timeValues&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="mi">1423370200</span><span class="p">,</span>
                <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="mi">50</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="mi">1423370260</span><span class="p">,</span>
                <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="mi">55</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="nt">&quot;measureName&quot;</span><span class="p">:</span> <span class="s2">&quot;cpu.used&quot;</span><span class="p">,</span>
        <span class="nt">&quot;dimensionValues&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;server&quot;</span><span class="p">:</span> <span class="s2">&quot;server2&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;timeValues&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="mi">1423370200</span><span class="p">,</span>
                <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="mi">12</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="mi">1423370260</span><span class="p">,</span>
                <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="mi">56</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p class="rubric">Examples of Using Cube Dataset</p>
<p>An example of using a Cube Dataset is included in the CDAP Guide <a class="reference external" href="../../source/../../examples-manual/how-to-guides/cdap-cube-guide.html#cdap-cube-guide" title="(in Cask Data Application Platform v3.5.3)"><span class="xref std std-ref">Data Analysis with
OLAP Cube</span></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

  <div role="note" aria-label="manuals links">
    <h3><a href="../../table-of-contents/../../index.html" rel="nofollow">CDAP Documentation v3.5.3</a></h3>
    
    <ul class="this-page-menu">
      <li><div class=""></div><a href="../../table-of-contents/../../introduction/index.html" rel="nofollow">Introduction to CDAP</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../developers-manual/index.html" rel="nofollow">Developersâ€™ Manual</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../admin-manual/index.html" rel="nofollow">Administration Manual</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../integrations/index.html" rel="nofollow">Integrations</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../examples-manual/index.html" rel="nofollow">Examples, Guides, and Tutorials</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../reference-manual/index.html" rel="nofollow">Reference Manual</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../faqs/index.html" rel="nofollow">FAQs</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../reference-manual/release-notes.html" rel="nofollow">Release Notes</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../reference-manual/glossary.html" rel="nofollow">Glossary</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../search.html" rel="nofollow">Search</a></li>
    </ul>
    <h3 class="cdap-extensions">CDAP Extensions</h3>
    
    <ul class="this-page-menu">
      <li><div class=""></div><a href="../../table-of-contents/../../hydrator-manual/index.html" rel="nofollow">Cask Hydrator</a></li>
      <li><div class=""></div><a href="../../table-of-contents/../../tracker-manual/index.html" rel="nofollow">Cask Tracker</a></li>
    </ul>
  </div>
    
  <h3 class="pagenavtitle"><a href="../../table-of-contents.html">Developersâ€™ Manual: Table&nbsp;of&nbsp;Contents</a></h3>
    <nav class="pagenav">
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html"> Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.html"> Getting Started Developing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/index.html"> Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html"> Building Blocks</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../core.html"> Core Abstractions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../applications.html"> Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../streams.html"> Streams</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html"> Datasets</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="overview.html"> Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="table.html"> Table API</a></li>
<li class="toctree-l3"><a class="reference internal" href="fileset.html"> FileSets</a></li>
<li class="toctree-l3"><a class="reference internal" href="partitioned-fileset.html"> Partitioned FileSets</a></li>
<li class="toctree-l3"><a class="reference internal" href="time-partitioned-fileset.html"> TimePartitioned FileSets</a></li>
<li class="toctree-l3"><a class="reference internal" href="system-custom.html"> System and Custom Datasets</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href=""> Cube Dataset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#storing-data">Storing Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#writing-data">Writing Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cube-configuration">Cube Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#querying-data">Querying Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exploring-data">Exploring Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#abstractcubehttphandler">AbstractCubeHttpHandler</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../views.html"> Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../flows-flowlets/index.html"> Flows and Flowlets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mapreduce-programs.html"> MapReduce Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins.html"> Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schedules.html"> Schedules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../secure-keys.html"> Secure Keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services.html"> Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spark-programs.html"> Spark Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workers.html"> Workers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workflows.html"> Workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../artifacts.html"> Artifacts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metadata-lineage.html"> Metadata and Lineage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../audit-logging.html"> Audit Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../namespaces.html"> Namespaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transaction-system.html"> Transaction System</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../security/index.html"> Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/index.html"> Testing and Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ingesting-tools/index.html"> Ingesting Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data-exploration/index.html"> Data Exploration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced/index.html"> Advanced Topics</a></li>
</ul>
 
    </nav>
  
<div id="searchbox" style="display: none" role="search">
  <h3>Quick Search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="downloads links">
    <h3>Downloads</h3>
    <ul class="this-page-menu">
      <li><a href="http://docs.cask.co/cdap/3.5.3/cdap-docs-3.5.3-web.zip"
            rel="nofollow">Zip Archive of CDAP Documentation</a></li>
    </ul>
   </div>
<div role="note" aria-label="other links">
    <h3><a href="http://docs.cask.co/" target="_blank">Documentation</a></h3>
    <ul class="this-page-menu">
        <li><a href="http://docs.cask.co/cdap/index.html" target="_blank">CDAP</a></li>
        <li><a href="http://docs.cask.co/coopr/index.html" target="_blank">Coopr</a></li>
        <li><a href="http://docs.cask.co/tigon/index.html" target="_blank">Tigon</a></li>
    </ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">

<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}
.tg td{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg th{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg .tg-s6z2{text-align:center;}
.tg .tg-0ord{text-align:right;}
.tg a{font-weight:bold;}
</style>
<table class="tg" width= 100%>

  <tr>
    <th class="tg-031e">Previous Topic: 
    <a title="System and Custom Datasets" href="system-custom.html" />System and Custom Datasets</a>&nbsp;&nbsp;
    </th>
    
    <th class="tg-s6z2">
        Copyright &copy; 2014-2017 Cask Data, Inc.
      &bull; Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </th>
    <th class="tg-0ord">&nbsp;&nbsp;Next Topic:
    <a title="Views" href="../views.html" />Views</a>
    </th>

  </tr>
</table>

    </div>
  </body>
</html>