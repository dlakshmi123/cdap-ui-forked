<div class="row" ng-controller="AppsSectionCtrl as AppsSectionCtrl">
  <div class="col-xs-12 col-md-6">
    <div ng-if="AppsSectionCtrl.dataList.length > 0">
      <h3> Data </h3>
      <div class="row">
        <div class="col-xs-12 col-sm-3">
          <p ng-if="AppsSectionCtrl.dataList.length < 5"> Showing {{ AppsSectionCtrl.dataList.length }} of {{ AppsSectionCtrl.dataList.length }}</p>
          <p ng-if="AppsSectionCtrl.dataList.length >= 5"> Showing 5 of {{ AppsSectionCtrl.dataList.length }}</p>
        </div>
        <div class="col-xs-12 col-sm-9">
          <div class="btn-group">
            <a ui-sref="data.list" class="btn btn-default">
              <span class="fa fa-list-ul"></span>
              <span>All Datasets</span>
            </a>
            <a ui-sref="explore" class="btn btn-default">
              <span class="fa fa-eye"></span>
              <span>Explore</span>
            </a>
            <a ui-sref="admin.namespace.detail.data.streamcreate({nsadmin: $state.params.namespace})" class="btn btn-default">
              <span class="fa fa-plus"></span>
              <span>Add Stream</span>
            </a>
          </div>
        </div>
      </div>

      <ul class="list-group" >
        <li class="list-group-item" ng-repeat="data in AppsSectionCtrl.dataList | orderBy:MyOrderings.dataOrdering | limitTo: 5 track by $index ">
          <a ng-if="data.type === 'Stream'" ui-sref="streams.detail.overview.status({streamId: data.name})" ng-click="AppsSectionCtrl.MyOrderings.dataClicked(data.name)">
            <p ng-bind="data.name"> </p>
            <div class="title-type-image">
              <span class="icon-streams"></span>
              <span> Stream </span>
            </div>
          </a>
          <a ng-if="data.type !== 'Stream'" ui-sref="datasets.detail.overview.status({datasetId: data.name})" ng-click="AppsSectionCtrl.MyOrderings.dataClicked(data.name)">
            <p ng-bind="data.name"> </p>
            <div class="title-type-image">
              <span class="icon-datasets"></span>
              <span> Dataset </span>
            </div>
          </a>
        </li>
      </ul>
    </div>

    <div ng-if="AppsSectionCtrl.dataList.length === 0">
      <div class="clearfix">
        <h3> Data </h3>
        <p> You haven't deployed any datasets. Add one. </p>
      </div>
      <hr />
      <div class="text-left">
        <a class="btn btn-default" ui-sref="admin.namespace.detail.data.streamcreate({nsadmin: $state.params.namespace})">
          <span class="fa fa-plus"></span>
          <span>Add Stream</span>
        </a>
      </div>
    </div>
  </div>
  <div class="col-xs-12 col-md-6">
    <div ng-if="AppsSectionCtrl.apps.length > 0">
      <h3> Apps </h3>
      <div class="row">
        <div class="col-xs-12 col-sm-3">
          <p ng-if="AppsSectionCtrl.apps.length < 5"> Showing {{ AppsSectionCtrl.apps.length }} of {{ AppsSectionCtrl.apps.length }}</p>
          <p ng-if="AppsSectionCtrl.apps.length >= 5"> Showing 5 of {{ AppsSectionCtrl.apps.length }}</p>
        </div>
        <div class="col-xs-12 col-sm-9">
          <div class="btn-group">
            <a ui-sref="apps.list" class="btn btn-default">
              <span class="fa fa-list-ul"></span>
               <span>All Apps</span>
            </a>

            <div class="btn-group dropdown-right" dropdown>
              <button type="button" class="btn btn-default dropdown-toggle white-dropdown" dropdown-toggle>
                Add App <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" role="menu">
                <li>
                  <my-file-select dropdown="true"
                                  data-button-label="Custom App"
                                  on-file-select="AppsSectionCtrl.onFileSelected($files)">
                  </my-file-select>
                </li>
                <li>
                  <a ui-sref="adapters.create({type: 'ETLBatch'})" class="clearfix">
                    <span class="pull-left">ETL Batch App</span>
                    <i class="icon-ETLBatch pull-right"></i>
                  </a>
                </li>
                <li>
                  <a ui-sref="adapters.create({type: 'ETLRealtime'})" class="clearfix">
                    <span class="pull-left">ETL Realtime App</span>
                    <i class="icon-ETLRealtime pull-right"></i>
                  </a>
                </li>
                <li>
                  <a ui-sref="adapters.list"> Drafts </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <ul class="list-group">
        <li class="list-group-item" ng-repeat="app in AppsSectionCtrl.apps | orderBy:AppsSectionCtrl.MyOrderings.appOrdering | limitTo:5">
          <a ui-sref="apps.detail.overview.status({appId: app.id})"
              ng-if="app.type !== 'adapter'"
              ng-click="AppsSectionCtrl.MyOrderings.appClicked(app.id)">
            <p ng-bind="app.name"> </p>
            <div class="title-type-image">
              <span class="icon-fist"></span>
              <span> App </span>
            </div>
          </a>
          <a ui-sref="adapters.detail.runs({adapterId: app.name})"
              ng-if="app.type === 'adapter'"
              ng-click="AppsSectionCtrl.MyOrderings.appClicked(app.id)">
            <p ng-bind="app.name"> </p>
            <div class="title-type-image">
              <span class="icon-{{app.template}}"></span>
              <span> {{app.template}} </span>
            </div>
          </a>
        </li>
      </ul>
    </div>

    <div ng-if="AppsSectionCtrl.apps.length === 0">
      <div class="clearfix">
        <h3> Apps </h3>
        <p> You haven't deployed any apps. Add one. </p>
      </div>
      <hr />
      <div class="btn-group dropdown-right" dropdown>
        <button type="button" class="btn btn-default dropdown-toggle white-dropdown" dropdown-toggle>
          Add App <span class="caret"></span>
        </button>
        <ul class="dropdown-menu dropdown-menu-right" role="menu">
          <li>
            <my-file-select dropdown="true"
                            data-button-label="Custom App"
                            on-file-select="AppsSectionCtrl.onFileSelected($files)">
            </my-file-select>
          </li>
          <li>
            <a ui-sref="adapters.create({type: 'ETLBatch'})" class="clearfix">
              <span class="pull-left">ETL Batch App</span>
              <i class="icon-ETLBatch pull-right"></i>
            </a>
          </li>
          <li>
            <a ui-sref="adapters.create({type: 'ETLRealtime'})" class="clearfix">
              <span class="pull-left">ETL Realtime App</span>
              <i class="icon-ETLRealtime pull-right"></i>
            </a>
          </li>
          <li>
            <a ui-sref="adapters.list"> Drafts </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
